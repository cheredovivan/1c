
#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	Если Параметры.МассивРД <> Неопределено Тогда
	
		Для Каждого СтрокаРД Из Параметры.МассивРД Цикл
			
			НоваяСтрокаРД = РазрешительнаяДокументация.Добавить();
			ЗаполнитьЗначенияСвойств(НоваяСтрокаРД, СтрокаРД);
			
			НоваяСтрокаРД.ИндексСтатусаРазрешительнойДокументации = 
				ИнтерфейсИСМПОбщегоНазначенияКлиентСервер.ГруппаСтатусовРазрешительныхДокументов(НоваяСтрокаРД.ГруппаСтатуса);
			
		КонецЦикла;
		
	КонецЕсли;
	
	ОбщийСтатус = Параметры.ОбщийСтатусРД;
	
	Если ОбщийСтатус = Перечисления.ГруппыСтатусовРазрешительныхДокументовИСМП.ЗеленыйСтатус Тогда
		Элементы.СтраницыВариантыСтатусов.ТекущаяСтраница = Элементы.СтраницаЗеленыйСтатус;
	ИначеЕсли ОбщийСтатус = Перечисления.ГруппыСтатусовРазрешительныхДокументовИСМП.ЖелтыйСтатус Тогда
		Элементы.СтраницыВариантыСтатусов.ТекущаяСтраница = Элементы.СтраницаЖелтыйСтатус;
	ИначеЕсли ОбщийСтатус = Перечисления.ГруппыСтатусовРазрешительныхДокументовИСМП.КрасныйСтатус Тогда
		Элементы.СтраницыВариантыСтатусов.ТекущаяСтраница = Элементы.СтраницаКрасныйСтатус;
	ИначеЕсли ОбщийСтатус = Перечисления.ГруппыСтатусовРазрешительныхДокументовИСМП.НеизвестныйСтатус Тогда
		Элементы.СтраницыВариантыСтатусов.ТекущаяСтраница = Элементы.СтраницаНеизвестныйСтатус;
	Иначе
		Элементы.ГруппаОписаниеОбщегоСтатуса.Видимость = Ложь;
	КонецЕсли;
	
КонецПроцедуры

#КонецОбласти