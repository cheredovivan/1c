#Область СлужебныеПроцедурыИФункции

Функция ПроверкаДокументаНаСоответствиеТребованиямГИСМТ(ПараметрыПроверки) Экспорт
	Возврат СоответствиеТребованиямГИСМТ.ПроверкаДокументаНаСоответствиеТребованиямГИСМТ(ПараметрыПроверки);
КонецФункции

Функция ФоноваяПроверкаДокументовГИСМТРазрешена() Экспорт
	Возврат СоответствиеТребованиямГИСМТ.ФоноваяПроверкаДокументовГИСМТРазрешена();
КонецФункции

Функция СостояниеФоновойПроверкиДокумента(ИдентификаторЗадания, АдресРезультата) Экспорт
	Возврат СоответствиеТребованиямГИСМТ.СостояниеФоновойПроверкиДокумента(ИдентификаторЗадания, АдресРезультата);
КонецФункции

Процедура ПрерватьФоновуюПроверкуДокумента(ИдентификаторЗадания) Экспорт
	СоответствиеТребованиямГИСМТ.ПрерватьФоновуюПроверкуДокумента(ИдентификаторЗадания);
КонецПроцедуры

Процедура ОтключитьПроверку(ДанныеДляИзменения) Экспорт
	
	Для Каждого ПараметрыИзменения Из ДанныеДляИзменения Цикл
		СоответствиеТребованиямГИСМТ.ЗафиксироватьРезультатПроверкиНаСоответствиеТребованиямГИСМТ(ПараметрыИзменения,,Истина);
	КонецЦикла;
	
КонецПроцедуры

Процедура ПослеПроверкиДокументаНаСоответствиеТребованиямГИСМТ(РезультатФоновогоЗадания) Экспорт
	ЛогированиеЗапросовИСМП.ДописатьВТекущийЛогДанныеИзФоновогоЗадания(РезультатФоновогоЗадания);
КонецПроцедуры

Процедура ОбновитьРезультатПроверкиДокументаНаСоответствиеТребованиямГИСМТПослеПробитияЧека(ДокументСсылка) Экспорт
	
	МассивДокументов = ОбщегоНазначенияКлиентСервер.ЗначениеВМассиве(ДокументСсылка);
	СоответствиеТребованиямГИСМТ.ПослеПробитияЧекаПоДокументу(МассивДокументов);
	
КонецПроцедуры

Процедура ОбновитьРезультатПроверкиДокументаНаСоответствиеТребованиямГИСМТПослеОформленияВыводаИзОборота(ДокументСсылка = Неопределено, ПредыдущийДокументСсылка = Неопределено) Экспорт
	
	Если ЗначениеЗаполнено(ДокументСсылка) Тогда
		СоответствиеТребованиямГИСМТ.ПослеПроведенияДокументаВыводИзОборотаПоДокументуОснованию(ДокументСсылка);
	КонецЕсли;
	
	Если ЗначениеЗаполнено(ПредыдущийДокументСсылка) И Не ПредыдущийДокументСсылка = ДокументСсылка Тогда
		СоответствиеТребованиямГИСМТ.ПослеОтменыПроведенияДокументаВыводИзОборотаПоДокументуОснованию(ПредыдущийДокументСсылка);
	КонецЕсли;
	
КонецПроцедуры

Процедура ОбновитьРасчетСтатусовПоДокументуПослеПроверокРазрешенияНаОтгрузку(ДокументСсылка) Экспорт
	
	Источники = ОбщегоНазначенияКлиентСервер.ЗначениеВМассиве(ДокументСсылка);
	РасчетСтатусовОформленияИСМП.РассчитатьСтатусыОформленияДокументов(Источники);
	
КонецПроцедуры

#КонецОбласти