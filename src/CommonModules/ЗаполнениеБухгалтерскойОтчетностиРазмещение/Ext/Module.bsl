#Область СлужебныйПрограммныйИнтерфейс

Функция СоставТаблицОтчета() Экспорт
	
	СоставТаблиц = Новый Массив;
	// Пояснения: Нематериальные активы (#3)
	СоставТаблиц.Добавить("НематериальныеАктивыНаличиеДвижение"); // 3.1
	СоставТаблиц.Добавить("НематериальныеАктивыСозданныеОрганизациейНаличиеДвижение"); // 3.2
	СоставТаблиц.Добавить("НематериальныеАктивыАмортизируемыеНеамортизируемые"); // 3.3
	СоставТаблиц.Добавить("КапитальныеВложенияНематериальныеАктивы"); // 3.5
	// Пояснения: Основные средства (#4)
	СоставТаблиц.Добавить("ОсновныеСредстваНаличиеДвижение"); // 4.1
	СоставТаблиц.Добавить("ПраваПользованияАктивамиНаличиеДвижение"); // 4.2
	СоставТаблиц.Добавить("ОсновныеСредстваАмортизируемыеНеамортизируемые"); // 4.3
	СоставТаблиц.Добавить("ОсновныеСредстваОграничения"); // 4.4
	СоставТаблиц.Добавить("КапитальныеВложенияОсновныеСредства"); // 4.5
	// Пояснения: Запасы (#6)
	СоставТаблиц.Добавить("ЗапасыНаличиеДвижение"); // 6.1
	СоставТаблиц.Добавить("ЗапасыОграничения"); // 6.2
	// Пояснения: Дебиторская задолженность (#7)
	СоставТаблиц.Добавить("ДебиторскаяЗадолженностьНаличиеДвижение"); // 7.1
	СоставТаблиц.Добавить("ДебиторскаяЗадолженностьПросроченная"); // 7.2
	// Пояснения: Обязательства (#8)
	СоставТаблиц.Добавить("КредиторскаяЗадолженностьНаличиеДвижение"); // 8.1
	СоставТаблиц.Добавить("КредиторскаяЗадолженностьПросроченная"); // 8.2
	СоставТаблиц.Добавить("ОценочныеОбязательства"); // 8.3
	// Пояснения: Обеспечения обязательств (#9)
	СоставТаблиц.Добавить("ОбеспеченияОбязательств");
	// Пояснения: Расходы по обычным видам деятельности (#10)
	СоставТаблиц.Добавить("Расходы");
	
	Возврат СоставТаблиц;
	
КонецФункции

Функция НовыйРезультатЗаполненияТаблицОтчета() Экспорт
	
	Результат = Новый Структура;
	
	Результат.Вставить("СкомпонованныеТаблицыОтчета", Новый Структура); // Ключ - имя таблицы по СоставТаблицОтчета; Значение - НовыйСкомпонованнаяТаблицаОтчета
	Результат.Вставить("Расшифровка"); // Любая коллекция, доступ к элементам которой доступен по индексу
	
	Возврат Результат;
	
КонецФункции

Функция НовыйСкомпонованнаяТаблицаОтчета() Экспорт
	
	ТаблицаОтчета = Новый Структура;
	
	ТаблицаОтчета.Вставить("Структура", НовыйСтруктураОтчета());
	ТаблицаОтчета.Вставить("Значения",  НовыйЗначенияЗаполненияОтчета());
	
	Возврат ТаблицаОтчета;
	
КонецФункции

Функция НовыйСтруктураОтчета() Экспорт
	
	СтруктураОтчета = Новый ДеревоЗначений;
	
	СтруктураОтчета.Колонки.Добавить("Идентификатор", ТипИдентификатор()); // Уникален в рамках дерева
	СтруктураОтчета.Колонки.Добавить("Вывод",         Новый ОписаниеТипов("Булево"));
	СтруктураОтчета.Колонки.Добавить("Показатель");   // любой идентификатор (немутабельный тип); для фиксированных строк - Строка из классификатора, заданного в ЗаполнитьОписаниеТаблицыОтчета
	СтруктураОтчета.Колонки.Добавить("Наименование",  Новый ОписаниеТипов("Строка")); // для вывода пользователю
	
	ИтоговаяСтрока = СтруктураОтчета.Строки.Добавить();
	ИтоговаяСтрока.Вывод = Истина;
	
	Возврат СтруктураОтчета;
	
КонецФункции

Функция НовыйЗначенияЗаполненияОтчета() Экспорт
	
	ЗначенияЗаполнения = Новый ТаблицаЗначений;
	
	ЗначенияЗаполнения.Колонки.Добавить("Показатель",  ТипИдентификатор()); // см. Идентификатор в НовыйСтруктураОтчета
	ЗначенияЗаполнения.Колонки.Добавить("Период",      ТипИдентификатор());
	ЗначенияЗаполнения.Колонки.Добавить("ИмяКолонки",  Новый ОписаниеТипов("Строка"));
	ЗначенияЗаполнения.Колонки.Добавить("Значение",    БухгалтерскаяОтчетностьБРО.ТипСумма());
	ЗначенияЗаполнения.Колонки.Добавить("Расшифровка", Новый ОписаниеТипов("Массив")); // индексы строк общей таблицы расшифровки
	
	Возврат ЗначенияЗаполнения;
	
КонецФункции

// Заполняет контейнер бухгалтерской отчетности данными и расшифровками, полученными из информационной базы.
//
// Параметры:
//   Контейнер - ДеревоЗначений
//   ДанныеЗаполнения - ДеревоЗначений
//
Процедура ЗаполнитьКонтейнер(Контейнер, ДанныеЗаполнения) Экспорт
	
	КешЗаполненияРасшифровки = Неопределено;
	
	Для Каждого ДанныеТаблицыОтчета Из ДанныеЗаполнения.СкомпонованныеТаблицыОтчета Цикл
		
		ПланКонтейнера = ПланКонтейнераТаблицыОтчета(ДанныеТаблицыОтчета.Ключ);
		Если ПланКонтейнера = Неопределено Тогда
			Продолжить;
		КонецЕсли;
		
		ДанныеРаздела = БухгалтерскаяОтчетностьБРО.НайтиРаздел(Контейнер, ПланКонтейнера.ИмяРазделаОтчета);
		Если ДанныеРаздела = Неопределено Тогда
			Продолжить;
		КонецЕсли;
		
		ЗаполнитьКонтейнерДаннымиТаблицыОтчета(
			ДанныеРаздела,
			ДанныеТаблицыОтчета.Значение,
			ДанныеЗаполнения.Расшифровка,
			ПланКонтейнера,
			КешЗаполненияРасшифровки);
			
	КонецЦикла;
	
КонецПроцедуры

Функция ИмяРазделаТаблицыОтчета(ИмяТаблицыОтчета) Экспорт
	
	План = ПланКонтейнераТаблицыОтчета(ИмяТаблицыОтчета);
	Если План = Неопределено Тогда
		Возврат "";
	КонецЕсли;
	
	Возврат План.ИмяРазделаОтчета;
	
КонецФункции

#КонецОбласти

#Область СлужебныеПроцедурыИФункции

#Область РазмещениеВКонтейнереОтчета

Функция НовыйПланКонтейнераТаблицыОтчета()
	
	План = Новый Структура;
	
	План.Вставить("ИмяТаблицыОтчета", "");
	План.Вставить("ИмяРазделаОтчета", "");
	
	// Типизация разметки по уровням в описании струтктуры переданной таблицы с данными.
	// Значения элементов могут принимать значения:
	//   "Условный" - служит техническим целям, в отчет не выводится;
	//   "Итого" - строка фиксированных показателей, являющихся суммой других фиксированных показателей;
	//   "Фиксированный" - строки фиксированных показателей, имеющие собственный идентификатор для описания;
	//   "МногострочнаяЧасть" - описание строк многострочной части;
	//   "ДополнениеМногострочнойЧасти" - описание строк многострочной части по расширенной кодировке граф,
	//      например, строка "из них исключительные права" таблицы 3.1 пояснений 3.
	// Правила подчинения (тип - родители):
	//   Фиксированный - Условный, Итого
	//   МногострочнаяЧасть - Фиксированный
	//   ДополнениеМногострочнойЧасти - МногострочнаяЧасть
	План.Вставить("ТипыРазметкиПоУровням", Новый Массив);
	
	План.Вставить("СтрокиПоПериодам", Новый Структура);
	План.Вставить("ГрафыПоПериодам", Новый Структура);
	План.Вставить("ДополнительныеГрафыПоПериодам", Новый Структура);
	
	План.Вставить("ИдентификаторыМногострочныхЧастей", Новый Структура);
	План.Вставить("СтрокиМСЧПоПериодам", Новый Структура);
	
	Возврат План;
	
КонецФункции

Функция ПланКонтейнераТаблицыОтчета(ИмяТаблицыОтчета) Экспорт
	
	ПланКонтейнера = НовыйПланКонтейнераТаблицыОтчета();
	ПланКонтейнера.ИмяТаблицыОтчета = ИмяТаблицыОтчета;
	
	Если ИмяТаблицыОтчета = "НематериальныеАктивыНаличиеДвижение" Тогда
		ЗаполнитьПланКонтейнераНематериальныеАктивыНаличиеДвижение(ПланКонтейнера); // Таблица 3.1
	ИначеЕсли ИмяТаблицыОтчета = "НематериальныеАктивыСозданныеОрганизациейНаличиеДвижение" Тогда
		ЗаполнитьПланКонтейнераНематериальныеАктивыСозданныеОрганизациейНаличиеДвижение(ПланКонтейнера); // Таблица 3.2
	ИначеЕсли ИмяТаблицыОтчета = "НематериальныеАктивыАмортизируемыеНеамортизируемые" Тогда
		ЗаполнитьПланКонтейнераНематериальныеАктивыАмортизируемыеНеамортизируемые(ПланКонтейнера); // Таблица 3.3
	ИначеЕсли ИмяТаблицыОтчета = "Таблица_3_4" Тогда
		// 3.4. Нематериальные активы, в отношении которых имеются ограничения имущественных прав
		ЗаполнитьПланКонтейнера_Таблица_3_4(ПланКонтейнера);
	ИначеЕсли ИмяТаблицыОтчета = "КапитальныеВложенияНематериальныеАктивы" Тогда
		// 3.5. Капитальные вложения в нематериальные активы
		ЗаполнитьПланКонтейнераКапитальныеВложенияНематериальныеАктивы(ПланКонтейнера);
	ИначеЕсли ИмяТаблицыОтчета = "Таблица_3_6" Тогда
		// 3.6. Права на результаты интеллектуальной деятельности, средства индивидуализации, учитываемые на забалансовых счетах
		ЗаполнитьПланКонтейнера_Таблица_3_6(ПланКонтейнера);
	ИначеЕсли ИмяТаблицыОтчета = "ОсновныеСредстваНаличиеДвижение" Тогда
		ЗаполнитьПланКонтейнераОсновныеСредстваНаличиеДвижение(ПланКонтейнера); // Таблица 4.1
	ИначеЕсли ИмяТаблицыОтчета = "ПраваПользованияАктивамиНаличиеДвижение" Тогда
		ЗаполнитьПланКонтейнераПраваПользованияАктивамиНаличиеДвижение(ПланКонтейнера); // Таблица 4.2
	ИначеЕсли ИмяТаблицыОтчета = "ОсновныеСредстваАмортизируемыеНеамортизируемые" Тогда
		// 4.3. Амортизируемые и неамортизируемые основные средства
		ЗаполнитьПланКонтейнераОсновныеСредстваАмортизируемыеНеамортизируемые(ПланКонтейнера);
	ИначеЕсли ИмяТаблицыОтчета = "ОсновныеСредстваОграничения" Тогда
		// 4.4. Основные средства, в отношении которых имеются ограничения использования
		ЗаполнитьПланКонтейнераОсновныеСредстваОграничения(ПланКонтейнера);
	ИначеЕсли ИмяТаблицыОтчета = "КапитальныеВложенияОсновныеСредства" Тогда
		// 4.5. Капитальные вложения в основные средства (за исключением инвестиционной недвижимости)
		ЗаполнитьПланКонтейнераКапитальныеВложенияОсновныеСредства(ПланКонтейнера);
	ИначеЕсли ИмяТаблицыОтчета = "Таблица_4_6" Тогда
		// 4.6. Капитальные вложения в инвестиционную недвижимость
		ЗаполнитьПланКонтейнера_Таблица_4_6(ПланКонтейнера);
	ИначеЕсли ИмяТаблицыОтчета = "Таблица_5_1" Тогда
		// 5.1. Наличие и движение финансовых вложений
		ЗаполнитьПланКонтейнера_Таблица_5_1(ПланКонтейнера);
	ИначеЕсли ИмяТаблицыОтчета = "Таблица_5_2" Тогда
		// 5.2. Иное использование финансовых вложений
		ЗаполнитьПланКонтейнера_Таблица_5_2(ПланКонтейнера);
	ИначеЕсли ИмяТаблицыОтчета = "ЗапасыНаличиеДвижение" Тогда
		ЗаполнитьПланКонтейнераЗапасыНаличиеДвижение(ПланКонтейнера); // Таблица 6.1
	ИначеЕсли ИмяТаблицыОтчета = "ЗапасыОграничения" Тогда
		ЗаполнитьПланКонтейнераЗапасыОграничения(ПланКонтейнера); // Таблица 6.2
	ИначеЕсли ИмяТаблицыОтчета = "ДебиторскаяЗадолженностьНаличиеДвижение" Тогда
		ЗаполнитьПланКонтейнераДебиторскаяЗадолженностьНаличиеДвижение(ПланКонтейнера); // Таблица 7.1
	ИначеЕсли ИмяТаблицыОтчета = "ДебиторскаяЗадолженностьПросроченная" Тогда
		// 7.2. Просроченная дебиторская задолженность
		ЗаполнитьПланКонтейнераДебиторскаяЗадолженностьПросроченная(ПланКонтейнера);
	ИначеЕсли ИмяТаблицыОтчета = "КредиторскаяЗадолженностьНаличиеДвижение" Тогда
		ЗаполнитьПланКонтейнераКредиторскаяЗадолженностьНаличиеДвижение(ПланКонтейнера); // Таблица 8.1
	ИначеЕсли ИмяТаблицыОтчета = "КредиторскаяЗадолженностьПросроченная" Тогда
		// 8.2. Просроченные обязательства (за исключением оценочных обязательств)
		ЗаполнитьПланКонтейнераКредиторскаяЗадолженностьПросроченная(ПланКонтейнера);
	ИначеЕсли ИмяТаблицыОтчета = "ОценочныеОбязательства" Тогда
		// 8.3. Оценочные обязательства
		ЗаполнитьПланКонтейнераОценочныеОбязательства(ПланКонтейнера);
	ИначеЕсли ИмяТаблицыОтчета = "ОбеспеченияОбязательств" Тогда
		// 9. Обеспечения обязательств
		ЗаполнитьПланКонтейнераОбеспеченияОбязательств(ПланКонтейнера);
	ИначеЕсли ИмяТаблицыОтчета = "Расходы" Тогда
		// 10. Расходы по обычным видам деятельности
		ЗаполнитьПланКонтейнера_Таблица_10(ПланКонтейнера);
	ИначеЕсли ИмяТаблицыОтчета = "Таблица_11_1" Тогда
		// 11.1. Бюджетные средства
		ЗаполнитьПланКонтейнера_Таблица_11_1(ПланКонтейнера);
	ИначеЕсли ИмяТаблицыОтчета = "Таблица_11_2" Тогда
		// 11.2. Бюджетные кредиты
		ЗаполнитьПланКонтейнера_Таблица_11_2(ПланКонтейнера);
	Иначе
		Возврат Неопределено;
	КонецЕсли;
	
	Возврат ПланКонтейнера;
	
КонецФункции

#Область Пояснения3

Процедура ЗаполнитьПланКонтейнераНематериальныеАктивыНаличиеДвижение(План)
	
	План.ИмяРазделаОтчета = "Пояснения3";
	План.ТипыРазметкиПоУровням = Список("Итого, МногострочнаяЧасть, ДополнениеМногострочнойЧасти");
	
	План.СтрокиПоПериодам.Вставить("Итого", Список("5111, 5112"));
	План.СтрокиПоПериодам.Вставить("Исключительное", Список("5111, 5112"));
	
	План.ИдентификаторыМногострочныхЧастей.Вставить("Итого", "П1000105111");
	План.СтрокиМСЧПоПериодам.Вставить("П1000105111", Список("5111, 5112"));
	
	План.ГрафыПоПериодам.Вставить("НачалоПервоначальная",               Список("03"));
	План.ГрафыПоПериодам.Вставить("НачалоАмортизация",                  Список("04"));
	План.ГрафыПоПериодам.Вставить("Поступило",                          Список("05"));
	План.ГрафыПоПериодам.Вставить("СписаноПервоначальная",              Список("06"));
	План.ГрафыПоПериодам.Вставить("СписаноАмортизация",                 Список("07"));
	План.ГрафыПоПериодам.Вставить("Амортизация",                        Список("08"));
	План.ГрафыПоПериодам.Вставить("Обесценение",                        Список("09"));
	План.ГрафыПоПериодам.Вставить("ПереоцененоПервоначальная",          Список("10"));
	План.ГрафыПоПериодам.Вставить("ПереоцененоАмортизация",             Список("11"));
	План.ГрафыПоПериодам.Вставить("ПереклассифицированоПервоначальная", Список("12"));
	План.ГрафыПоПериодам.Вставить("ПереклассифицированоАмортизация",    Список("13"));
	План.ГрафыПоПериодам.Вставить("КонецПервоначальная",                Список("14"));
	План.ГрафыПоПериодам.Вставить("КонецАмортизация",                   Список("15"));
	
	// Графы для выделения "из них ..." в  многострочной части.
	План.ДополнительныеГрафыПоПериодам.Вставить("НачалоПервоначальная",               Список("33"));
	План.ДополнительныеГрафыПоПериодам.Вставить("НачалоАмортизация",                  Список("34"));
	План.ДополнительныеГрафыПоПериодам.Вставить("Поступило",                          Список("35"));
	План.ДополнительныеГрафыПоПериодам.Вставить("СписаноПервоначальная",              Список("36"));
	План.ДополнительныеГрафыПоПериодам.Вставить("СписаноАмортизация",                 Список("37"));
	План.ДополнительныеГрафыПоПериодам.Вставить("Амортизация",                        Список("38"));
	План.ДополнительныеГрафыПоПериодам.Вставить("Обесценение",                        Список("39"));
	План.ДополнительныеГрафыПоПериодам.Вставить("ПереоцененоПервоначальная",          Список("40"));
	План.ДополнительныеГрафыПоПериодам.Вставить("ПереоцененоАмортизация",             Список("41"));
	План.ДополнительныеГрафыПоПериодам.Вставить("ПереклассифицированоПервоначальная", Список("42"));
	План.ДополнительныеГрафыПоПериодам.Вставить("ПереклассифицированоАмортизация",    Список("43"));
	План.ДополнительныеГрафыПоПериодам.Вставить("КонецПервоначальная",                Список("44"));
	План.ДополнительныеГрафыПоПериодам.Вставить("КонецАмортизация",                   Список("45"));
	
КонецПроцедуры

Процедура ЗаполнитьПланКонтейнераНематериальныеАктивыСозданныеОрганизациейНаличиеДвижение(План)
	
	План.ИмяРазделаОтчета = "Пояснения3";
	План.ТипыРазметкиПоУровням = Список("Итого, МногострочнаяЧасть, ДополнениеМногострочнойЧасти");
	
	План.СтрокиПоПериодам.Вставить("Итого", Список("5121, 5122"));
	План.СтрокиПоПериодам.Вставить("Исключительное", Список("5121, 5122"));
	
	План.ИдентификаторыМногострочныхЧастей.Вставить("Итого", "П1000105121");
	План.СтрокиМСЧПоПериодам.Вставить("П1000105121", Список("5121, 5122"));
	
	План.ГрафыПоПериодам.Вставить("НачалоПервоначальная",               Список("03"));
	План.ГрафыПоПериодам.Вставить("НачалоАмортизация",                  Список("04"));
	План.ГрафыПоПериодам.Вставить("Поступило",                          Список("05"));
	План.ГрафыПоПериодам.Вставить("СписаноПервоначальная",              Список("06"));
	План.ГрафыПоПериодам.Вставить("СписаноАмортизация",                 Список("07"));
	План.ГрафыПоПериодам.Вставить("Амортизация",                        Список("08"));
	План.ГрафыПоПериодам.Вставить("Обесценение",                        Список("09"));
	План.ГрафыПоПериодам.Вставить("ПереоцененоПервоначальная",          Список("10"));
	План.ГрафыПоПериодам.Вставить("ПереоцененоАмортизация",             Список("11"));
	План.ГрафыПоПериодам.Вставить("ПереклассифицированоПервоначальная", Список("12"));
	План.ГрафыПоПериодам.Вставить("ПереклассифицированоАмортизация",    Список("13"));
	План.ГрафыПоПериодам.Вставить("КонецПервоначальная",                Список("14"));
	План.ГрафыПоПериодам.Вставить("КонецАмортизация",                   Список("15"));
	
	// Графы для выделения "из них ..." в  многострочной части.
	План.ДополнительныеГрафыПоПериодам.Вставить("НачалоПервоначальная",               Список("33"));
	План.ДополнительныеГрафыПоПериодам.Вставить("НачалоАмортизация",                  Список("34"));
	План.ДополнительныеГрафыПоПериодам.Вставить("Поступило",                          Список("35"));
	План.ДополнительныеГрафыПоПериодам.Вставить("СписаноПервоначальная",              Список("36"));
	План.ДополнительныеГрафыПоПериодам.Вставить("СписаноАмортизация",                 Список("37"));
	План.ДополнительныеГрафыПоПериодам.Вставить("Амортизация",                        Список("38"));
	План.ДополнительныеГрафыПоПериодам.Вставить("Обесценение",                        Список("39"));
	План.ДополнительныеГрафыПоПериодам.Вставить("ПереоцененоПервоначальная",          Список("40"));
	План.ДополнительныеГрафыПоПериодам.Вставить("ПереоцененоАмортизация",             Список("41"));
	План.ДополнительныеГрафыПоПериодам.Вставить("ПереклассифицированоПервоначальная", Список("42"));
	План.ДополнительныеГрафыПоПериодам.Вставить("ПереклассифицированоАмортизация",    Список("43"));
	План.ДополнительныеГрафыПоПериодам.Вставить("КонецПервоначальная",                Список("44"));
	План.ДополнительныеГрафыПоПериодам.Вставить("КонецАмортизация",                   Список("45"));
	
КонецПроцедуры

Процедура ЗаполнитьПланКонтейнераНематериальныеАктивыАмортизируемыеНеамортизируемые(План)
	
	План.ИмяРазделаОтчета = "Пояснения3";
	План.ТипыРазметкиПоУровням = Список("Условный, Фиксированный, МногострочнаяЧасть, ДополнениеМногострочнойЧасти");
	
	План.СтрокиПоПериодам.Вставить("Амортизируемые", Список("5131")); // "Амортизируемые нематериальные активы - всего"
	План.СтрокиПоПериодам.Вставить("Неамортизируемые", Список("5132")); // "Неамортизируемые нематериальные активы - всего"
	План.СтрокиПоПериодам.Вставить("Создание", Список("5132, 5132")); // из них созданные организацией
	
	План.ИдентификаторыМногострочныхЧастей.Вставить("Амортизируемые", "П1000105131"); // "Амортизируемые нематериальные активы - всего" - "в том числе"
	План.СтрокиМСЧПоПериодам.Вставить("П1000105131", Список("5131"));
	
	План.ИдентификаторыМногострочныхЧастей.Вставить("Неамортизируемые", "П1000105132"); // "Неамортизируемые нематериальные активы - всего" - "в том числе"
	План.СтрокиМСЧПоПериодам.Вставить("П1000105132", Список("5132"));
	
	План.ГрафыПоПериодам.Вставить("БалансоваяСтоимость", Список("02, 03, 04"));
	
	// Графы для выделения "из них созданные организацией" в  многострочной части.
	План.ДополнительныеГрафыПоПериодам.Вставить("БалансоваяСтоимость", Список("32, 33, 34"));
	
КонецПроцедуры

Процедура ЗаполнитьПланКонтейнера_Таблица_3_4(План)
	
	План.ИмяРазделаОтчета = "Пояснения3";
	План.ТипыРазметкиПоУровням = Список("Условный, Фиксированный, МногострочнаяЧасть");
	
	План.СтрокиПоПериодам.Вставить("Строка_5141", Список("5141")); // "Нематериальные активы, находящиеся в залоге, - всего"
	План.СтрокиПоПериодам.Вставить("Строка_5142", Список("5142")); // "Нематериальные активы, в отношении которых имеются ограничения по иным основаниям, - всего"
	
	План.ИдентификаторыМногострочныхЧастей.Вставить("Строка_5141", "П1000105141"); // "Нематериальные активы, находящиеся в залоге, - всего" - "в том числе"
	План.СтрокиМСЧПоПериодам.Вставить("П1000105141", Список("5141"));
	План.ИдентификаторыМногострочныхЧастей.Вставить("Строка_5142", "П1000105142"); // "Нематериальные активы, в отношении которых имеются ограничения по иным основаниям, - всего" - "в том числе"
	План.СтрокиМСЧПоПериодам.Вставить("П1000105142", Список("5142"));
	
	План.ГрафыПоПериодам.Вставить("ГрафыТаблицы_3_4", Список("02, 03, 04"));
	
КонецПроцедуры

Процедура ЗаполнитьПланКонтейнераКапитальныеВложенияНематериальныеАктивы(План)
	
	План.ИмяРазделаОтчета = "Пояснения3";
	План.ТипыРазметкиПоУровням = Список("Условный, Фиксированный, МногострочнаяЧасть");
	
	План.СтрокиПоПериодам.Вставить("Приобретение", Список("5151, 5152")); // "Капитальные вложения на приобретение нематериальных активов - всего"
	План.СтрокиПоПериодам.Вставить("Создание", Список("5153, 5154")); // "Капитальные вложения на создание нематериальных активов - всего"
	План.СтрокиПоПериодам.Вставить("ПоследующиеВложения", Список("5155, 5156")); // "Капитальные вложения на улучшение нематериальных активов - всего"
	
	План.ИдентификаторыМногострочныхЧастей.Вставить("Приобретение", "П1000105151"); // "Капитальные вложения на приобретение нематериальных активов - всего" - "в том числе"
	План.СтрокиМСЧПоПериодам.Вставить("П1000105151", Список("5151, 5152"));
	План.ИдентификаторыМногострочныхЧастей.Вставить("Создание", "П1000105153"); // "Капитальные вложения на создание нематериальных активов - всего" - "в том числе"
	План.СтрокиМСЧПоПериодам.Вставить("П1000105153", Список("5153, 5154"));
	План.ИдентификаторыМногострочныхЧастей.Вставить("ПоследующиеВложения", "П1000105155"); // "Капитальные вложения на улучшение нематериальных активов - всего" - "в том числе"
	План.СтрокиМСЧПоПериодам.Вставить("П1000105155", Список("5155, 5156"));
	
	План.ГрафыПоПериодам.Вставить("НачалоЗатраты",     Список("03")); // "На начало года - фактические затраты"
	План.ГрафыПоПериодам.Вставить("НачалоОбесценение", Список("04")); // "На начало года - накопленное обесценение"
	План.ГрафыПоПериодам.Вставить("Затраты",           Список("05")); // "Изменения за период - затраты"
	План.ГрафыПоПериодам.Вставить("Обесценение",       Список("06")); // "Изменения за период - обесценение"
	План.ГрафыПоПериодам.Вставить("Списано",           Список("07")); // "Изменения за период - списано"
	План.ГрафыПоПериодам.Вставить("Завершено",         Список("08")); // "Изменения за период - принято к учету в качестве нематериальных активов"
	План.ГрафыПоПериодам.Вставить("КонецЗатраты",      Список("09")); // "На конец периода - фактические затраты"
	План.ГрафыПоПериодам.Вставить("КонецОбесценение",  Список("10")); // "На конец периода - накопленное обесценение"
	
КонецПроцедуры

Процедура ЗаполнитьПланКонтейнера_Таблица_3_6(План)
	
	План.ИмяРазделаОтчета = "Пояснения3";
	План.ТипыРазметкиПоУровням = Список("Условный, Фиксированный, МногострочнаяЧасть, ДополнениеМногострочнойЧасти");
	
	План.СтрокиПоПериодам.Вставить("Строки_5151_5152", Список("5151, 5152")); // "Средства индивидуализации, создаваемые собственными силами организации - всего"
	План.СтрокиПоПериодам.Вставить("Строки_5153_5154", Список("5153, 5154")); // "Права на результаты интеллектуальной деятельности, средства индивидуализации, не отвечающие признакам нематериального актива - всего"
	
	План.ИдентификаторыМногострочныхЧастей.Вставить("Строки_5151_5152", "П1000105151"); // "Средства индивидуализации, создаваемые собственными силами организации - всего" - "в том числе"
	План.СтрокиМСЧПоПериодам.Вставить("П1000105151", Список("5151, 5152"));
	План.СтрокиПоПериодам.Вставить("Строки_5151_5152_ИзНих", Список("5151, 5152"));
	
	План.ИдентификаторыМногострочныхЧастей.Вставить("Строки_5153_5154", "П1000105153"); // "Права на результаты интеллектуальной деятельности, средства индивидуализации, не отвечающие признакам нематериального актива - всего" - "в том числе"
	План.СтрокиМСЧПоПериодам.Вставить("П1000105153", Список("5153, 5154"));
	План.СтрокиПоПериодам.Вставить("Строки_5153_5154_ИзНих", Список("5153, 5154"));
	
	План.ГрафыПоПериодам.Вставить("Графа_03", Список("03")); // "На начало года"
	План.ГрафыПоПериодам.Вставить("Графа_04", Список("04")); // "Изменения за период - затраты"
	План.ГрафыПоПериодам.Вставить("Графа_05", Список("05")); // "Изменения за период - списано"
	План.ГрафыПоПериодам.Вставить("Графа_06", Список("06")); // "На конец периода - по фактическим затратам"
	План.ГрафыПоПериодам.Вставить("Графа_07", Список("07")); // "На конец периода - по рыночной стоимости (при наличии)"
	
	// Графы для выделения "из них исключительные права" в  многострочной части.
	План.ДополнительныеГрафыПоПериодам.Вставить("Графа_03", Список("33"));
	План.ДополнительныеГрафыПоПериодам.Вставить("Графа_04", Список("34"));
	План.ДополнительныеГрафыПоПериодам.Вставить("Графа_05", Список("35"));
	План.ДополнительныеГрафыПоПериодам.Вставить("Графа_06", Список("36"));
	План.ДополнительныеГрафыПоПериодам.Вставить("Графа_07", Список("37"));
	
КонецПроцедуры

#КонецОбласти

#Область Пояснения4

Процедура ЗаполнитьПланКонтейнераОсновныеСредстваНаличиеДвижение(План)
	
	План.ИмяРазделаОтчета = "Пояснения4";
	План.ТипыРазметкиПоУровням = Список("Условный, Фиксированный, МногострочнаяЧасть");
	
	План.СтрокиПоПериодам.Вставить("ОсновныеСредства",           Список("5211, 5212"));
	План.СтрокиПоПериодам.Вставить("ИнвестиционнаяНедвижимость", Список("5213, 5214"));
	
	План.ИдентификаторыМногострочныхЧастей.Вставить("ОсновныеСредства", "П1000105211");
	План.СтрокиМСЧПоПериодам.Вставить("П1000105211", Список("5211, 5212"));
	План.ИдентификаторыМногострочныхЧастей.Вставить("ИнвестиционнаяНедвижимость", "П1000105213");
	План.СтрокиМСЧПоПериодам.Вставить("П1000105213", Список("5213, 5214"));
	
	План.ГрафыПоПериодам.Вставить("НачалоПервоначальная",               Список("03"));
	План.ГрафыПоПериодам.Вставить("НачалоАмортизация",                  Список("04"));
	План.ГрафыПоПериодам.Вставить("Поступило",                          Список("05"));
	План.ГрафыПоПериодам.Вставить("СписаноПервоначальная",              Список("06"));
	План.ГрафыПоПериодам.Вставить("СписаноАмортизация",                 Список("07"));
	План.ГрафыПоПериодам.Вставить("Амортизация",                        Список("08"));
	План.ГрафыПоПериодам.Вставить("Обесценение",                        Список("09"));
	План.ГрафыПоПериодам.Вставить("ПереоцененоПервоначальная",          Список("10"));
	План.ГрафыПоПериодам.Вставить("ПереоцененоАмортизация",             Список("11"));
	План.ГрафыПоПериодам.Вставить("ПереклассифицированоПервоначальная", Список("12"));
	План.ГрафыПоПериодам.Вставить("ПереклассифицированоАмортизация",    Список("13"));
	План.ГрафыПоПериодам.Вставить("КонецПервоначальная",                Список("14"));
	План.ГрафыПоПериодам.Вставить("КонецАмортизация",                   Список("15"));
	
КонецПроцедуры

Процедура ЗаполнитьПланКонтейнераПраваПользованияАктивамиНаличиеДвижение(План)
	
	План.ИмяРазделаОтчета = "Пояснения4";
	План.ТипыРазметкиПоУровням = Список("Итого, МногострочнаяЧасть");
	
	План.СтрокиПоПериодам.Вставить("Итого", Список("5221, 5222"));
	
	План.ИдентификаторыМногострочныхЧастей.Вставить("Итого", "П1000105221");
	План.СтрокиМСЧПоПериодам.Вставить("П1000105221", Список("5221, 5222"));
	
	// - совпадают для 4.1 и 4.2
	План.ГрафыПоПериодам.Вставить("НачалоПервоначальная",               Список("03"));
	План.ГрафыПоПериодам.Вставить("НачалоАмортизация",                  Список("04"));
	План.ГрафыПоПериодам.Вставить("Поступило",                          Список("05"));
	План.ГрафыПоПериодам.Вставить("СписаноПервоначальная",              Список("06"));
	План.ГрафыПоПериодам.Вставить("СписаноАмортизация",                 Список("07"));
	План.ГрафыПоПериодам.Вставить("Амортизация",                        Список("08"));
	План.ГрафыПоПериодам.Вставить("Обесценение",                        Список("09"));
	План.ГрафыПоПериодам.Вставить("ПереоцененоПервоначальная",          Список("10"));
	План.ГрафыПоПериодам.Вставить("ПереоцененоАмортизация",             Список("11"));
	// - отличия для 4.2
	План.ГрафыПоПериодам.Вставить("КонецПервоначальная",                Список("12"));
	План.ГрафыПоПериодам.Вставить("КонецАмортизация",                   Список("13"));
	
КонецПроцедуры

Процедура ЗаполнитьПланКонтейнераОсновныеСредстваАмортизируемыеНеамортизируемые(План)
	
	План.ИмяРазделаОтчета = "Пояснения4";
	План.ТипыРазметкиПоУровням = Список("Условный, Фиксированный, МногострочнаяЧасть");
	
	План.СтрокиПоПериодам.Вставить("Амортизируемые",   Список("5231")); // "Амортизируемые основные средства - всего"
	План.СтрокиПоПериодам.Вставить("Неамортизируемые", Список("5232")); // "Неамортизируемые основные средства - всего"
	
	План.ИдентификаторыМногострочныхЧастей.Вставить("Амортизируемые", "П1000105231"); // "Амортизируемые основные средства - всего" - "в том числе"
	План.СтрокиМСЧПоПериодам.Вставить("П1000105231", Список("5231"));
	
	// Пока механика размещения позволяет отнести все только к одному основанию неамортизации. Таким основанием выбрано с кодом 5233
	План.ИдентификаторыМногострочныхЧастей.Вставить("Неамортизируемые", "П1000105233");
	План.СтрокиМСЧПоПериодам.Вставить("П1000105233", Список("5233"));
	
	План.ИдентификаторыМногострочныхЧастей.Вставить("ГосударственныйРезерв", "П1000105232"); // "Неамортизируемые основные средства - всего" - "в том числе используемые для реализации законодательства Российской Федерации о мобилизационной подготовке и мобилизации, которые законсервированы"
	План.СтрокиМСЧПоПериодам.Вставить("П1000105232", Список("5232"));
	План.ИдентификаторыМногострочныхЧастей.Вставить("ПостоянныеПотребительскиеСвойства", "П1000105233"); // "Неамортизируемые основные средства - всего" - "в том числе основные средства, потребительские свойства которых с течением времени не изменяются"
	План.СтрокиМСЧПоПериодам.Вставить("П1000105233", Список("5233"));
	План.ИдентификаторыМногострочныхЧастей.Вставить("ИнвестиционнаяНедвижимостьПоПереоцененнойСтоимости", "П1000105234"); // "Неамортизируемые основные средства - всего" - "в том числе инвестиционная недвижимость, оцениваемая по переоцененной стоимости"
	План.СтрокиМСЧПоПериодам.Вставить("П1000105234", Список("5234"));
	
	План.ГрафыПоПериодам.Вставить("БалансоваяСтоимость", Список("02, 03, 04"));
	
КонецПроцедуры

Процедура ЗаполнитьПланКонтейнераОсновныеСредстваОграничения(План)
	
	План.ИмяРазделаОтчета = "Пояснения4";
	План.ТипыРазметкиПоУровням = Список("Условный, Фиксированный, МногострочнаяЧасть, ДополнениеМногострочнойЧасти");
	
	План.СтрокиПоПериодам.Вставить("Неиспользуемые",               Список("5241")); // "Основные средства, пригодные для использования, но не используемые, (когда это не связано с сезонными особенностями деятельности организации) - всего"
	План.СтрокиПоПериодам.Вставить("ВАренде",                      Список("5242")); // "Основные средства, предоставленные за плату во временное пользование - всего"
	План.СтрокиПоПериодам.Вставить("ОграничениеИмущественныхПрав", Список("5243")); // "Основные средства, в отношении использования которых имеются ограничения имущественных прав организации, - всего"
	
	План.ИдентификаторыМногострочныхЧастей.Вставить("Неиспользуемые", "П1000105241"); // "Основные средства, пригодные для использования, но не используемые, (когда это не связано с сезонными особенностями деятельности организации) - всего" - "в том числе"
	План.СтрокиМСЧПоПериодам.Вставить("П1000105241", Список("5241"));
	
	План.ИдентификаторыМногострочныхЧастей.Вставить("ВАренде", "П1000105242"); // "Основные средства, предоставленные за плату во временное пользование - всего" - "в том числе"
	План.СтрокиМСЧПоПериодам.Вставить("П1000105242", Список("5242"));
	
	План.ИдентификаторыМногострочныхЧастей.Вставить("ОграничениеИмущественныхПрав", "П1000105243"); // "Основные средства, в отношении использования которых имеются ограничения имущественных прав организации, - всего" - "в том числе"
	План.СтрокиМСЧПоПериодам.Вставить("П1000105243", Список("5243"));
	План.СтрокиПоПериодам.Вставить("Залог", Список("5243"));
	
	План.ГрафыПоПериодам.Вставить("БалансоваяСтоимость", Список("02, 03, 04"));
	
	// Графы для выделения "из них созданные организацией" в многострочной части.
	План.ДополнительныеГрафыПоПериодам.Вставить("БалансоваяСтоимость", Список("32, 33, 34"));
	
КонецПроцедуры

Процедура ЗаполнитьПланКонтейнераКапитальныеВложенияОсновныеСредства(План)
	
	План.ИмяРазделаОтчета = "Пояснения4";
	План.ТипыРазметкиПоУровням = Список("Условный, Фиксированный, МногострочнаяЧасть");
	
	План.СтрокиПоПериодам.Вставить("Приобретение",        Список("5251, 5252")); // "Капитальные вложения на приобретение основных средств - всего"
	План.СтрокиПоПериодам.Вставить("Создание",            Список("5253, 5254")); // "Капитальные вложения на создание основных средств - всего"
	План.СтрокиПоПериодам.Вставить("ПоследующиеВложения", Список("5255, 5256")); // "Капитальные вложения на улучшение и восстановление основных средств - всего"
	
	План.ИдентификаторыМногострочныхЧастей.Вставить("Приобретение",        "П1000105251"); // "Капитальные вложения на приобретение основных средств - всего" - "в том числе"
	План.СтрокиМСЧПоПериодам.Вставить("П1000105251", Список("5251, 5252"));
	План.ИдентификаторыМногострочныхЧастей.Вставить("Создание",            "П1000105253"); // "Капитальные вложения на создание основных средств - всего" - "в том числе"
	План.СтрокиМСЧПоПериодам.Вставить("П1000105253", Список("5253, 5254"));
	План.ИдентификаторыМногострочныхЧастей.Вставить("ПоследующиеВложения", "П1000105255"); // "Капитальные вложения на улучшение и восстановление основных средств - всего" - "в том числе"
	План.СтрокиМСЧПоПериодам.Вставить("П1000105255", Список("5255, 5256"));
	
	План.ГрафыПоПериодам.Вставить("НачалоЗатраты",     Список("03")); // "На начало года - фактические затраты"
	План.ГрафыПоПериодам.Вставить("НачалоОбесценение", Список("04")); // "На начало года - накопленное обесценение"
	План.ГрафыПоПериодам.Вставить("Затраты",           Список("05")); // "Изменения за период - затраты"
	План.ГрафыПоПериодам.Вставить("Обесценение",       Список("06")); // "Изменения за период - обесценение"
	План.ГрафыПоПериодам.Вставить("Списано",           Список("07")); // "Изменения за период - списано"
	План.ГрафыПоПериодам.Вставить("Завершено",         Список("08")); // "Изменения за период - принято к учету в качестве основных средств"
	План.ГрафыПоПериодам.Вставить("КонецЗатраты",      Список("09")); // "На конец периода - фактические затраты"
	План.ГрафыПоПериодам.Вставить("КонецОбесценение",  Список("10")); // "На конец периода - накопленное обесценение"
	
КонецПроцедуры

Процедура ЗаполнитьПланКонтейнера_Таблица_4_6(План)
	
	План.ИмяРазделаОтчета = "Пояснения4";
	План.ТипыРазметкиПоУровням = Список("Условный, Фиксированный, МногострочнаяЧасть");
	
	План.СтрокиПоПериодам.Вставить("Строки_5261_5262", Список("5261, 5262")); // "Капитальные вложения на приобретение инвестиционной недвижимости - всего"
	План.СтрокиПоПериодам.Вставить("Строки_5263_5264", Список("5263, 5264")); // "Капитальные вложения на создание инвестиционной недвижимости - всего"
	План.СтрокиПоПериодам.Вставить("Строки_5265_5266", Список("5265, 5266")); // "Капитальные вложения на улучшение и восстановление инвестиционной недвижимости - всего"
	
	План.ИдентификаторыМногострочныхЧастей.Вставить("Строки_5261_5262", "П1000105261"); // "Капитальные вложения на приобретение инвестиционной недвижимости - всего" - "в том числе"
	План.СтрокиМСЧПоПериодам.Вставить("П1000105261", Список("5261, 5262"));
	План.ИдентификаторыМногострочныхЧастей.Вставить("Строки_5263_5264", "П1000105263"); // "Капитальные вложения на создание инвестиционной недвижимости - всего" - "в том числе"
	План.СтрокиМСЧПоПериодам.Вставить("П1000105263", Список("5263, 5264"));
	План.ИдентификаторыМногострочныхЧастей.Вставить("Строки_5265_5266", "П1000105265"); // "Капитальные вложения на улучшение и восстановление инвестиционной недвижимости - всего" - "в том числе"
	План.СтрокиМСЧПоПериодам.Вставить("П1000105265", Список("5265, 5266"));
	
	План.ГрафыПоПериодам.Вставить("Графа_03", Список("03")); // "На начало года - фактические затраты"
	План.ГрафыПоПериодам.Вставить("Графа_04", Список("04")); // "На начало года - накопленное обесценение"
	План.ГрафыПоПериодам.Вставить("Графа_05", Список("05")); // "Изменения за период - затраты"
	План.ГрафыПоПериодам.Вставить("Графа_06", Список("06")); // "Изменения за период - обесценение"
	План.ГрафыПоПериодам.Вставить("Графа_07", Список("07")); // "Изменения за период - списано"
	План.ГрафыПоПериодам.Вставить("Графа_08", Список("08")); // "Изменения за период - принято к учету в качестве инвестиционной недвижимости"
	План.ГрафыПоПериодам.Вставить("Графа_09", Список("09")); // "На конец периода - фактические затраты"
	План.ГрафыПоПериодам.Вставить("Графа_10", Список("10")); // "На конец периода - накопленное обесценение"
	
КонецПроцедуры

#КонецОбласти

#Область Пояснения5

Процедура ЗаполнитьПланКонтейнера_Таблица_5_1(План)
	
	План.ИмяРазделаОтчета = "Пояснения5";
	План.ТипыРазметкиПоУровням = Список("Итого, Фиксированный, МногострочнаяЧасть");
	
	План.СтрокиПоПериодам.Вставить("Итого",            Список("5315, 5316"));
	План.СтрокиПоПериодам.Вставить("Строки_5311_5312", Список("5311, 5312")); // "Долгосрочные финансовые вложения - всего"
	План.СтрокиПоПериодам.Вставить("Строки_5313_5314", Список("5313, 5314")); // "Краткосрочные финансовые вложения - всего"
	
	План.ИдентификаторыМногострочныхЧастей.Вставить("Строки_5311_5312", "П1000105311"); // "Долгосрочные финансовые вложения - всего" - "в том числе"
	План.СтрокиМСЧПоПериодам.Вставить("П1000105311", Список("5311, 5312"));
	План.ИдентификаторыМногострочныхЧастей.Вставить("Строки_5313_5314", "П1000105313"); // "Краткосрочные финансовые вложения - всего" - "в том числе"
	План.СтрокиМСЧПоПериодам.Вставить("П1000105313", Список("5313, 5314"));
	
	План.ГрафыПоПериодам.Вставить("Графа_03", Список("03")); // "На начало года - первоначальная стоимость"
	План.ГрафыПоПериодам.Вставить("Графа_04", Список("04")); // "На начало года - накопленная корректировка"
	План.ГрафыПоПериодам.Вставить("Графа_05", Список("05")); // "Изменения за период - поступило"
	План.ГрафыПоПериодам.Вставить("Графа_06", Список("06")); // "Изменения за период - списано - первоначальная стоимость"
	План.ГрафыПоПериодам.Вставить("Графа_07", Список("07")); // "Изменения за период - списано - накопленная корректировка"
	План.ГрафыПоПериодам.Вставить("Графа_08", Список("08")); // "Изменения за период - проценты (включая доведение первоначальной стоимости до номинальной)"
	План.ГрафыПоПериодам.Вставить("Графа_09", Список("09")); // "Изменения за период - текущей рыночной стоимости/резерва под обесценение"
	План.ГрафыПоПериодам.Вставить("Графа_10", Список("10")); // "Изменения за период - переклассифицировано"
	План.ГрафыПоПериодам.Вставить("Графа_11", Список("11")); // "На конец периода - первоначальная стоимость"
	План.ГрафыПоПериодам.Вставить("Графа_12", Список("12")); // "На конец периода - накопленная корректировка"
	
КонецПроцедуры

Процедура ЗаполнитьПланКонтейнера_Таблица_5_2(План)
	
	План.ИмяРазделаОтчета = "Пояснения5";
	План.ТипыРазметкиПоУровням = Список("Условный, Фиксированный, МногострочнаяЧасть");
	
	План.СтрокиПоПериодам.Вставить("Строка_5321", Список("5321")); // "Финансовые вложения, находящиеся в залоге, - всего"
	План.СтрокиПоПериодам.Вставить("Строка_5322", Список("5322")); // "Финансовые вложения, переданные третьим лицам (кроме продажи), - всего"
	План.СтрокиПоПериодам.Вставить("Строка_5323", Список("5323")); // "Иное использование финансовых вложений"
	
	План.ИдентификаторыМногострочныхЧастей.Вставить("Строка_5321", "П1000105321"); // "Финансовые вложения, находящиеся в залоге, - всего" - "в том числе"
	План.СтрокиМСЧПоПериодам.Вставить("П1000105321", Список("5321"));
	
	План.ИдентификаторыМногострочныхЧастей.Вставить("Строка_5322", "П1000105322"); // "Финансовые вложения, переданные третьим лицам (кроме продажи), - всего" - "в том числе"
	План.СтрокиМСЧПоПериодам.Вставить("П1000105322", Список("5322"));
	
	План.ГрафыПоПериодам.Вставить("ГрафыТаблицы_5_2", Список("02, 03, 04"));
	
КонецПроцедуры

#КонецОбласти

#Область Пояснения6

Процедура ЗаполнитьПланКонтейнераЗапасыНаличиеДвижение(План)
	
	План.ИмяРазделаОтчета = "Пояснения6";
	План.ТипыРазметкиПоУровням = Список("Итого, МногострочнаяЧасть");
	
	План.СтрокиПоПериодам.Вставить("Итого", Список("5411, 5412"));
	
	План.ИдентификаторыМногострочныхЧастей.Вставить("Итого", "П1000105411");
	План.СтрокиМСЧПоПериодам.Вставить("П1000105411", Список("5411, 5412"));
	
	План.ГрафыПоПериодам.Вставить("НачалоЗатраты",             Список("03"));
	План.ГрафыПоПериодам.Вставить("НачалоОбесценение",         Список("04"));
	План.ГрафыПоПериодам.Вставить("Затраты",                   Список("05"));
	План.ГрафыПоПериодам.Вставить("СписаноЗатраты",            Список("06"));
	План.ГрафыПоПериодам.Вставить("СписаноОбесценение",        Список("07"));
	План.ГрафыПоПериодам.Вставить("Обесценение",               Список("08"));
	План.ГрафыПоПериодам.Вставить("ПреобразованиеЗатраты",     Список("09"));
	План.ГрафыПоПериодам.Вставить("ПреобразованиеОбесценение", Список("10"));
	План.ГрафыПоПериодам.Вставить("КонецЗатраты",              Список("11"));
	План.ГрафыПоПериодам.Вставить("КонецОбесценение",          Список("12"));
	
КонецПроцедуры

Процедура ЗаполнитьПланКонтейнераЗапасыОграничения(План)
	
	План.ИмяРазделаОтчета = "Пояснения6";
	План.ТипыРазметкиПоУровням = Список("Условный, Фиксированный, МногострочнаяЧасть");
	
	План.СтрокиПоПериодам.Вставить("ВПути",   Список("5421"));
	План.СтрокиПоПериодам.Вставить("ВЗалоге", Список("5422"));
	
	План.ИдентификаторыМногострочныхЧастей.Вставить("ВПути", "П1000105421");
	План.СтрокиМСЧПоПериодам.Вставить("П1000105421", Список("5421"));
	План.ИдентификаторыМногострочныхЧастей.Вставить("ВЗалоге", "П1000105422");
	План.СтрокиМСЧПоПериодам.Вставить("П1000105422", Список("5422"));
	
	План.ГрафыПоПериодам.Вставить("БалансоваяСтоимость", Список("02, 03, 04"));
	
КонецПроцедуры

#КонецОбласти

#Область Пояснения7

Процедура ЗаполнитьПланКонтейнераДебиторскаяЗадолженностьНаличиеДвижение(План)
	
	План.ИмяРазделаОтчета = "Пояснения7";
	План.ТипыРазметкиПоУровням = Список("Итого, Фиксированный, МногострочнаяЧасть");
	
	План.СтрокиПоПериодам.Вставить("Итого",                                 Список("5515, 5516"));
	План.СтрокиПоПериодам.Вставить("ДолгосрочнаяДебиторскаяЗадолженность",  Список("5511, 5512"));
	План.СтрокиПоПериодам.Вставить("КраткосрочнаяДебиторскаяЗадолженность", Список("5513, 5514"));
	
	План.ИдентификаторыМногострочныхЧастей.Вставить("ДолгосрочнаяДебиторскаяЗадолженность", "П1000105511");
	План.СтрокиМСЧПоПериодам.Вставить("П1000105511", Список("5511, 5512"));
	План.ИдентификаторыМногострочныхЧастей.Вставить("КраткосрочнаяДебиторскаяЗадолженность", "П1000105513");
	План.СтрокиМСЧПоПериодам.Вставить("П1000105513", Список("5513, 5514"));
	
	План.ГрафыПоПериодам.Вставить("НачалоНоминал",         Список("03"));
	План.ГрафыПоПериодам.Вставить("НачалоРезерв",          Список("04"));
	План.ГрафыПоПериодам.Вставить("ПоступилоНоминал",      Список("05"));
	План.ГрафыПоПериодам.Вставить("ПоступилоПроценты",     Список("06"));
	План.ГрафыПоПериодам.Вставить("СписаноНоминал",        Список("07"));
	План.ГрафыПоПериодам.Вставить("СписаноНаРасходы",      Список("08"));
	План.ГрафыПоПериодам.Вставить("ВосстановленоРезерв",   Список("09"));
	План.ГрафыПоПериодам.Вставить("Переклассифицировано",  Список("10"));
	План.ГрафыПоПериодам.Вставить("КонецНоминал",          Список("11"));
	План.ГрафыПоПериодам.Вставить("КонецРезерв",           Список("12"));
	
КонецПроцедуры

Процедура ЗаполнитьПланКонтейнераДебиторскаяЗадолженностьПросроченная(План)
	
	План.ИмяРазделаОтчета = "Пояснения7";
	План.ТипыРазметкиПоУровням = Список("Итого, МногострочнаяЧасть");
	
	План.СтрокиПоПериодам.Вставить("Итого", Список("5521")); // "Всего"
	
	План.ИдентификаторыМногострочныхЧастей.Вставить("Итого", "П1000105521"); // "Всего" - "в том числе"
	План.СтрокиМСЧПоПериодам.Вставить("П1000105521", Список("5521"));
	
	План.ГрафыПоПериодам.Вставить("НоминальнаяВеличина", Список("02, 04, 06"));
	План.ГрафыПоПериодам.Вставить("БалансоваяСтоимость", Список("03, 05, 07"));
	
КонецПроцедуры

#КонецОбласти

#Область Пояснения8

Процедура ЗаполнитьПланКонтейнераКредиторскаяЗадолженностьНаличиеДвижение(План)
	
	План.ИмяРазделаОтчета = "Пояснения8";
	План.ТипыРазметкиПоУровням = Список("Итого, Фиксированный, МногострочнаяЧасть");

	План.СтрокиПоПериодам.Вставить("Итого",                                  Список("5615, 5616"));
	План.СтрокиПоПериодам.Вставить("ДолгосрочнаяКредиторскаяЗадолженность",  Список("5611, 5612"));
	План.СтрокиПоПериодам.Вставить("КраткосрочнаяКредиторскаяЗадолженность", Список("5613, 5614"));
	
	План.ИдентификаторыМногострочныхЧастей.Вставить("ДолгосрочнаяКредиторскаяЗадолженность", "П1000105611");
	План.СтрокиМСЧПоПериодам.Вставить("П1000105611", Список("5611, 5612"));
	План.ИдентификаторыМногострочныхЧастей.Вставить("КраткосрочнаяКредиторскаяЗадолженность", "П1000105613");
	План.СтрокиМСЧПоПериодам.Вставить("П1000105613", Список("5613, 5614"));
	
	План.ГрафыПоПериодам.Вставить("НачалоНоминал",        Список("03"));
	План.ГрафыПоПериодам.Вставить("ПоступилоНоминал",     Список("04"));
	План.ГрафыПоПериодам.Вставить("ПоступилоПроценты",    Список("05"));
	План.ГрафыПоПериодам.Вставить("СписаноНоминал",       Список("06"));
	План.ГрафыПоПериодам.Вставить("СписаноНаДоходы",      Список("07"));
	План.ГрафыПоПериодам.Вставить("Переклассифицировано", Список("08"));
	План.ГрафыПоПериодам.Вставить("КонецНоминал",         Список("09"));

КонецПроцедуры

Процедура ЗаполнитьПланКонтейнераКредиторскаяЗадолженностьПросроченная(План)
	
	План.ИмяРазделаОтчета = "Пояснения8";
	План.ТипыРазметкиПоУровням = Список("Итого, МногострочнаяЧасть");
	
	План.СтрокиПоПериодам.Вставить("Итого", Список("5621")); // "Всего"
	
	План.ИдентификаторыМногострочныхЧастей.Вставить("Итого", "П1000105621"); // "Всего" - "в том числе"
	План.СтрокиМСЧПоПериодам.Вставить("П1000105621", Список("5621"));
	
	План.ГрафыПоПериодам.Вставить("НоминальнаяВеличина", Список("02, 03, 04"));
	
КонецПроцедуры

Процедура ЗаполнитьПланКонтейнераОценочныеОбязательства(План)
	
	План.ИмяРазделаОтчета = "Пояснения8";
	План.ТипыРазметкиПоУровням = Список("Итого, МногострочнаяЧасть");
	
	План.СтрокиПоПериодам.Вставить("Итого", Список("5631, 5632")); // "Оценочные обязательства - всего"
	
	План.ИдентификаторыМногострочныхЧастей.Вставить("Итого", "П1000105631"); // "Оценочные обязательства - всего" - "в том числе"
	План.СтрокиМСЧПоПериодам.Вставить("П1000105631", Список("5631, 5632"));
	
	План.ГрафыПоПериодам.Вставить("Начало",     Список("03")); // "На начало года"
	План.ГрафыПоПериодам.Вставить("Признано",   Список("04")); // "Изменения за период - признано"
	План.ГрафыПоПериодам.Вставить("Выполнено",  Список("05")); // "Изменения за период - списано - погашено"
	План.ГрафыПоПериодам.Вставить("Прекращено", Список("06")); // "Изменения за период - списано - как избыточная сумма"
	План.ГрафыПоПериодам.Вставить("Конец",      Список("07")); // "На конец периода"
	
КонецПроцедуры

#КонецОбласти

#Область Пояснения9

Процедура ЗаполнитьПланКонтейнераОбеспеченияОбязательств(План)
	
	План.ИмяРазделаОтчета = "Пояснения9";
	План.ТипыРазметкиПоУровням = Список("Условный, Фиксированный, МногострочнаяЧасть");
	
	План.СтрокиПоПериодам.Вставить("Полученные", Список("5711")); // "Полученные - всего"
	План.СтрокиПоПериодам.Вставить("Выданные",   Список("5712")); // "Выданные - всего"
	
	План.ИдентификаторыМногострочныхЧастей.Вставить("Полученные", "П1000105711"); // "Полученные - всего" - "в том числе"
	План.СтрокиМСЧПоПериодам.Вставить("П1000105711", Список("5711"));
	
	План.ИдентификаторыМногострочныхЧастей.Вставить("Выданные", "П1000105712"); // "Выданные - всего" - "в том числе"
	План.СтрокиМСЧПоПериодам.Вставить("П1000105712", Список("5712"));
	
	План.ГрафыПоПериодам.Вставить("СуммаОбеспечения", Список("02, 03, 04"));
	
КонецПроцедуры

#КонецОбласти

#Область Пояснения10

Процедура ЗаполнитьПланКонтейнера_Таблица_10(План)
	
	План.ИмяРазделаОтчета = "Пояснения10";
	План.ТипыРазметкиПоУровням = Список("Условный, Фиксированный");
	
	План.СтрокиПоПериодам.Вставить("МатериальныеЗатраты",         Список("5811")); // "Материальные затраты"
	План.СтрокиПоПериодам.Вставить("ОплатаТруда",                 Список("5812")); // "Затраты на оплату труда"
	План.СтрокиПоПериодам.Вставить("ОтчисленияНаСоциальныеНужды", Список("5813")); // "Отчисления на социальные нужды"
	План.СтрокиПоПериодам.Вставить("Амортизация",                 Список("5814")); // "Амортизация"
	План.СтрокиПоПериодам.Вставить("ПрочиеЗатраты",               Список("5815")); // "Прочие затраты"
	План.СтрокиПоПериодам.Вставить("ИтогоЭлементыЗатрат",         Список("5816")); // "Итого по элементам"
	План.СтрокиПоПериодам.Вставить("ИзменениеСтоимостиЗапасов",   Список("5817")); // "Изменение остатков (прирост [-], уменьшение [+]): незавершенного производства, готовой продукции"
	План.СтрокиПоПериодам.Вставить("Итого",                       Список("5818")); // "Итого расходы по обычным видам деятельности"
	
	План.ГрафыПоПериодам.Вставить("Сумма", Список("02, 03"));
	
КонецПроцедуры

#КонецОбласти

#Область Пояснения11

Процедура ЗаполнитьПланКонтейнера_Таблица_11_1(План)
	
	План.ИмяРазделаОтчета = "Пояснения11";
	План.ТипыРазметкиПоУровням = Список("Итого, Фиксированный");
	
	План.СтрокиПоПериодам.Вставить("Итого", Список("5911")); // "Получено бюджетных средств - всего"
	План.СтрокиПоПериодам.Вставить("Строка_5912", Список("5912")); // "на финансирование капитальных затрат"
	План.СтрокиПоПериодам.Вставить("Строка_5913", Список("5913")); // "на финансирование текущих расходов"
	
	План.ГрафыПоПериодам.Вставить("ГрафыТаблицы_11_1", Список("02, 03"));
	
КонецПроцедуры

Процедура ЗаполнитьПланКонтейнера_Таблица_11_2(План)
	
	План.ИмяРазделаОтчета = "Пояснения11";
	План.ТипыРазметкиПоУровням = Список("Итого, МногострочнаяЧасть");
	
	План.СтрокиПоПериодам.Вставить("Итого", Список("5921, 5922")); // "Бюджетные кредиты - всего"
	
	План.ИдентификаторыМногострочныхЧастей.Вставить("Итого", "П1000105921"); // "Бюджетные кредиты - всего" - "в том числе"
	План.СтрокиМСЧПоПериодам.Вставить("П1000105921", Список("5921, 5922"));
	
	План.ГрафыПоПериодам.Вставить("Графа_03", Список("03")); // "На начало года"
	План.ГрафыПоПериодам.Вставить("Графа_04", Список("04")); // "Изменения за период - получено"
	План.ГрафыПоПериодам.Вставить("Графа_05", Список("05")); // "Изменения за период - возвращено"
	План.ГрафыПоПериодам.Вставить("Графа_06", Список("06")); // "На конец периода"
	
КонецПроцедуры

#КонецОбласти

// Заполняет контейнер отчета данными таблицы, описанной в плане разметки таблицы отчета.
//
// Параметры:
//   ДанныеРаздела - СтрокаДереваЗначений
//   ЗаполнениеТаблицыОтчета - Структура
//   Расшифровка - ТаблицаЗначений
//   ПланКонтейнера - Структура
//   КешЗаполненияРасшифровки - Структура
//
Процедура ЗаполнитьКонтейнерДаннымиТаблицыОтчета(ДанныеРаздела, ЗаполнениеТаблицыОтчета, Расшифровка,
	ПланКонтейнера, КешЗаполненияРасшифровки)
	
	// Числовые идентификаторы строк отчета, обеспечивающие связь с таблицей переданных показателей.
	// Ключ - Произвольный - идентификатор из описания структуры таблицы переданных показателей.
	// Значение - Структура:
	//   * СтрокиПоПериодам - Массив - строки дерева значений контейнера или структуры описания строки
	//       в дереве значений контейнера (индекс соответствует периоду при вертикальной развертке).
	//   * ГрафыПоПериодам - Структура - коды граф по именам колонок.
	СтрокиОтчета = Новый Соответствие;
	СформироватьКонтейнерПоРазметке(ДанныеРаздела, ПланКонтейнера, ЗаполнениеТаблицыОтчета.Структура, СтрокиОтчета, 0);
	
	// Размещение данных таблицы в данных контейнера раздела.
	Для Каждого ЗначениеЗаполнения Из ЗаполнениеТаблицыОтчета.Значения Цикл
		Период = ЗначениеЗаполнения.Период;
		
		ИДПоказателя = ЗначениеЗаполнения.Показатель;
		СтрокиПоказателя = СтрокиОтчета[ИДПоказателя];
		Если СтрокиПоказателя = Неопределено Тогда
			// В таблице заполнения содержится строка, не предназначенная для вывода в отчет.
			Продолжить;
		КонецЕсли;
		СтрокаЯчейки = СтрокиПоказателя.СтрокиПоПериодам[Мин(Период, СтрокиПоказателя.СтрокиПоПериодам.ВГраница())];
		
		Если НЕ СтрокиПоказателя.ГрафыПоПериодам.Свойство(ЗначениеЗаполнения.ИмяКолонки) Тогда
			// В таблице заполнения содержится графа, не предназначенная для вывода в отчет.
			Продолжить;
		КонецЕсли;
		
		ГрафыПоПериодам = СтрокиПоказателя.ГрафыПоПериодам[ЗначениеЗаполнения.ИмяКолонки];
		КодГрафы = ГрафыПоПериодам[Мин(Период, ГрафыПоПериодам.ВГраница())];
		
		Если ТипЗнч(СтрокаЯчейки) = Тип("СтрокаДереваЗначений") Тогда
			// Это строка многострочной части.
			ИдМСЧ = СтрокаЯчейки.Родитель.Идентификатор;
			СтрокиПоПериодам = ПланКонтейнера.СтрокиМСЧПоПериодам[ИдМСЧ];
			КодСтроки = СтрокиПоПериодам[Мин(Период, СтрокиПоПериодам.ВГраница())];
			Ячейка = ЯчейкаОтчетаВСтрокеМногострочнойЧасти(СтрокаЯчейки, КодСтроки, КодГрафы);
		Иначе
			Ячейка = БухгалтерскаяОтчетностьБРО.ЯчейкаОтчета(СтрокаЯчейки, КодГрафы);
		КонецЕсли;
		
		БухгалтерскаяОтчетностьБРО.УстановитьЗначениеЯчейки(Ячейка, ЗначениеЗаполнения.Значение);
		БухгалтерскаяОтчетностьБРО.ЗаполнитьРасшифровкуЯчейки(Ячейка, ЗначениеЗаполнения.Расшифровка,
			Расшифровка, КешЗаполненияРасшифровки);
		
	КонецЦикла;
	
КонецПроцедуры

Процедура СформироватьКонтейнерПоРазметке(ДанныеРаздела, ПланКонтейнера, УровеньСтруктурыТаблицы,
	СтрокиОтчета, Уровень, РодительскаяМСЧ = Неопределено);
	
	ТипРазметки = ПланКонтейнера.ТипыРазметкиПоУровням[Уровень];
	
	Для Каждого СтрокаРазметки Из УровеньСтруктурыТаблицы.Строки Цикл
		ОписаниеСтрокиОтчета = Новый Структура;
		ОписаниеСтрокиОтчета.Вставить("СтрокиПоПериодам", Новый Массив);
		ОписаниеСтрокиОтчета.Вставить("ГрафыПоПериодам", Новый Структура);
		
		Если ТипРазметки = "Итого" ИЛИ ТипРазметки = "Фиксированный" Тогда
			ИдентификаторВРазметке = СтрокаРазметки.Показатель;
			Если НЕ ЗначениеЗаполнено(ИдентификаторВРазметке) Тогда
				ИдентификаторВРазметке = "Итого";
			КонецЕсли;
			
			Для Каждого КодСтроки Из ПланКонтейнера.СтрокиПоПериодам[ИдентификаторВРазметке] Цикл
				ОписаниеСтрокиОтчета.СтрокиПоПериодам.Добавить(
					БухгалтерскаяОтчетностьБРО.ФиксированнаяСтрокаОтчета(ДанныеРаздела, КодСтроки));
			КонецЦикла;
			
			ОписаниеСтрокиОтчета.ГрафыПоПериодам = ПланКонтейнера.ГрафыПоПериодам;
			СтрокиОтчета.Вставить(СтрокаРазметки.Идентификатор, ОписаниеСтрокиОтчета);
			
			// В передаваемом описании структуры могут содержаться дополнительные уровни, не обрабатываемые при выводе.
			Если Уровень >= ПланКонтейнера.ТипыРазметкиПоУровням.ВГраница() Тогда
				Продолжить;
			КонецЕсли;
			
			СформироватьКонтейнерПоРазметке(ДанныеРаздела, ПланКонтейнера, СтрокаРазметки, СтрокиОтчета, Уровень + 1);
			
		ИначеЕсли ТипРазметки = "МногострочнаяЧасть" Тогда
			// Вписываемые показатели всегда подчинены описанию вида "Итого" или "Фиксированный".
			// Графа наименования всегда с кодом 01.
			ИдентификаторВРазметке = СтрокаРазметки.Родитель.Показатель;
			Если НЕ ЗначениеЗаполнено(ИдентификаторВРазметке) Тогда
				ИдентификаторВРазметке = "Итого";
			КонецЕсли;
			
			ПараметрыПоиска = Новый Структура("Тип, Идентификатор", "МногострочнаяЧасть",
				ПланКонтейнера.ИдентификаторыМногострочныхЧастей[ИдентификаторВРазметке]);
			МногострочнаяЧасть = ДанныеРаздела.Строки.НайтиСтроки(ПараметрыПоиска, Истина)[0];
			
			ИндексСтрокиВРазметке = УровеньСтруктурыТаблицы.Строки.Индекс(СтрокаРазметки);
			Если ИндексСтрокиВРазметке = 0 Тогда
				// В инициализированной многострочной части всегда присутствует одна строка.
				СтрокаМСЧ = МногострочнаяЧасть.Строки.Найти("Строка", "Тип");
			Иначе
				СтрокаМСЧ = БухгалтерскаяОтчетностьБРО.ДобавитьСтрокуМногострочнойЧасти(МногострочнаяЧасть);
			КонецЕсли;
			ОписаниеСтрокиОтчета.СтрокиПоПериодам.Добавить(СтрокаМСЧ);
			
			ОписаниеСтрокиОтчета.ГрафыПоПериодам = ПланКонтейнера.ГрафыПоПериодам;
			СтрокиОтчета.Вставить(СтрокаРазметки.Идентификатор, ОписаниеСтрокиОтчета);
			
			ЯчейкаНаименования = БухгалтерскаяОтчетностьБРО.ЯчейкаОтчета(СтрокаМСЧ, "01");
			БухгалтерскаяОтчетностьБРО.УстановитьЗначениеЯчейки(ЯчейкаНаименования, СтрокаРазметки.Показатель);
			
			// В передаваемом описании структуры могут содержаться дополнительные уровни, не обрабатываемые при выводе.
			Если Уровень >= ПланКонтейнера.ТипыРазметкиПоУровням.ВГраница() Тогда
				Продолжить;
			КонецЕсли;
			
			СформироватьКонтейнерПоРазметке(ДанныеРаздела, ПланКонтейнера, СтрокаРазметки, СтрокиОтчета, Уровень + 1,
				ОписаниеСтрокиОтчета);
			
		ИначеЕсли ТипРазметки = "ДополнениеМногострочнойЧасти" Тогда
			// Дополнение всегда подчинено описанию вида "МногострочнаяЧасть".
			Если ПланКонтейнера.СтрокиПоПериодам.Свойство(СтрокаРазметки.Показатель) Тогда
				ОписаниеСтрокиОтчета.СтрокиПоПериодам = РодительскаяМСЧ.СтрокиПоПериодам;
				ОписаниеСтрокиОтчета.ГрафыПоПериодам = ПланКонтейнера.ДополнительныеГрафыПоПериодам;
				СтрокиОтчета.Вставить(СтрокаРазметки.Идентификатор, ОписаниеСтрокиОтчета);
			КонецЕсли;
			
		Иначе
			// В передаваемом описании структуры могут содержаться дополнительные уровни, не обрабатываемые при выводе.
			Если Уровень >= ПланКонтейнера.ТипыРазметкиПоУровням.ВГраница() Тогда
				Продолжить;
			КонецЕсли;
			
			СформироватьКонтейнерПоРазметке(ДанныеРаздела, ПланКонтейнера, СтрокаРазметки, СтрокиОтчета, Уровень + 1);
			
		КонецЕсли;
		
	КонецЦикла;
	
КонецПроцедуры

Функция ТипИдентификатор()
	
	Возврат Новый ОписаниеТипов("Число");
	
КонецФункции

Функция ЯчейкаОтчетаВСтрокеМногострочнойЧасти(СтрокаМногострочнойЧасти, КодСтроки, КодГрафы)
	
	ИдентификаторЯчейки = Лев(СтрокаМногострочнойЧасти.Родитель.Идентификатор, 7) + КодСтроки + КодГрафы;
	Отбор = Новый Структура("Тип, Идентификатор", "Показатель", ИдентификаторЯчейки);
	
	Возврат СтрокаМногострочнойЧасти.Строки.НайтиСтроки(Отбор)[0];
	
КонецФункции

#КонецОбласти

#Область Обертки

Функция Список(СписокРазделенныйЗапятыми)
	
	Возврат РегламентированнаяОтчетностьКлиентСервер.Список(СписокРазделенныйЗапятыми);
	
КонецФункции

#КонецОбласти

#КонецОбласти
