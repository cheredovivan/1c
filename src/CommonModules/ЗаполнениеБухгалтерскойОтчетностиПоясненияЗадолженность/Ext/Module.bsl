#Область ПрограммныйИнтерфейс

// Описывает состав прикладных данных таблицы отчета.
// Под таблицей понимается совокупность строк с одинаковым составом колонок.
// Обычно каждая таблица в отчете имеет отдельное название, номер и шапку с описанием колонок.
//
// Параметры:
//  Описание - см. ЗаполнениеБухгалтерскойОтчетностиТабличное.НовыйОписаниеТаблицыОтчета - заполняемая коллекция
//  ИмяТаблицыОтчета - Строка - имя таблицы из ЗаполнениеБухгалтерскойОтчетностиРазмещение.СоставТаблицОтчета
//
Процедура ОписатьТаблицуОтчета(Описание, ИмяТаблицыОтчета) Экспорт
	
	Если ИмяТаблицыОтчета = "ДебиторскаяЗадолженностьНаличиеДвижение" Тогда
		ОписатьТаблицуОтчетаДебиторскаяЗадолженностьНаличиеДвижение(Описание);
	ИначеЕсли ИмяТаблицыОтчета = "ДебиторскаяЗадолженностьПросроченная" Тогда
		ОписатьТаблицуОтчетаДебиторскаяЗадолженностьПросроченная(Описание);
	ИначеЕсли ИмяТаблицыОтчета = "КредиторскаяЗадолженностьНаличиеДвижение" Тогда
		ОписатьТаблицуОтчетаКредиторскаяЗадолженностьНаличиеДвижение(Описание);
	ИначеЕсли ИмяТаблицыОтчета = "КредиторскаяЗадолженностьПросроченная" Тогда
		ОписатьТаблицуОтчетаКредиторскаяЗадолженностьПросроченная(Описание);
	КонецЕсли;

КонецПроцедуры

// Определяет состав заполняемых пояснений конкретного отчета (за конкретный период, по конкретной организации)
//
// Параметры:
//  ТаблицыОтчета - Структура - Ключ - имя таблицы из ЗаполнениеБухгалтерскойОтчетностиРазмещение.СоставТаблицОтчета; Значение - Булево.
//                  Для заполняемых пояснений следует установить значение Истина, состав коллекции изменять не следует.
//  КонтекстОтчета - см. БухгалтерскаяОтчетностьБРО.НовыйКонтекстОтчета
//
Процедура ОпределитьСоставЗаполняемыхПояснений(ТаблицыОтчета, КонтекстОтчета) Экспорт
	
	ТаблицыОтчета.ДебиторскаяЗадолженностьНаличиеДвижение = Истина;
	ТаблицыОтчета.ДебиторскаяЗадолженностьПросроченная    = Истина;
	ТаблицыОтчета.КредиторскаяЗадолженностьНаличиеДвижение = Истина;
	ТаблицыОтчета.КредиторскаяЗадолженностьПросроченная    = Истина;
	
КонецПроцедуры

// Заполняет таблицы отчета за один период.
//
// Параметры:
//  ПолучениеДанныхТаблицОтчета - см. ЗаполнениеБухгалтерскойОтчетностиТабличное.НовыйПолучениеДанныхТаблицОтчета -
//     процессор, который содержит исходные параметры для получения данных,
//     и в который нужно разместить полученные данные.
//  Классификаторы - Структура - Ключ: имя таблицы отчета; Значение: Структура - Ключ и Значение: имя колонки, содержащей значения по классификатору
//  КонтекстЗаполненияОтчета - см. БухгалтерскаяОтчетностьБРО.НовыйКонтекстЗаполненияОтчета
//
Процедура ЗаполнитьТаблицыОтчета(ПолучениеДанныхТаблицОтчета, Классификаторы, КонтекстЗаполненияОтчета) Экспорт
	
	ЗаполнитьПояснениеДебиторскаяЗадолженностьНаличиеДвижение(ПолучениеДанныхТаблицОтчета, Классификаторы, КонтекстЗаполненияОтчета);
	ЗаполнитьПояснениеКредиторскаяЗадолженностьНаличиеДвижение(ПолучениеДанныхТаблицОтчета, Классификаторы, КонтекстЗаполненияОтчета);
	
КонецПроцедуры

#КонецОбласти

#Область СлужебныеПроцедурыИФункции

#Область ДебиторскаяЗадолженностьЗаполнить

Процедура ОписатьТаблицуОтчетаДебиторскаяЗадолженностьНаличиеДвижение(Описание)
	
	Описание.Представление = НСтр("ru = 'Дебиторская задолженность';
									|en = 'Accounts receivable'");
	
	Описание.Структура.Добавить("ВариантУчета");
	Описание.Структура.Добавить("Группа");
	
	Описание.Классификаторы.Вставить("ВариантУчета", Новый СписокЗначений);
	Описание.Классификаторы.ВариантУчета.Добавить("ДолгосрочнаяДебиторскаяЗадолженность",  НСтр("ru = 'Долгосрочная дебиторская задолженность';
																								|en = 'Долгосрочная дебиторская задолженность'"));
	Описание.Классификаторы.ВариантУчета.Добавить("КраткосрочнаяДебиторскаяЗадолженность", НСтр("ru = 'Краткосрочная дебиторская задолженность';
																								|en = 'Short-term accounts receivable'"));
	
	Описание.ЧисловыеЗначения = ЧисловыеЗначенияПоясненияДебиторскаяЗадолженностьНаличиеДвижение();
	
КонецПроцедуры

Функция ЧисловыеЗначенияПоясненияДебиторскаяЗадолженностьНаличиеДвижение()
	
	ЧисловыеЗначения = Новый Массив;
	ЧисловыеЗначения.Добавить("НачалоНоминал");
	ЧисловыеЗначения.Добавить("НачалоРезерв");
	ЧисловыеЗначения.Добавить("ПоступилоНоминал");
	ЧисловыеЗначения.Добавить("ПоступилоПроценты");
	ЧисловыеЗначения.Добавить("СписаноНоминал");
	ЧисловыеЗначения.Добавить("СписаноНаРасходы");
	ЧисловыеЗначения.Добавить("ВосстановленоРезерв");
	ЧисловыеЗначения.Добавить("Переклассифицировано");
	ЧисловыеЗначения.Добавить("КонецНоминал");
	ЧисловыеЗначения.Добавить("КонецРезерв");
	Возврат ЧисловыеЗначения;
	
КонецФункции

Процедура ОписатьТаблицуОтчетаДебиторскаяЗадолженностьПросроченная(Описание)
	
	Описание.Представление = НСтр("ru = 'Просроченная дебиторская задолженность';
									|en = 'Overdue receivables'");
	
	Описание.Структура.Добавить("Группа");
	
	Описание.ВариантПериода = "НачалоКонец";
	Описание.ЧисловыеЗначения.Добавить("НоминальнаяВеличина"); // НачалоНоминальнаяВеличина, КонецНоминальнаяВеличина
	Описание.ЧисловыеЗначения.Добавить("БалансоваяСтоимость"); // НачалоБалансоваяСтоимость, КонецБалансоваяСтоимость
	
КонецПроцедуры

Процедура ОписатьТаблицуОтчетаКредиторскаяЗадолженностьПросроченная(Описание)
	
	Описание.Представление = НСтр("ru = 'Просроченная кредиторская задолженность';
									|en = 'Overdue payables'");
	
	Описание.Структура.Добавить("Группа");
	
	Описание.ВариантПериода = "НачалоКонец";
	Описание.ЧисловыеЗначения.Добавить("НоминальнаяВеличина"); // НачалоНоминальнаяВеличина, КонецНоминальнаяВеличина
	
КонецПроцедуры

Процедура ЗаполнитьПояснениеДебиторскаяЗадолженностьНаличиеДвижение(ЗаполняемыеДанные, Классификаторы, КонтекстЗаполненияОтчета)
	
	Если ЗаполнениеБухгалтерскойОтчетностиТабличное.ТаблицаОтчета(ЗаполняемыеДанные, "ДебиторскаяЗадолженностьНаличиеДвижение") = Неопределено Тогда
		Возврат;
	КонецЕсли;
	
	КонтекстРаздела = КонтекстРазделаДебиторская(КонтекстЗаполненияОтчета);
	
	ШаблоныРасшифровкиОбщие = ШаблоныРасшифровкиДебиторскаяЗадолженностьНаличиеДвижение(КонтекстРаздела);
	ШаблоныЗаголовковПросроченная = ШаблоныРасшифровкиПросроченная();
	ПараметрыТекстовРасшифровки = ПараметрыТекстовРасшифровки(КонтекстЗаполненияОтчета, КонтекстРаздела);
	
	ТаблицыРасчета = ТаблицыРасчетаДебиторская(КонтекстЗаполненияОтчета, КонтекстРаздела);
		
	ИмяТаблицы = "ДебиторскаяЗадолженностьНаличиеДвижение";
	НаличиеДвижение = ЗаполнениеБухгалтерскойОтчетностиТабличное.НачатьВыводТаблицы(ЗаполняемыеДанные, ИмяТаблицы);
	
	ДебиторскаяЗадолженностьПросроченная = ЗаполнениеБухгалтерскойОтчетностиТабличное.НачатьВыводТаблицы(
		ЗаполняемыеДанные,
		"ДебиторскаяЗадолженностьПросроченная");
		
	РасчетыПросроченная = ТаблицыРасчета.Расчеты.Скопировать(,"Группа, НачалоПросроченная, КонецПросроченная");
	РасчетыПросроченная.Свернуть("Группа", "НачалоПросроченная, КонецПросроченная");
	РасчетыПросроченная.Индексы.Добавить("Группа");
	
	Для Каждого ВариантУчета Из Классификаторы.ДебиторскаяЗадолженностьНаличиеДвижение.ВариантУчета Цикл
		
		ДолгосрочнаяЗадолженность = Ложь;
		ГруппыРаздела = ТаблицыРасчета.Группы.НайтиСтроки(Новый Структура("ОтражатьВКраткосрочной", Истина));
		Если ВариантУчета.Значение = Классификаторы.ДебиторскаяЗадолженностьНаличиеДвижение.ВариантУчета.ДолгосрочнаяДебиторскаяЗадолженность Тогда
			ДолгосрочнаяЗадолженность = Истина;
			// В таблице "Долгосрочная задолженность" выводятся только группы, в которых присутствуют счета расчета с выделенной долгосрочной частью
			ГруппыРаздела = ТаблицыРасчета.Группы.НайтиСтроки(Новый Структура("ОтражатьВДолгосрочной", Истина));
		КонецЕсли;
		
		// Группы
		Для Каждого СтрокаГруппы Из ГруппыРаздела Цикл
			
			ИндексГруппы = ТаблицыРасчета.Группы.Индекс(СтрокаГруппы);
			ОтборСчетов= Новый Структура("Группа", ИндексГруппы);
			Если ДолгосрочнаяЗадолженность Тогда
				ОтборСчетов.Вставить("ОтражатьВДолгосрочной", Истина);
			Иначе
				ОтборСчетов.Вставить("ОтражатьВКраткосрочной", Истина);
			КонецЕсли;
			
			МассивСчета = ТаблицыРасчета.Счета.НайтиСтроки(ОтборСчетов);
			
			СчетаГруппыРаздела = ОпределитьСчетаГруппыРаздела(СтрокаГруппы, МассивСчета);
			
			УстановитьПараметрыТекстовРасшифровкиПоГруппе(ПараметрыТекстовРасшифровки, СтрокаГруппы, СчетаГруппыРаздела);
			
			// В зависимости от вида задолженности и набора счета заполняются шаблоны заголовков
			ШаблоныЗаголовков = Новый Соответствие;
			ПолучитьШаблоныЗаголовковГруппы(ШаблоныЗаголовков, ШаблоныРасшифровкиОбщие, СтрокаГруппы, СчетаГруппыРаздела.МеткаШаблонПорядокРасчета, ДолгосрочнаяЗадолженность);
			
			НачатьДобавлениеСтрокиНаличиеДвижение(
				НаличиеДвижение,
				СтрокаГруппы,
				ШаблоныЗаголовков,
				ПараметрыТекстовРасшифровки,
				ВариантУчета.Значение);
				
			// Показатели по аренде (лизингу) рассчитываются в разрезе договоров без разбивки на организации
			Если СчетаГруппыРаздела.МеткаШаблонПорядокРасчета = "Аренда" Тогда
				// Расчеты по аренде во встроенной отчетности не поддержаны
				Продолжить;
			КонецЕсли;

			ВывестиПросроченную = ДебиторскаяЗадолженностьПросроченная <> Неопределено И Не ДолгосрочнаяЗадолженность;
			Если ВывестиПросроченную Тогда
				ГруппаПросроченная = РасчетыПросроченная.Найти(ИндексГруппы, "Группа");
				Если ГруппаПросроченная = Неопределено Тогда
					ВывестиПросроченную = Ложь;
				Иначе
					ВывестиПросроченную = ГруппаПросроченная.НачалоПросроченная <> 0 Или ГруппаПросроченная.КонецПросроченная <> 0;
				КонецЕсли;
			КонецЕсли;
			Если ВывестиПросроченную Тогда
				УстановитьШаблоныЗаголовковПросроченнаяПоГруппе(ШаблоныЗаголовковПросроченная, ШаблоныЗаголовков);
				НачатьДобавлениеСтрокиПросроченная(
					ДебиторскаяЗадолженностьПросроченная,
					СтрокаГруппы,
					ШаблоныЗаголовковПросроченная,
					ПараметрыТекстовРасшифровки);
			КонецЕсли;
				
			// Организации
			Для Каждого СтрокаОрганизации Из ТаблицыРасчета.Организации Цикл
				
				ВывестиРасшифровкуОрганизация(НаличиеДвижение, ШаблоныЗаголовков, СтрокаОрганизации);
				
				// основные настройки для открытия отчета-расшифровки
				ОсновныеНастройкиОтчета = ОсновныеНастройкиОтчета(СтрокаОрганизации.Организация, КонтекстЗаполненияОтчета);
				
				ОбщаяСуммаНачисленийПроценты = 0;
				ОбщаяСуммаСписанийНаРасходы = 0;
				
				РезервыПоСчетам = Новый Соответствие;
				// Счета
				Для Каждого СтрокаСчет Из МассивСчета Цикл
					 
					Отбор = Новый Структура("ДолгосрочнаяЗадолженность, Организация, СчетРасчетов", ДолгосрочнаяЗадолженность, СтрокаОрганизации.Организация, СтрокаСчет.Счет);
					
					// Счета расчетов
					МассивРасчеты = ТаблицыРасчета.Расчеты.НайтиСтроки(Отбор);
					
					Если Не ЗначениеЗаполнено(МассивРасчеты) Тогда
						Продолжить;
					КонецЕсли;
					ИмяНабора = СтрокаСчет.ИмяНабора;
					
					ОтчетСчетаРасчетов = НастройкиОСВПоСчетуРасчета(ОсновныеНастройкиОтчета, СтрокаСчет, КонтекстРаздела);
					
					Для Каждого СтрокаТаблицы Из МассивРасчеты Цикл
						
						ПараметрыТекстовРасшифровки.Вставить("Счет", Строка(СтрокаТаблицы.СчетРасчетов));
						
						// НачалоНоминал
						ИмяКолонки = "НачалоНоминал";
						Значение = СтрокаТаблицы.СНД;
						Описание = ОписаниеСлагаемогоИзШаблона(ИмяНабора, ШаблоныРасшифровкиОбщие, ИмяКолонки, ПараметрыТекстовРасшифровки, "Слагаемое");
						ЗаполнениеБухгалтерскойОтчетностиТабличное.ДобавитьСлагаемое(НаличиеДвижение, ИмяКолонки, Описание, Значение, , ОтчетСчетаРасчетов);
						ОписаниеНачалоПросроченная = Описание;
						
						// ПоступилоНоминал
						ИмяКолонки = "ПоступилоНоминал";
						Значение = СтрокаТаблицы.ДО;
						Описание = ОписаниеСлагаемогоИзШаблона(ИмяНабора, ШаблоныРасшифровкиОбщие, ИмяКолонки, ПараметрыТекстовРасшифровки, "Слагаемое");
						ЗаполнениеБухгалтерскойОтчетностиТабличное.ДобавитьСлагаемое(НаличиеДвижение, ИмяКолонки, Описание, Значение, , ОтчетСчетаРасчетов);
						
						Значение = - СтрокаТаблицы.Вычет;
						Если Значение <> 0 Тогда
							Описание = ОписаниеСлагаемогоИзШаблона(ИмяНабора, ШаблоныРасшифровкиОбщие, ИмяКолонки, ПараметрыТекстовРасшифровки, "Вычет");
							ЗаполнениеБухгалтерскойОтчетностиТабличное.ДобавитьСлагаемое(НаличиеДвижение, ИмяКолонки, Описание, Значение, , ОтчетСчетаРасчетов);
						КонецЕсли;
						
						Значение = - СтрокаТаблицы.ИсключенДО;
						Если Значение <> 0 Тогда
							Описание = ОписаниеСлагаемогоИзШаблона(ИмяНабора, ШаблоныРасшифровкиОбщие, ИмяКолонки, ПараметрыТекстовРасшифровки, "ИсключенДО");
							ЗаполнениеБухгалтерскойОтчетностиТабличное.ДобавитьСлагаемое(НаличиеДвижение, ИмяКолонки, Описание, Значение, , ОтчетСчетаРасчетов);
						КонецЕсли;
						
						// СписаноНоминал
						ИмяКолонки = "СписаноНоминал";
						Значение = - СтрокаТаблицы.КО;
						Описание = ОписаниеСлагаемогоИзШаблона(ИмяНабора, ШаблоныРасшифровкиОбщие, ИмяКолонки, ПараметрыТекстовРасшифровки, "Слагаемое");
						ЗаполнениеБухгалтерскойОтчетностиТабличное.ДобавитьСлагаемое(НаличиеДвижение, ИмяКолонки, Описание, Значение, , ОтчетСчетаРасчетов);
						
						Значение = СтрокаТаблицы.Вычет;
						Если Значение <> 0 Тогда
							Описание = ОписаниеСлагаемогоИзШаблона(ИмяНабора, ШаблоныРасшифровкиОбщие, ИмяКолонки, ПараметрыТекстовРасшифровки, "Вычет");
							ЗаполнениеБухгалтерскойОтчетностиТабличное.ДобавитьСлагаемое(НаличиеДвижение, ИмяКолонки, Описание, Значение, , ОтчетСчетаРасчетов);
						КонецЕсли;
						
						Значение = СтрокаТаблицы.ИсключенКО;
						Если Значение <> 0 Тогда
							Описание = ОписаниеСлагаемогоИзШаблона(ИмяНабора, ШаблоныРасшифровкиОбщие, ИмяКолонки, ПараметрыТекстовРасшифровки, "ИсключенКО");
							ЗаполнениеБухгалтерскойОтчетностиТабличное.ДобавитьСлагаемое(НаличиеДвижение, ИмяКолонки, Описание, Значение, , ОтчетСчетаРасчетов);
						КонецЕсли;
						
						// Переклассифицировано
						ИмяКолонки = "Переклассифицировано";
						Если ДолгосрочнаяЗадолженность Тогда
							Значение = - СтрокаТаблицы.Переклассифицировано;
						Иначе
							Значение = СтрокаТаблицы.Переклассифицировано;
						КонецЕсли;
						Если Значение <> 0 Тогда
							Описание = ОписаниеСлагаемогоИзШаблона(ИмяНабора, ШаблоныРасшифровкиОбщие, ИмяКолонки, ПараметрыТекстовРасшифровки, "Слагаемое");
							ЗаполнениеБухгалтерскойОтчетностиТабличное.ДобавитьСлагаемое(НаличиеДвижение, ИмяКолонки, Описание, Значение, , ОтчетСчетаРасчетов);
						КонецЕсли;
						
						// КонецНоминал
						ИмяКолонки = "КонецНоминал";
						Значение = СтрокаТаблицы.СКД;
						Описание = ОписаниеСлагаемогоИзШаблона(ИмяНабора, ШаблоныРасшифровкиОбщие, ИмяКолонки, ПараметрыТекстовРасшифровки, "Слагаемое");
						ЗаполнениеБухгалтерскойОтчетностиТабличное.ДобавитьСлагаемое(НаличиеДвижение, ИмяКолонки, Описание, Значение, , ОтчетСчетаРасчетов);
						ОписаниеКонецПросроченная = Описание;
						
						Если ВывестиПросроченную И (СтрокаТаблицы.НачалоПросроченная <> 0 Или СтрокаТаблицы.КонецПросроченная <> 0) Тогда
							
							ЗаполнениеБухгалтерскойОтчетностиТабличное.ДобавитьСлагаемое(
								ДебиторскаяЗадолженностьПросроченная,
								"НачалоНоминальнаяВеличина",
								ОписаниеКонецПросроченная,
								СтрокаТаблицы.НачалоПросроченная);
							
							ЗаполнениеБухгалтерскойОтчетностиТабличное.ДобавитьСлагаемое(
								ДебиторскаяЗадолженностьПросроченная,
								"КонецНоминальнаяВеличина",
								ОписаниеКонецПросроченная,
								СтрокаТаблицы.КонецПросроченная);
								
							ЗаполнениеБухгалтерскойОтчетностиТабличное.ДобавитьСлагаемое(
								ДебиторскаяЗадолженностьПросроченная,
								"НачалоБалансоваяСтоимость",
								ОписаниеКонецПросроченная,
								СтрокаТаблицы.НачалоПросроченная);
							
							ЗаполнениеБухгалтерскойОтчетностиТабличное.ДобавитьСлагаемое(
								ДебиторскаяЗадолженностьПросроченная,
								"КонецБалансоваяСтоимость",
								ОписаниеКонецПросроченная,
								СтрокаТаблицы.КонецПросроченная);
								
						КонецЕсли;
						
					КонецЦикла;
				
					// НДС авансов
					МассивНДСАвансов = ТаблицыРасчета.НДСАвансов.НайтиСтроки(Отбор);
					Для Каждого СтрокаНДС Из МассивНДСАвансов Цикл
						ДобавитьСлагаемыеНДСАвансовДебиторская(НаличиеДвижение, СтрокаНДС, ОсновныеНастройкиОтчета, ПараметрыТекстовРасшифровки);
					КонецЦикла;
					
					// ПоступилоПроценты
					МассивПроцентыШтрафы = ТаблицыРасчета.ПроцентыШтрафы.НайтиСтроки(Отбор);
					ИмяКолонки = "ПоступилоПроценты";
					Для Каждого СтрокаТаблицы Из МассивПроцентыШтрафы Цикл
						ОтчетСчета = НастройкиАнализСчетаПоВидуПДР(ОсновныеНастройкиОтчета, СтрокаТаблицы.СчетДоходов, СтрокаТаблицы.СчетРасчетов, КонтекстРаздела.ВидПДРНачисление);
						Описание = ОписаниеСлагаемогоИзШаблона(ИмяНабора, ШаблоныРасшифровкиОбщие, ИмяКолонки, ПараметрыТекстовРасшифровки, "Слагаемое");
						Значение = СтрокаТаблицы.СуммаНачислений;
						ОбщаяСуммаНачисленийПроценты = ОбщаяСуммаНачисленийПроценты + Значение;
						ЗаполнениеБухгалтерскойОтчетностиТабличное.ДобавитьСлагаемое(НаличиеДвижение, ИмяКолонки, Описание, Значение, , ОтчетСчета);
					КонецЦикла;
					
					// СписаноНаРасходы
					МассивСписано = ТаблицыРасчета.Списано.НайтиСтроки(Отбор);
					ИмяКолонки = "СписаноНаРасходы";
					Для Каждого СтрокаТаблицы Из МассивСписано Цикл
						ОтчетСчета = НастройкиАнализСчетаПоВидуПДР(ОсновныеНастройкиОтчета, СтрокаТаблицы.СчетРасходов, СтрокаТаблицы.СчетРасчетов, КонтекстРаздела.ВидПДРСписание);
						Описание = ОписаниеСлагаемогоИзШаблона(ИмяНабора, ШаблоныРасшифровкиОбщие, ИмяКолонки, ПараметрыТекстовРасшифровки, "Слагаемое");
						Значение = - СтрокаТаблицы.СуммаСписаний;
						ОбщаяСуммаСписанийНаРасходы = ОбщаяСуммаСписанийНаРасходы + Значение;
						ЗаполнениеБухгалтерскойОтчетностиТабличное.ДобавитьСлагаемое(НаличиеДвижение, ИмяКолонки, Описание, Значение, , ОтчетСчета);
					КонецЦикла;
					
					// Суммируются резервы, которые относятся к текущей группе: здесь они отнесены к счетам актива, а вывести их надо в разрезе счетов обесценения
					МассивРезервы = ТаблицыРасчета.Резервы.НайтиСтроки(Отбор);
					ДополнитьДанныеПоРезервам(РезервыПоСчетам, МассивРезервы);
					
				КонецЦикла;
				
				// Резервы, по которым не найдены объекты учета, отражаются в группе с флагом "ОтразитьРезервыБезОбъектовУчета"
				Если СтрокаГруппы.ОтразитьРезервыБезОбъектовУчета Тогда
					СчетРасчетов = ПланыСчетов.Хозрасчетный.ПустаяСсылка();
					ОтборРезервы = Новый Структура("ДолгосрочнаяЗадолженность, Организация, СчетРасчетов", ДолгосрочнаяЗадолженность, СтрокаОрганизации.Организация, СчетРасчетов);
					МассивРезервы = ТаблицыРасчета.Резервы.НайтиСтроки(ОтборРезервы);
					ДополнитьДанныеПоРезервам(РезервыПоСчетам, МассивРезервы);
				КонецЕсли;
				
				// Суммы НДС авансов, по которым не найдены объекты учета, отражаются в группе с флагом "ОтразитьНДСАвансовБезОбъектовУчета"
				Если СтрокаГруппы.ОтразитьНДСАвансовБезОбъектовУчета Тогда
					СчетРасчетов = ПланыСчетов.Хозрасчетный.ПустаяСсылка();
					ОтборНДС = Новый Структура("ДолгосрочнаяЗадолженность, Организация, СчетРасчетов", ДолгосрочнаяЗадолженность, СтрокаОрганизации.Организация, СчетРасчетов);
					МассивНДСАвансов = ТаблицыРасчета.НДСАвансов.НайтиСтроки(ОтборНДС);
					Для Каждого СтрокаНДС Из МассивНДСАвансов Цикл
						ДобавитьСлагаемыеНДСАвансовДебиторская(НаличиеДвижение, СтрокаНДС, ОсновныеНастройкиОтчета, ПараметрыТекстовРасшифровки, Истина);
					КонецЦикла;
				КонецЕсли;
				
				// Вычет ПоступилоНоминал
				ИмяКолонки = "ПоступилоНоминал";
				Значение = - ОбщаяСуммаНачисленийПроценты;
				Если Значение <> 0 Тогда
					ОтчетСчета = НастройкиАнализСчетаПоВидуПДР(ОсновныеНастройкиОтчета, ПланыСчетов.Хозрасчетный.ПрочиеДоходы, СчетаГруппыРаздела.Счета, КонтекстРаздела.ВидПДРНачисление);
					Описание = НСтр("ru = 'За вычетом: Сумма из графы ""Проценты, штрафы и иные начисления""';
									|en = 'Minus: amount from the ""Interest, fines and other charges"" column'");
					ЗаполнениеБухгалтерскойОтчетностиТабличное.ДобавитьСлагаемое(НаличиеДвижение, ИмяКолонки, Описание, Значение, , ОтчетСчета);
				КонецЕсли;
				
				// Вычет СписаноНоминал
				ИмяКолонки = "СписаноНоминал";
				Значение = - ОбщаяСуммаСписанийНаРасходы;
				Если Значение <> 0 Тогда
					ОтчетСчета = НастройкиАнализСчетаПоВидуПДР(ОсновныеНастройкиОтчета, ПланыСчетов.Хозрасчетный.ПрочиеРасходы, СчетаГруппыРаздела.Счета, КонтекстРаздела.ВидПДРСписание);
					Описание = НСтр("ru = 'За вычетом: Сумма из графы ""Списано на расходы""';
									|en = 'Minus: amount from the ""Write off as expenses"" column'");
					ЗаполнениеБухгалтерскойОтчетностиТабличное.ДобавитьСлагаемое(НаличиеДвижение, ИмяКолонки, Описание, Значение, , ОтчетСчета);
				КонецЕсли;
				
				// Резервы
				Для Каждого ЭлементРезерв Из РезервыПоСчетам Цикл
					ОтчетСчетаРезервов = НастройкиОСВПоСчету(ОсновныеНастройкиОтчета, ЭлементРезерв.Ключ);
					ПараметрыТекстовРасшифровки.Вставить("СчетРезервов", ЭлементРезерв.Ключ); 
					Описание = СтроковыеФункцииКлиентСервер.ВставитьПараметрыВСтроку(НСтр("ru = '[СчетРезервов]';
																							|en = '[СчетРезервов]'"), ПараметрыТекстовРасшифровки);
					// НачалоРезерв
					ИмяКолонки = "НачалоРезерв";
					Значение = - ЭлементРезерв.Значение.СНК;
					ЗаполнениеБухгалтерскойОтчетностиТабличное.ДобавитьСлагаемое(НаличиеДвижение, ИмяКолонки, Описание, Значение, , ОтчетСчетаРезервов);
					
					// ВосстановленоРезерв
					ИмяКолонки = "ВосстановленоРезерв";
					Значение = - ЭлементРезерв.Значение.ДО;
					ЗаполнениеБухгалтерскойОтчетностиТабличное.ДобавитьСлагаемое(НаличиеДвижение, ИмяКолонки, Описание, Значение, , ОтчетСчетаРезервов);
					
					// КонецРезерв
					ИмяКолонки = "КонецРезерв";
					Значение = - ЭлементРезерв.Значение.СКК;
					ЗаполнениеБухгалтерскойОтчетностиТабличное.ДобавитьСлагаемое(НаличиеДвижение, ИмяКолонки, Описание, Значение, , ОтчетСчетаРезервов);
					
					Если ВывестиПросроченную Тогда
						
						// Исходя из того, что просроченная задолженность с большой вероятностью должна быть обесценена,
						// относим сумму обесценения преимущественно к просроченной задолженности.
						// В будущих версиях поведение может быть изменено.
						
						ДобавитьСлагаемоеБалансовойСтоимости(
							ДебиторскаяЗадолженностьПросроченная,
							"НачалоБалансоваяСтоимость",
							Описание,
							- ЭлементРезерв.Значение.СНК);
						
						ДобавитьСлагаемоеБалансовойСтоимости(
							ДебиторскаяЗадолженностьПросроченная,
							"КонецБалансоваяСтоимость",
							Описание,
							- ЭлементРезерв.Значение.СКК);
						
					КонецЕсли;
					
				КонецЦикла;
			
			КонецЦикла;
			ЗаполнениеБухгалтерскойОтчетностиТабличное.ЗакончитьДобавлениеСтрокиТаблицыОтчета(НаличиеДвижение, ШаблоныЗаголовков);
			Если ВывестиПросроченную Тогда
				ЗаполнениеБухгалтерскойОтчетностиТабличное.ЗакончитьДобавлениеСтрокиТаблицыОтчета(
					ДебиторскаяЗадолженностьПросроченная,
					ШаблоныЗаголовковПросроченная);
			КонецЕсли;
		КонецЦикла;
	КонецЦикла;
КонецПроцедуры

Процедура ДополнитьДанныеПоРезервам(РезервыПоСчетам, Резервы)
	
	Для Каждого СтрокаТаблицы Из Резервы Цикл
		Если РезервыПоСчетам[СтрокаТаблицы.Счет] = Неопределено Тогда
			РезервыПоСчетам.Вставить(СтрокаТаблицы.Счет, Новый Структура("СНК, ДО, СКК", 0, 0, 0));
		КонецЕсли;
		
		Для Каждого Показатель Из РезервыПоСчетам[СтрокаТаблицы.Счет] Цикл
			РезервыПоСчетам[СтрокаТаблицы.Счет][Показатель.Ключ] = Показатель.Значение + СтрокаТаблицы[Показатель.Ключ];
		КонецЦикла;
	КонецЦикла;
		
КонецПроцедуры

Процедура ДобавитьСлагаемыеНДСАвансовДебиторская(ВыводТаблицы, СтрокаНДС, ОсновныеНастройкиОтчета, ПараметрыТекстов, БезОбъектовУчета = Ложь)
	
	ОтчетСчета= НастройкиОСВПоСчету(ОсновныеНастройкиОтчета, СтрокаНДС.Счет);

	ПараметрыТекстов.Вставить("СчетНДСАвансов", Строка(СтрокаНДС.Счет));
	
	ИмяКолонки = "НачалоНоминал";
	Значение = - СтрокаНДС.СНК;
	Если Значение <> 0 Тогда
		ШаблонОписания = НСтр("ru = 'Вычет НДС: кредитовое сальдо по счету [СчетНДСАвансов] по объектам, учитываемым на счете [Счет]';
								|en = 'VAT deduction: credit balance on account [СчетНДСАвансов] for objects recorded on account [Счет]'");
		Если БезОбъектовУчета Тогда
			ШаблонОписания = НСтр("ru = 'Вычет НДС: кредитовое сальдо по счету [СчетНДСАвансов], уменьшенное на величины, выделенные по объектам учета';
									|en = 'VAT deduction: credit balance on account [СчетНДСАвансов], reduced by the amounts allocated by accounting objects'");
		КонецЕсли;
		Описание = СтроковыеФункцииКлиентСервер.ВставитьПараметрыВСтроку(ШаблонОписания, ПараметрыТекстов);
		ЗаполнениеБухгалтерскойОтчетностиТабличное.ДобавитьСлагаемое(ВыводТаблицы, ИмяКолонки, Описание, Значение, , ОтчетСчета);
	КонецЕсли;
	
	ИмяКолонки = "ПоступилоНоминал";
	Значение = - СтрокаНДС.КО;
	Если Значение <> 0 Тогда
		ШаблонОписания = НСтр("ru = 'Вычет НДС: кредитовый оборот по счету [СчетНДСАвансов] по объектам, учитываемым на счете [Счет]';
								|en = 'VAT deduction: credit turnover on account [СчетНДСАвансов] for objects recorded on account [Счет]'");
		Если БезОбъектовУчета Тогда
			ШаблонОписания = НСтр("ru = 'Вычет НДС: кредитовый оборот по счету [СчетНДСАвансов], уменьшенный на величины, выделенные по объектам учета';
									|en = 'VAT deduction: credit turnover on account [СчетНДСАвансов], reduced by the amounts allocated by accounting objects'");
		КонецЕсли;
		Описание = СтроковыеФункцииКлиентСервер.ВставитьПараметрыВСтроку(ШаблонОписания, ПараметрыТекстов);
		ЗаполнениеБухгалтерскойОтчетностиТабличное.ДобавитьСлагаемое(ВыводТаблицы, ИмяКолонки, Описание, Значение, , ОтчетСчета);
	КонецЕсли;
	Значение = СтрокаНДС.Вычет;
	Если Значение <> 0 Тогда
		ШаблонОписания = НСтр("ru = 'Исключен кредитовый оборот по счету [СчетНДСАвансов] в пределах дебетового оборота по объектам, учитываемым на счете [Счет]';
								|en = 'Credit turnover on account [СчетНДСАвансов] is excluded within the debit turnover for objects recorded on account [Счет]'");
		Если БезОбъектовУчета Тогда
			ШаблонОписания = НСтр("ru = 'Исключен кредитовый оборот по счету [СчетНДСАвансов], уменьшенный на величины, выделенные по объектам учета, в пределах дебетового оборота';
									|en = 'Credit turnover on account [СчетНДСАвансов] is excluded, reduced by the amounts allocated by accounting objects within the debit turnover'");
		КонецЕсли;
		Описание = СтроковыеФункцииКлиентСервер.ВставитьПараметрыВСтроку(ШаблонОписания, ПараметрыТекстов);
		ЗаполнениеБухгалтерскойОтчетностиТабличное.ДобавитьСлагаемое(ВыводТаблицы, ИмяКолонки, Описание, Значение, , ОтчетСчета);
	КонецЕсли;
	
	ИмяКолонки = "СписаноНоминал";
	Значение = СтрокаНДС.ДО;
	Если Значение <> 0 Тогда
		ШаблонОписания = НСтр("ru = 'Вычет НДС: дебетовый оборот по счету [СчетНДСАвансов] по объектам, учитываемым на счете [Счет]';
								|en = 'VAT deduction: debit turnover on account [СчетНДСАвансов] for objects recorded on account [Счет]'");
		Если БезОбъектовУчета Тогда
			ШаблонОписания = НСтр("ru = 'Вычет НДС: дебетовый оборот по счету [СчетНДСАвансов], уменьшенный на величины, выделенные по объектам учета';
									|en = 'VAT deduction: debit turnover on account [СчетНДСАвансов], reduced by the amounts allocated by accounting objects'");
		КонецЕсли;
		Описание = СтроковыеФункцииКлиентСервер.ВставитьПараметрыВСтроку(ШаблонОписания, ПараметрыТекстов);
		ЗаполнениеБухгалтерскойОтчетностиТабличное.ДобавитьСлагаемое(ВыводТаблицы, ИмяКолонки, Описание, Значение, , ОтчетСчета);
	КонецЕсли;
	Значение = - СтрокаНДС.Вычет;
	Если Значение <> 0 Тогда
		ШаблонОписания = НСтр("ru = 'Исключен дебетовый оборот по счету [СчетНДСАвансов] в пределах кредитового оборота по объектам, учитываемым на счете [Счет]';
								|en = 'Debit turnover on account [СчетНДСАвансов] is excluded within the credit turnover for objects recorded on account [Счет]'");
		Если БезОбъектовУчета Тогда
			ШаблонОписания = НСтр("ru = 'Исключен дебетовый оборот по счету [СчетНДСАвансов], уменьшенный на величины, выделенные по объектам учета, в пределах кредитового оборота';
									|en = 'Debit turnover on account [СчетНДСАвансов] is excluded, reduced by the amounts allocated by accounting objects within the credit turnover'");
		КонецЕсли;
		Описание = СтроковыеФункцииКлиентСервер.ВставитьПараметрыВСтроку(ШаблонОписания, ПараметрыТекстов);
		ЗаполнениеБухгалтерскойОтчетностиТабличное.ДобавитьСлагаемое(ВыводТаблицы, ИмяКолонки, Описание, Значение, , ОтчетСчета);
	КонецЕсли;
	
	ИмяКолонки = "КонецНоминал";
	Значение = - СтрокаНДС.СКК;
	Если Значение <> 0 Тогда
		ИмяКолонки = "КонецНоминал";
		ШаблонОписания = НСтр("ru = 'Вычет НДС: кредитовое сальдо по счету [СчетНДСАвансов] по объектам, учитываемым на счете [Счет]';
								|en = 'VAT deduction: credit balance on account [СчетНДСАвансов] for objects recorded on account [Счет]'");
		Если БезОбъектовУчета Тогда
			ШаблонОписания = НСтр("ru = 'Вычет НДС: кредитовое сальдо по счету [СчетНДСАвансов], уменьшенное на величины, выделенные по объектам учета';
									|en = 'VAT deduction: credit balance on account [СчетНДСАвансов], reduced by the amounts allocated by accounting objects'");
		КонецЕсли;
		Описание = СтроковыеФункцииКлиентСервер.ВставитьПараметрыВСтроку(ШаблонОписания, ПараметрыТекстов);
		ЗаполнениеБухгалтерскойОтчетностиТабличное.ДобавитьСлагаемое(ВыводТаблицы, ИмяКолонки, Описание, Значение, , ОтчетСчета);
	КонецЕсли;

КонецПроцедуры

Процедура ДобавитьСлагаемоеБалансовойСтоимости(ВыводТаблицы, ИмяКолонки, Описание, Значение)
	
	// Добавляем слагаемое так, чтобы сумма не стала отрицательной
	
	СтрокаТаблицы = ЗаполнениеБухгалтерскойОтчетностиТабличное.КрайняяСтрокаТаблицы(ВыводТаблицы);
	ЛимитированноеЗначение = Макс(Мин(0, -СтрокаТаблицы[ИмяКолонки]), Значение);
	ЗаполнениеБухгалтерскойОтчетностиТабличное.ДобавитьСлагаемое(ВыводТаблицы, ИмяКолонки, Описание, ЛимитированноеЗначение);
	
КонецПроцедуры

Функция НовыйТаблицыРасчетаДебиторская()
	
	ТаблицыРасчета = Новый Структура; // ключ - имя таблицы, значение - ТаблицаЗначений
	ТаблицыРасчета.Вставить("Группы");
	ТаблицыРасчета.Вставить("Организации");
	ТаблицыРасчета.Вставить("Счета");
	ТаблицыРасчета.Вставить("Расчеты");
	ТаблицыРасчета.Вставить("НДСАвансов");
	ТаблицыРасчета.Вставить("РасчетыПоАренде");
	ТаблицыРасчета.Вставить("Резервы");
	ТаблицыРасчета.Вставить("Списано");
	ТаблицыРасчета.Вставить("ПроцентыШтрафы");
	
	Возврат ТаблицыРасчета;
	
КонецФункции

Функция ТаблицыРасчетаДебиторская(КонтекстЗаполненияОтчета, КонтекстРаздела)
		
	ТаблицыРасчета = НовыйТаблицыРасчетаДебиторская();
	
	СписокВидовСубконто = СписокВидовСубконто();
	
	// Наборы счетов
	Отбор = Новый Структура("ОтражатьВДебиторской", Истина);
	НаборыСчетов = НаборыСчетов(КонтекстРаздела, СписокВидовСубконто).Скопировать(Отбор);
	
	// Группы и счета
	Группы = НовыйГруппы();
	ТаблицаСчетов = НовыйТаблицаСчетов();
	ЗаполнитьГруппыДебиторскойЗадолженности(Группы, ТаблицаСчетов, КонтекстРаздела);
	ТаблицаСчетов.Сортировать("ПорядокСчета");

	ВидыСубконтоСчетов = ВидыСубконтоСчетов(ТаблицаСчетов.ВыгрузитьКолонку("Счет"));
	ВидыСубконтоСчетов.Индексы.Добавить("Счет");
	ОпределитьНаборПоСвойствамСчета(НаборыСчетов, ТаблицаСчетов, ВидыСубконтоСчетов);
	ДополнитьНаборыСчетами(НаборыСчетов, ТаблицаСчетов);
	
	ТаблицыРасчета.Вставить("Группы", Группы);
	ТаблицыРасчета.Вставить("Счета",  ТаблицаСчетов);

	Запрос = Новый Запрос;
	МенеджерВременныхТаблиц = Новый МенеджерВременныхТаблиц;
	Запрос.МенеджерВременныхТаблиц = МенеджерВременныхТаблиц;
	
	Запрос.УстановитьПараметр("Организации",      КонтекстЗаполненияОтчета.Организации);
	Запрос.УстановитьПараметр("НачалоПериода",    НачалоГода(КонтекстЗаполненияОтчета.Период.Начало));
	Запрос.УстановитьПараметр("КонецПериода",     КонтекстЗаполненияОтчета.Период.Конец);
	Запрос.УстановитьПараметр("КонецПериодаДата", КонтекстЗаполненияОтчета.Период.КонецДата);
	Запрос.УстановитьПараметр("ПустойУникальныйИдентификатор", ОбщегоНазначенияКлиентСервер.ПустойУникальныйИдентификатор());
	Запрос.УстановитьПараметр("СчетаГрупп", ТаблицаСчетов);
	// Для нахождения остатков и оборотов по аренде в разрезе счетов родителя необходимо получить сответствие группы и подчиненных счетов
	Запрос.УстановитьПараметр("ТаблицаСчетовАренды", ТаблицаСчетовАренды(КонтекстРаздела));
	
	Для Каждого Контекст Из КонтекстРаздела Цикл
		Запрос.УстановитьПараметр(Контекст.Ключ, Контекст.Значение);
	КонецЦикла;
	
	// Добавим ВидыСубконтоСчетов в контекст раздела для последующего поиска представления Субконто
	КонтекстРаздела.Вставить("ВидыСубконтоСчетов", ВидыСубконтоСчетов);
	
	Для Каждого ВидыСубконто Из СписокВидовСубконто Цикл
		Запрос.УстановитьПараметр(ВидыСубконто.Ключ, ВидыСубконто.Значение);
	КонецЦикла;
	
	СубконтоКонтрагентыСФПолученные = Новый Массив;
	СубконтоКонтрагентыСФПолученные.Добавить(ПланыВидовХарактеристик.ВидыСубконтоХозрасчетные.Контрагенты);
	СубконтоКонтрагентыСФПолученные.Добавить(ПланыВидовХарактеристик.ВидыСубконтоХозрасчетные.СФПолученные);
	Запрос.УстановитьПараметр("СубконтоКонтрагентыСФ", СубконтоКонтрагентыСФПолученные);
	
	// Наборы содержат имена параметров и массивы счетов, которые передаются в запрос
	СтрокиНаборовСчетов = НаборыСчетов.НайтиСтроки(Новый Структура("ПоСрочности", Истина));
	Для Каждого Набор Из СтрокиНаборовСчетов Цикл
		Запрос.УстановитьПараметр(Набор.ИмяНабора, Набор.СписокСчетов);
	КонецЦикла;
	
	СчетаБезСрочности = Новый Массив;
	СтрокиНаборовСчетов = НаборыСчетов.НайтиСтроки(Новый Структура("ПоСрочности", Ложь));
	Для Каждого Набор Из СтрокиНаборовСчетов Цикл
		Запрос.УстановитьПараметр(Набор.ИмяНабора, Набор.СписокСчетов);
		// Если набор содержит признак "ДополнительныйОтбор", тогда данные по такому набору получаются отдельным пакетом запросов
		Если Не Набор.ДополнительныйОтбор Тогда
			ОбщегоНазначенияКлиентСервер.ДополнитьМассив(СчетаБезСрочности, Набор.СписокСчетов);
		КонецЕсли;
	КонецЦикла;
	Запрос.УстановитьПараметр("СчетаБезСрочности", СчетаБезСрочности);
	
	// Данные счетов расчетов
	ТекстыЗапросов = Новый Массив;
	ТекстыЗапросов.Добавить(ТекстЗапросаСчетаРасчетовДебиторская(НаборыСчетов, КонтекстРаздела));
	ТекстыЗапросов.Добавить(ТекстЗапросаСрокиПогашения());
	ТекстыЗапросов.Добавить(ТекстЗапросаРазделениеЗадолженностиДебиторская());

	ТекстЗапроса = СтрСоединить(ТекстыЗапросов, Общегоназначения.РазделительПакетаЗапросов());
	Запрос.Текст = ТекстЗапроса;
	Расчеты = Запрос.Выполнить().Выгрузить();
	Расчеты.Индексы.Добавить("ДолгосрочнаяЗадолженность, Организация, СчетРасчетов");
	ТаблицыРасчета.Вставить("Расчеты", Расчеты);
	
	ОбщегоНазначенияБП.УничтожитьВременныеТаблицы(МенеджерВременныхТаблиц, , "ДанныеРасчетов,ДанныеРасчетовПоСрочности,ВсеАвансы");
	
	// НДС
	Запрос.Текст = ТекстЗапросаНДСАвансов(Запрос, "СФПолученные", КонтекстРаздела);
	НДСАвансов = Запрос.Выполнить().Выгрузить();
	
	СоответствиеКолонокСРасчетными = Новый Структура;
	СоответствиеКолонокСРасчетными.Вставить("СНК",   "Расчет_СН");
	СоответствиеКолонокСРасчетными.Вставить("ДО",    "Расчет_КО");
	СоответствиеКолонокСРасчетными.Вставить("КО",    "Расчет_ДО");
	СоответствиеКолонокСРасчетными.Вставить("СКК",   "Расчет_СК");
	СоответствиеКолонокСРасчетными.Вставить("Вычет", "Расчет_Вычет");
	
	ПерезаполнитьТаблицуРасчетнымиЗначениями(НДСАвансов, СоответствиеКолонокСРасчетными);
	НДСАвансов.Индексы.Добавить("ДолгосрочнаяЗадолженность, Организация, СчетРасчетов");
	ТаблицыРасчета.Вставить("НДСАвансов", НДСАвансов);
	
	ОбщегоНазначенияБП.УничтожитьВременныеТаблицы(МенеджерВременныхТаблиц, , "ДанныеРасчетов,ДанныеРасчетовПоСрочности");

	// Расчеты по аренде
	ТаблицыРасчета.Вставить("РасчетыПоАренде", Новый ТаблицаЗначений); // Расчеты по аренде во строенной отчетности ERP не поддержаны

	// Резервы
	Запрос.Текст = ТекстЗапросаРезервыПоСомнительнымДолгам();
	Резервы = Запрос.Выполнить().Выгрузить();
	
	СоответствиеКолонокСРасчетными = Новый Структура;
	СоответствиеКолонокСРасчетными.Вставить("СНК", "Расчет_СН");
	СоответствиеКолонокСРасчетными.Вставить("ДО",  "Расчет_КО");
	СоответствиеКолонокСРасчетными.Вставить("СКК", "Расчет_СК");

	ПерезаполнитьТаблицуРасчетнымиЗначениями(Резервы, СоответствиеКолонокСРасчетными);
	Резервы.Индексы.Добавить("ДолгосрочнаяЗадолженность, Организация, СчетРасчетов");
	ТаблицыРасчета.Вставить("Резервы",  Резервы);
	
	ОбщегоНазначенияБП.УничтожитьВременныеТаблицы(МенеджерВременныхТаблиц, , "ДанныеРасчетов,ДанныеРасчетовПоСрочности");
	
	// Списано на расходы
	Запрос.Текст = ТекстЗапросаСписаниеНаРасходы(НаборыСчетов, КонтекстРаздела);
	Списано = Запрос.Выполнить().Выгрузить();
	Списано.Индексы.Добавить("ДолгосрочнаяЗадолженность, Организация, СчетРасчетов");
	ТаблицыРасчета.Вставить("Списано", Списано);
	
	ОбщегоНазначенияБП.УничтожитьВременныеТаблицы(МенеджерВременныхТаблиц, , "ДанныеРасчетов,ДанныеРасчетовПоСрочности");

	//Начисление штрафов, процентов и иных начислений
	Запрос.Текст = ТекстЗапросаНачислениеПроцентовШтрафовДебиторская(НаборыСчетов, КонтекстРаздела);
	ПроцентыШтрафы = Запрос.Выполнить().Выгрузить();
	ПроцентыШтрафы.Индексы.Добавить("ДолгосрочнаяЗадолженность, Организация, СчетРасчетов");
	ТаблицыРасчета.Вставить("ПроцентыШтрафы", ПроцентыШтрафы);
	
	ОбщегоНазначенияБП.УничтожитьВременныеТаблицы(МенеджерВременныхТаблиц);
	
	// Организации
	Запрос.Текст = ТекстЗапросаОрганизации();
	ТаблицаОрганизации = Запрос.Выполнить().Выгрузить();
	ТаблицыРасчета.Вставить("Организации", ТаблицаОрганизации);

	Возврат ТаблицыРасчета;

КонецФункции

Функция КонтекстРазделаДебиторская(КонтекстЗаполненияОтчета)
	
	КонтекстРаздела = Новый Структура;
	
	Организация = КонтекстЗаполненияОтчета.Организации[0];
	
	СчетаНДСАвансов = Новый Массив;
	СчетаНДСАвансов.Добавить(ПланыСчетов.Хозрасчетный.НДСпоАвансамИПредоплатамВыданным);
	
	КонтекстРаздела.Вставить("ВидЗадолженности", "ДебиторскаяЗадолженность");
	КонтекстРаздела.Вставить("СчетаРезервов",    БухгалтерскийУчетПовтИсп.СчетаВИерархии(ПланыСчетов.Хозрасчетный.РезервыПоСомнительнымДолгам));
	КонтекстРаздела.Вставить("СчетаДоходов",  БухгалтерскийУчетПовтИсп.СчетаВИерархии(ПланыСчетов.Хозрасчетный.ПрочиеДоходы));
	КонтекстРаздела.Вставить("СчетаРасходов", БухгалтерскийУчетПовтИсп.СчетаВИерархии(ПланыСчетов.Хозрасчетный.ПрочиеРасходы));
	КонтекстРаздела.Вставить("СчетаАвансов", СчетаУчетаАвансовВыданных(КонтекстРаздела.ВидЗадолженности));
	КонтекстРаздела.Вставить("СчетаОбъектовРезервов", СчетаОбъектовРезервов(КонтекстРаздела.ВидЗадолженности));
	КонтекстРаздела.Вставить("СчетаАвансовПоАренде", Новый Массив);
	КонтекстРаздела.Вставить("СчетаНДСАвансов", СчетаНДСАвансов);
	КонтекстРаздела.Вставить("ВидПДРНачисление", Перечисления.ВидыПрочихДоходовИРасходов.ШтрафыПениНеустойкиКПолучениюУплате);
	КонтекстРаздела.Вставить("ВидПДРСписание", Перечисления.ВидыПрочихДоходовИРасходов.СписаниеДебиторскойКредиторскойЗадолженности);
	КонтекстРаздела.Вставить("ВидАктиваДебиторскаяЗадолженность", Перечисления.ВидыАктивовДляРБП.ДебиторскаяЗадолженность);
	
	РазделятьАвансыПоВидамАктивов = Ложь;
	
	ИсключаемыеВидыАктиваАвансов = Новый Массив;

	КонтекстРаздела.Вставить("РазделятьАвансыПоВидамАктивов", РазделятьАвансыПоВидамАктивов);
	КонтекстРаздела.Вставить("ИсключаемыеВидыАктиваАвансов", ИсключаемыеВидыАктиваАвансов);
	
	ДополнитьКонтекстРаздела(КонтекстРаздела, КонтекстЗаполненияОтчета);
	
	Возврат КонтекстРаздела;
	
КонецФункции

Функция ШаблоныРасшифровкиДебиторскаяЗадолженностьНаличиеДвижение(КонтекстРаздела)
	
	Шаблоны = Новый Соответствие;
	
#Область НачалоНоминал
	ИмяКолонки = "НачалоНоминал";
	ШаблоныЗаголовки = НовыйШаблонРасшифровки();
	ШаблоныЗаголовки.ЗаголовокГруппы = 
		НСтр("ru = '[НаименованиеГруппы]: по условиям договора на [НачалоПериода]';
			|en = '[НаименованиеГруппы]: according to the contract terms as of [НачалоПериода]'");
		
	ШаблоныЗаголовки.ПорядокРасчета.Общий.Основной = 
		НСтр("ru = 'Сальдо по дебету [СчетаРасчетов].';
			|en = '[СчетаРасчетов] debit balance.'");
		
	ШаблоныЗаголовки.ПорядокРасчета.Общий.РБП = 
		НСтр("ru = 'Сальдо по дебету [СчетаРасчетов] по статьям с видом актива в балансе ""[ВидАктиваДебиторскаяЗадолженность]"".';
			|en = '[СчетаРасчетов] debit balance for items with the ""[ВидАктиваДебиторскаяЗадолженность]"" asset type in the balance sheet.'");
		
	ШаблоныЗаголовки.ПорядокРасчета.Общий.АПСчета = 
		НСтр("ru = 'Развернутое сальдо по дебету [СчетаРасчетовАП].';
			|en = 'Detailed [СчетаРасчетовАП] debit balance.'");
		
	ШаблоныЗаголовки.ПорядокРасчета.Общий.СмешанныеВидыСчетов =
		НСтр("ru = 'Сальдо по дебету [СчетаРасчетовА], развернутое сальдо по дебету [СчетаРасчетовАП].';
			|en = '[СчетаРасчетовА] debit balance, detailed [СчетаРасчетовАП] debit balance.'");

	ШаблоныЗаголовки.ПорядокРасчета.Общий.АПСчетаСальдо = 
		НСтр("ru = 'Сальдо по [СчетуРасчетов].';
			|en = '[СчетуРасчетов] balance.'");
		
	ШаблоныЗаголовки.ПорядокРасчета.Общий.Аренда = 
		НСтр("ru = 'Положительное сальдо по [СчетуАренды] за вычетом относящегося к нему НДС (сальдо по кредиту [СчетаНДСАвансовВыданных]). Расчет выполняется отдельно по каждому договору аренды (лизинга)[СуммарноПоФилиалам].
			|Значения НДС могут быть скорректированы, например, если по одному договору отражен лизинг и другие расчеты.';
			|en = 'Positive [СчетуАренды] balance minus the related VAT ([СчетаНДСАвансовВыданных] credit balance). The calculation is performed separately for each rental (financial lease) contract[СуммарноПоФилиалам].
			|VAT values can be adjusted, for example, if financial lease and other settlements are recorded under one contract.'");
				
	ШаблоныЗаголовки.ПорядокРасчета.Долгосрочная.Основной = 
		НСтр("ru = 'Сальдо по дебету [СчетаРасчетов].
			|Включаются суммы со сроком погашения задолженности не ранее [СрокПогашенияНачало] Срок погашения может быть указан в документе расчетов. Если не указан - определяется исходя из даты документа и срока оплаты, указанного в договоре или настройках учета.';
			|en = '[СчетаРасчетов] debit balance.
			|Includes amounts with a repayment period not earlier than [СрокПогашенияНачало]. The repayment period can be specified in the AR/AP document. If not specified, it is determined based on the document date and the payment due date specified in the contract or accounting settings.'");
	
	ШаблоныЗаголовки.ПорядокРасчета.Долгосрочная.Авансы = 
		НСтр("ru = 'Сальдо по дебету [СчетаРасчетов] по договорам, с признаком отражения в балансе не отнесенным к ""Основным средствам"", ""Инвестиционной недвижимости"", ""Нематериальным активам"", ""Прочим внеоборотным активам"", ""Запасам"" или ""Прочим оборотным активам"".
			|Включаются суммы со сроком погашения задолженности не ранее [СрокПогашенияНачало] Срок погашения может быть указан в документе расчетов. Если не указан - определяется исходя из даты документа и срока оплаты, указанного в договоре или настройках учета.';
			|en = '[СчетаРасчетов] debit balance for contracts with a flag of record in the balance sheet, not classified as ""Fixed assets"", ""Investment property"", ""Intangible assets"", ""Other capital assets"", ""Inventory"" or ""Other current assets"".
			|Includes amounts with a repayment period not earlier than [СрокПогашенияНачало]. The repayment period can be specified in the AR/AP document. If not specified, it is determined based on the document date and the payment due date specified in the contract or accounting settings.'");

	ШаблоныЗаголовки.ПорядокРасчета.Долгосрочная.РБП = 
		НСтр("ru = 'Сальдо по дебету [СчетаРасчетов] по статьям с видом актива в балансе ""[ВидАктиваДебиторскаяЗадолженность]"".
			|Включаются суммы со сроком погашения задолженности не ранее [СрокПогашенияНачало] Срок погашения может быть указан в документе расчетов. Если не указан - определяется исходя из даты документа и срока оплаты, указанного в договоре или настройках учета.';
			|en = '[СчетаРасчетов] debit balance for items with the ""[ВидАктиваДебиторскаяЗадолженность]"" asset type in the balance sheet.
			|Includes amounts with a repayment period not earlier than [СрокПогашенияНачало]. The repayment period can be specified in the AR/AP document. If not specified, it is determined based on the document date and the payment due date specified in the contract or accounting settings.'");
	
	ШаблоныЗаголовки.ПорядокРасчета.Долгосрочная.АПСчета = 
		НСтр("ru = 'Развернутое сальдо по дебету [СчетаРасчетовАП]. Развернутое сальдо означает, что исключается кредитовое сальдо по отдельным значениям аналитики.
			|Включаются суммы со сроком оплаты [СрокПогашенияНачало] или позже. Срок оплаты указывается в договоре в виде даты платежа.';
			|en = 'Detailed [СчетаРасчетовАП] debit balance. The detailed balance means that the credit balance of individual dimension values is excluded.
			|Includes amounts whose payment due date is [СрокПогашенияНачало] or later. The payment due date is specified in the contract as a payment date.'");
		
	ШаблоныЗаголовки.ПорядокРасчета.Долгосрочная.СмешанныеВидыСчетов =
		НСтр("ru = 'Сальдо по дебету [СчетаРасчетовА], развернутое сальдо по дебету [СчетаРасчетовАП]. Развернутое сальдо означает, что исключается кредитовое сальдо по отдельным значениям аналитики.
			|Включаются суммы со сроком оплаты [СрокПогашенияНачало] или позже. Срок оплаты указывается в договоре в виде даты платежа.';
			|en = '[СчетаРасчетовА] debit balance, detailed [СчетаРасчетовАП] debit balance. The detailed balance means that the credit balance of individual dimension values is excluded.
			|Includes amounts whose payment due date is [СрокПогашенияНачало] or later. The payment due date is specified in the contract as a payment date.'");
	
	ШаблоныЗаголовки.ПорядокРасчета.Краткосрочная.Основной = 
		НСтр("ru = 'Сальдо по дебету [СчетаРасчетов].
			|Включаются суммы со сроком погашения задолженности ранее [СрокПогашенияНачало] Срок погашения может быть указан в документе расчетов. Если не указан - определяется исходя из даты документа и срока оплаты, указанного в договоре или настройках учета.';
			|en = '[СчетаРасчетов] debit balance.
			|Includes amounts with a repayment period earlier than [СрокПогашенияНачало]. The repayment period can be specified in the AR/AP document. If not specified, it is determined based on the document date and the payment due date specified in the contract or accounting settings.'");
			
	ШаблоныЗаголовки.ПорядокРасчета.Краткосрочная.Авансы = 
		НСтр("ru = 'Сальдо по дебету [СчетаРасчетов] по договорам, с признаком отражения в балансе не отнесенным к ""Основным средствам"", ""Инвестиционной недвижимости"", ""Нематериальным активам"", ""Прочим внеоборотным активам"", ""Запасам"" или ""Прочим оборотным активам"".
			|Включаются суммы со сроком погашения задолженности ранее [СрокПогашенияНачало] Срок погашения может быть указан в документе расчетов. Если не указан - определяется исходя из даты документа и срока оплаты, указанного в договоре или настройках учета.';
			|en = '[СчетаРасчетов] debit balance for contracts with a flag of record in the balance sheet, not classified as ""Fixed assets"", ""Investment property"", ""Intangible assets"", ""Other capital assets"", ""Inventory"" or ""Other current assets"".
			|Includes amounts with a repayment period earlier than [СрокПогашенияНачало]. The repayment period can be specified in the AR/AP document. If not specified, it is determined based on the document date and the payment due date specified in the contract or accounting settings.'");

	ШаблоныЗаголовки.ПорядокРасчета.Краткосрочная.РБП = 
		НСтр("ru = 'Сальдо по дебету [СчетаРасчетов] по статьям с видом актива в балансе ""[ВидАктиваДебиторскаяЗадолженность]"".
			|Включаются суммы со сроком погашения задолженности ранее [СрокПогашенияНачало] Срок погашения может быть указан в документе расчетов. Если не указан - определяется исходя из даты документа и срока оплаты, указанного в договоре или настройках учета.';
			|en = '[СчетаРасчетов] debit balance for items with the ""[ВидАктиваДебиторскаяЗадолженность]"" asset type in the balance sheet.
			|Includes amounts with a repayment period earlier than [СрокПогашенияНачало]. The repayment period can be specified in the AR/AP document. If not specified, it is determined based on the document date and the payment due date specified in the contract or accounting settings.'");
	
	ШаблоныЗаголовки.ПорядокРасчета.Краткосрочная.АПСчета = 
		НСтр("ru = 'Развернутое сальдо по дебету [СчетаРасчетовАП]. Развернутое сальдо означает, что исключается кредитовое сальдо по отдельным значениям аналитики.
			|Включаются суммы со сроком оплаты ранее [СрокПогашенияНачало] Срок оплаты указывается в договоре в виде даты платежа.';
			|en = 'Detailed [СчетаРасчетовАП] debit balance. The detailed balance means that the credit balance of individual dimension values is excluded.
			|Includes amounts whose payment due date is earlier than [СрокПогашенияНачало]. The payment due date is specified in the contract as a payment date.'");
		
	ШаблоныЗаголовки.ПорядокРасчета.Краткосрочная.СмешанныеВидыСчетов =
		НСтр("ru = 'Сальдо по дебету [СчетаРасчетовА], развернутое сальдо по дебету [СчетаРасчетовАП]. Развернутое сальдо означает, что исключается кредитовое сальдо по отдельным значениям аналитики.
			|Включаются суммы со сроком оплаты ранее [СрокПогашенияНачало] Срок оплаты указывается в договоре в виде даты платежа.';
			|en = '[СчетаРасчетовА] debit balance, detailed [СчетаРасчетовАП] debit balance. The detailed balance means that the credit balance of individual dimension values is excluded.
			|Includes amounts whose payment due date is earlier than [СрокПогашенияНачало]. The payment due date is specified in the contract as a payment date.'");
			
	ДобавитьШаблоныРасшифровкиСоставляющих(КонтекстРаздела, ШаблоныЗаголовки.Составляющие, ИмяКолонки);
	
	Шаблоны.Вставить(ИмяКолонки, ШаблоныЗаголовки);
	
#КонецОбласти

#Область НачалоРезерв
	ИмяКолонки = "НачалоРезерв";
	ШаблоныЗаголовки = НовыйШаблонРасшифровки();
	ШаблоныЗаголовки.ЗаголовокГруппы = 
		НСтр("ru = '[НаименованиеГруппы]: резерв по сомнительным долгам на [НачалоПериода]';
			|en = '[НаименованиеГруппы]: loss allowance as of [НачалоПериода]'");
		
	ШаблоныЗаголовки.ПорядокРасчета.Общий.Основной = СтрШаблон(
		НСтр("ru = '%1 по объектам, отраженным в графе ""Начало периода - по условиям договора""';
			|en = '%1 by objects in the ""Period start - under contract terms"" column'"),
		ПорядокРасчетаОбесценения());
		
	Шаблоны.Вставить(ИмяКолонки, ШаблоныЗаголовки);
#КонецОбласти

#Область ПоступилоНоминал
	ИмяКолонки = "ПоступилоНоминал";
	ШаблоныЗаголовки = НовыйШаблонРасшифровки();
	ШаблоныЗаголовки.ЗаголовокГруппы = 
		НСтр("ru = '[НаименованиеГруппы]: поступило за [Период] - в результате фактов хозяйственной жизни (по условиям договора)';
			|en = '[НаименованиеГруппы]: received for [Период] as a result of business transaction items (under the contract terms)'"); 

	ШаблоныЗаголовки.ПорядокРасчета.Общий.Основной = 
		НСтр("ru = 'Оборот по дебету [СчетаРасчетов] (кроме задолженности, поступившей и погашенной в течение отчетного периода).
			|Задолженность, поступившая и погашенная в течение периода, определяется по каждому объекту расчетов как наименьшая величина из дебетового и кредитового оборота.
			|Не включает суммы процентов, штрафов и иных начислений.';
			|en = '[СчетаРасчетов] debit turnover (except for the debt received and repaid during the accounting period).
			|The debt received and repaid during the period is determined for each AR/AP object as the smallest amount of debit and credit turnover.
			|It does not include the amounts of interest, fines, and other charges.'");
		
	ШаблоныЗаголовки.ПорядокРасчета.Общий.АПСчета = 
		НСтр("ru = 'Оборот по дебету [СчетаРасчетов] (кроме задолженности, поступившей и погашенной в течение отчетного периода).
			|Задолженность, поступившая и погашенная в течение периода, определяется по каждому объекту расчетов как наименьшая величина из дебетового и кредитового оборота.
			|По активно-пассивным счетам может быть отражена как Дебиторская задолженность, так и Обязательства. Поэтому по каждому объекту расчетов исключается оборот, связанный с кредитовым сальдо.
			|Также не включает суммы процентов, штрафов и иных начислений.';
			|en = '[СчетаРасчетов] debit turnover (except for the debt received and repaid during the accounting period).
			|The debt received and repaid during the period is determined for each AR/AP object as the smallest amount of debit and credit turnover.
			|Both Accounts receivable and Liabilities can be recorded on Dr/Cr accounts. So, for each AR/AP object, the turnover related to the credit balance is excluded.
			|It also does not include the amounts of interest, fines, and other charges.'");
			
	ШаблоныЗаголовки.ПорядокРасчета.Общий.СмешанныеВидыСчетов = 
		НСтр("ru = 'Оборот по дебету [СчетаРасчетов] (кроме задолженности, поступившей и погашенной в течение отчетного периода).
			|Задолженность, поступившая и погашенная в течение периода, определяется по каждому объекту расчетов как наименьшая величина из дебетового и кредитового оборота.
			|По активно-пассивным счетам может быть отражена как Дебиторская задолженность, так и Обязательства. Поэтому по каждому объекту расчетов исключается оборот, связанный с кредитовым сальдо.
			|Также не включает суммы процентов, штрафов и иных начислений.';
			|en = '[СчетаРасчетов] debit turnover (except for the debt received and repaid during the accounting period).
			|The debt received and repaid during the period is determined for each AR/AP object as the smallest amount of debit and credit turnover.
			|Both Accounts receivable and Liabilities can be recorded on Dr/Cr accounts. So, for each AR/AP object, the turnover related to the credit balance is excluded.
			|It also does not include the amounts of interest, fines, and other charges.'");

	ШаблоныЗаголовки.ПорядокРасчета.Общий.РБП = 
		НСтр("ru = 'Оборот по дебету [СчетаРасчетов] по статьям с видом актива в балансе ""[ВидАктиваДебиторскаяЗадолженность]"" (кроме задолженности, поступившей и погашенной в течение отчетного периода).
			|Задолженность, поступившая и погашенная в течение периода, определяется по каждому объекту расчетов как наименьшая величина из дебетового и кредитового оборота.
			|Не включает суммы процентов, штрафов и иных начислений.';
			|en = '[СчетаРасчетов] debit turnover for items with the ""[ВидАктиваДебиторскаяЗадолженность]"" asset type in the balance sheet (except for the debt received and repaid during the accounting period).
			|The debt received and repaid during the period is determined for each AR/AP object as the smallest amount of debit and credit turnover.
			|It does not include the amounts of interest, fines, and other charges.'");
			
	ШаблоныЗаголовки.ПорядокРасчета.Общий.Аренда = 
		НСтр("ru = 'Увеличение сумм авансов за период, определенное отдельно по каждому договору аренды (лизинга), исходя из разницы показателей на начало и конец периода.
			|Значение может быть скорректировано на сумму НДС, например, если по одному договору отражен лизинг и другие расчеты.';
			|en = 'An increase in the amounts of advances for the period, determined separately for each rental (financial lease) contract, based on the difference in indicators at the beginning and end of the period.
			|The value can be adjusted for the VAT amount, for example, if financial lease and other settlements are recorded under one contract.'");

	ШаблоныЗаголовки.ПорядокРасчета.Долгосрочная.Основной = 
		НСтр("ru = 'Оборот по дебету [СчетаРасчетов] (кроме задолженности, поступившей и погашенной в течение отчетного периода).
			|Задолженность, поступившая и погашенная в течение периода, определяется по каждому объекту расчетов как наименьшая величина из дебетового и кредитового оборота.
			|Включаются суммы со сроком погашения задолженности не ранее [СрокПогашенияКонец] А также суммы со сроком погашения не ранее [СрокПогашенияНачало], по которым есть дебетовое начальное сальдо. 
			|Срок погашения может быть указан в документе расчетов. Если не указан - определяется исходя из даты документа и срока оплаты, указанного в договоре или настройках учета.
			|Не включает суммы процентов, штрафов и иных начислений.';
			|en = '[СчетаРасчетов] debit turnover (except for the debt received and repaid during the accounting period).
			|The debt received and repaid during the period is determined for each AR/AP object as the smallest amount of debit and credit turnover.
			|Includes amounts with a repayment period not earlier than [СрокПогашенияКонец], as well as amounts with a repayment period not earlier than [СрокПогашенияНачало], which have a debit opening balance. 
			|The repayment period can be specified in the AR/AP document. If not specified, it is determined based on the document date and the payment due date specified in the contract or accounting settings.
			|Does not include the amount of interest, fines, and other charges.'");

	ШаблоныЗаголовки.ПорядокРасчета.Долгосрочная.АПСчета = 
		НСтр("ru = 'Оборот по дебету [СчетаРасчетов] (кроме задолженности, поступившей и погашенной в течение отчетного периода).
			|Задолженность, поступившая и погашенная в течение периода, определяется по каждому объекту расчетов как наименьшая величина из дебетового и кредитового оборота.
			|Включаются суммы со сроком оплаты [СрокПогашенияКонец] или позже. А также суммы со сроком оплаты [СрокПогашенияНачало] или позже, по которым есть дебетовое начальное сальдо.
			|Срок оплаты указывается в договоре в виде даты платежа.
			|По активно-пассивным счетам может быть отражена как Дебиторская задолженность, так и Обязательства. Поэтому по каждому объекту расчетов исключается оборот, связанный с кредитовым сальдо.
			|Также не включает суммы процентов, штрафов и иных начислений.';
			|en = '[СчетаРасчетов] debit turnover (except for the debt received and repaid during the accounting period).
			|The debt received and repaid during the period is determined for each AR/AP object as the smallest amount of debit and credit turnover.
			|Includes amounts whose payment due date is [СрокПогашенияКонец] or later, as well as  amounts whose payment due date is [СрокПогашенияНачало] or later, which have a debit opening balance.
			|The payment due date is specified in the contract as a payment date.
			|Both Accounts receivable and Liabilities can be recorded on Dr/Cr accounts. So, for each AR/AP object, the turnover related to the credit balance is excluded.
			|It also does not include the amounts of interest, fines, and other charges.'");
			
	ШаблоныЗаголовки.ПорядокРасчета.Долгосрочная.СмешанныеВидыСчетов = 
		НСтр("ru = 'Оборот по дебету [СчетаРасчетов] (кроме задолженности, поступившей и погашенной в течение отчетного периода).
			|Задолженность, поступившая и погашенная в течение периода, определяется по каждому объекту расчетов как наименьшая величина из дебетового и кредитового оборота.
			|Включаются суммы со сроком оплаты [СрокПогашенияКонец] или позже. А также суммы со сроком оплаты [СрокПогашенияНачало] или позже, по которым есть дебетовое начальное сальдо.
			|Срок оплаты указывается в договоре в виде даты платежа.
			|По активно-пассивным счетам может быть отражена как Дебиторская задолженность, так и Обязательства. Поэтому по каждому объекту расчетов исключается оборот, связанный с кредитовым сальдо.
			|Также не включает суммы процентов, штрафов и иных начислений.';
			|en = '[СчетаРасчетов] debit turnover (except for the debt received and repaid during the accounting period).
			|The debt received and repaid during the period is determined for each AR/AP object as the smallest amount of debit and credit turnover.
			|Includes amounts whose payment due date is [СрокПогашенияКонец] or later, as well as  amounts whose payment due date is [СрокПогашенияНачало] or later, which have a debit opening balance.
			|The payment due date is specified in the contract as a payment date.
			|Both Accounts receivable and Liabilities can be recorded on Dr/Cr accounts. So, for each AR/AP object, the turnover related to the credit balance is excluded.
			|It also does not include the amounts of interest, fines, and other charges.'");

	ШаблоныЗаголовки.ПорядокРасчета.Долгосрочная.Авансы = 
		НСтр("ru = 'Оборот по дебету [СчетаРасчетов] по договорам, с признаком отражения в балансе не отнесенным к ""Основным средствам"", ""Инвестиционной недвижимости"", ""Нематериальным активам"", ""Прочим внеоборотным активам"", ""Запасам"" или ""Прочим оборотным активам"" (кроме задолженности, поступившей и погашенной в течение отчетного периода).
			|Задолженность, поступившая и погашенная в течение периода, определяется по каждому объекту расчетов как наименьшая величина из дебетового и кредитового оборота.
			|Включаются суммы со сроком погашения задолженности не ранее [СрокПогашенияКонец] А также суммы со сроком погашения не ранее [СрокПогашенияНачало], по которым есть дебетовое начальное сальдо.
			|Срок погашения может быть указан в документе расчетов. Если не указан - определяется исходя из даты документа и срока оплаты, указанного в договоре или настройках учета.
			|Не включает суммы процентов, штрафов и иных начислений.';
			|en = '[СчетаРасчетов] debit turnover for contracts with a flag of record in the balance sheet, not classified as ""Fixed assets"", ""Investment property"", ""Intangible assets"", ""Other capital assets"", ""Inventory"" or ""Other current assets"" (except for the debt received and repaid during the accounting period).
			|The debt received and repaid during the period is determined for each AR/AP object as the smallest amount of debit and credit turnover.
			|Includes amounts with a repayment period not earlier than [СрокПогашенияКонец], as well as amounts with a repayment period not earlier than [СрокПогашенияНачало], which have a debit opening balance. 
			|The repayment period can be specified in the AR/AP document. If not specified, it is determined based on the document date and the payment due date specified in the contract or accounting settings.
			|Does not include the amount of interest, fines, and other charges.'");

	ШаблоныЗаголовки.ПорядокРасчета.Долгосрочная.РБП = 
		НСтр("ru = 'Оборот по дебету [СчетаРасчетов] по статьям с видом актива в балансе ""[ВидАктиваДебиторскаяЗадолженность]"" (кроме задолженности, поступившей и погашенной в течение отчетного периода).
			|Задолженность, поступившая и погашенная в течение периода, определяется по каждому объекту расчетов как наименьшая величина из дебетового и кредитового оборота.
			|Включаются суммы со сроком погашения задолженности не ранее [СрокПогашенияКонец] А также суммы со сроком погашения не ранее [СрокПогашенияНачало], по которым есть дебетовое начальное сальдо. 
			|Срок погашения может быть указан в документе расчетов. Если не указан - определяется исходя из даты документа и срока оплаты, указанного в договоре или настройках учета.
			|Не включает суммы процентов, штрафов и иных начислений.';
			|en = '[СчетаРасчетов] debit turnover for items with the ""[ВидАктиваДебиторскаяЗадолженность]"" asset type in the balance sheet (except for the debt received and repaid during the accounting period).
			|The debt received and repaid during the period is determined for each AR/AP object as the smallest amount of debit and credit turnover.
			|Includes amounts with a repayment period not earlier than [СрокПогашенияКонец], as well as amounts with a repayment period not earlier than [СрокПогашенияНачало], which have a debit opening balance. 
			|The repayment period can be specified in the AR/AP document. If not specified, it is determined based on the document date and the payment due date specified in the contract or accounting settings.
			|Does not include the amount of interest, fines, and other charges.'");
	
	ШаблоныЗаголовки.ПорядокРасчета.Краткосрочная.Основной = 
		НСтр("ru = 'Оборот по дебету [СчетаРасчетов] (кроме задолженности, поступившей и погашенной в течение отчетного периода).
			|Задолженность, поступившая и погашенная в течение периода, определяется по каждому объекту расчетов как наименьшая величина из дебетового и кредитового оборота.
			|Включаются суммы со сроком погашения задолженности ранее [СрокПогашенияКонец] Исключаются суммы со сроком погашения не ранее [СрокПогашенияНачало], по которым есть дебетовое начальное сальдо. Срок погашения может быть указан в документе расчетов. Если не указан - определяется исходя из даты документа и срока оплаты, указанного в договоре или настройках учета.
			|Не включает суммы процентов, штрафов и иных начислений.';
			|en = '[СчетаРасчетов] debit turnover (except for the debt received and repaid during the accounting period).
			|The debt received and repaid during the period is determined for each AR/AP object as the smallest amount of debit and credit turnover.
			|Includes amounts with a repayment period earlier than [СрокПогашенияКонец]. Does not include amounts with a repayment period not earlier than [СрокПогашенияНачало], which have a debit opening balance. The repayment period can be specified in the AR/AP document. If not specified, it is determined based on the document date and the payment due date specified in the contract or accounting settings.
			|Does not include the amount of interest, fines, and other charges.'");

	ШаблоныЗаголовки.ПорядокРасчета.Краткосрочная.АПСчета = 
		НСтр("ru = 'Оборот по дебету [СчетаРасчетов] (кроме задолженности, поступившей и погашенной в течение отчетного периода).
			|Задолженность, поступившая и погашенная в течение периода, определяется по каждому объекту расчетов как наименьшая величина из дебетового и кредитового оборота.
			|Включаются суммы со сроком оплаты ранее [СрокПогашенияКонец] Исключаются суммы со сроком оплаты [СрокПогашенияНачало] или позже, по которым есть дебетовое начальное сальдо. Срок оплаты указывается в договоре в виде даты платежа.
			|По активно-пассивным счетам может быть отражена как Дебиторская задолженность, так и Обязательства. Поэтому по каждому объекту расчетов исключается оборот, связанный с кредитовым сальдо.
			|Также не включает суммы процентов, штрафов и иных начислений.';
			|en = '[СчетаРасчетов] debit turnover (except for the debt received and repaid during the accounting period).
			|The debt received and repaid during the period is determined for each AR/AP object as the smallest amount of debit and credit turnover.
			|Includes amounts whose payment due date is earlier than [СрокПогашенияКонец]. Does not include amounts whose payment due date is [СрокПогашенияНачало] or later, which have a debit opening balance. The payment due date is specified in the contract as a payment date.
			|Both Accounts receivable and Liabilities can be recorded on Dr/Cr accounts. So, for each AR/AP object, the turnover related to the credit balance is excluded.
			|It also does not include the amounts of interest, fines, and other charges.'");

	ШаблоныЗаголовки.ПорядокРасчета.Краткосрочная.СмешанныеВидыСчетов = 
		НСтр("ru = 'Оборот по дебету [СчетаРасчетов] (кроме задолженности, поступившей и погашенной в течение отчетного периода).
			|Задолженность, поступившая и погашенная в течение периода, определяется по каждому объекту расчетов как наименьшая величина из дебетового и кредитового оборота.
			|Включаются суммы со сроком оплаты ранее [СрокПогашенияКонец] Исключаются суммы со сроком оплаты [СрокПогашенияНачало] или позже, по которым есть дебетовое начальное сальдо. Срок оплаты указывается в договоре в виде даты платежа.
			|По активно-пассивным счетам может быть отражена как Дебиторская задолженность, так и Обязательства. Поэтому по каждому объекту расчетов исключается оборот, связанный с кредитовым сальдо.
			|Также не включает суммы процентов, штрафов и иных начислений.';
			|en = '[СчетаРасчетов] debit turnover (except for the debt received and repaid during the accounting period).
			|The debt received and repaid during the period is determined for each AR/AP object as the smallest amount of debit and credit turnover.
			|Includes amounts whose payment due date is earlier than [СрокПогашенияКонец]. Does not include amounts whose payment due date is [СрокПогашенияНачало] or later, which have a debit opening balance. The payment due date is specified in the contract as a payment date.
			|Both Accounts receivable and Liabilities can be recorded on Dr/Cr accounts. So, for each AR/AP object, the turnover related to the credit balance is excluded.
			|It also does not include the amounts of interest, fines, and other charges.'");

	ШаблоныЗаголовки.ПорядокРасчета.Краткосрочная.Авансы = 
		НСтр("ru = 'Оборот по дебету [СчетаРасчетов] по договорам, с признаком отражения в балансе не отнесенным к ""Основным средствам"", ""Инвестиционной недвижимости"", ""Нематериальным активам"", ""Прочим внеоборотным активам"", ""Запасам"" или ""Прочим оборотным активам"" (кроме задолженности, поступившей и погашенной в течение отчетного периода).
			|Задолженность, поступившая и погашенная в течение периода, определяется по каждому объекту расчетов как наименьшая величина из дебетового и кредитового оборота.
			|Включаются суммы со сроком погашения задолженности ранее [СрокПогашенияКонец] Исключаются суммы со сроком погашения не ранее [СрокПогашенияНачало], по которым есть дебетовое начальное сальдо. Срок погашения может быть указан в документе расчетов. Если не указан - определяется исходя из даты документа и срока оплаты, указанного в договоре или настройках учета.
			|Не включает суммы процентов, штрафов и иных начислений.';
			|en = '[СчетаРасчетов] debit turnover for contracts with a flag of record in the balance sheet, not classified as ""Fixed assets"", ""Investment property"", ""Intangible assets"", ""Other capital assets"", ""Inventory"" or ""Other current assets"" (except for the debt received and repaid during the accounting period).
			|The debt received and repaid during the period is determined for each AR/AP object as the smallest amount of debit and credit turnover.
			|Includes amounts with a repayment period earlier than [СрокПогашенияКонец]. Does not include amounts with a repayment period not earlier than [СрокПогашенияНачало], which have a debit opening balance. The repayment period can be specified in the AR/AP document. If not specified, it is determined based on the document date and the payment due date specified in the contract or accounting settings.
			|Does not include the amount of interest, fines, and other charges.'");

	ШаблоныЗаголовки.ПорядокРасчета.Краткосрочная.РБП = 
		НСтр("ru = 'Оборот по дебету [СчетаРасчетов] по статьям с видом актива в балансе ""[ВидАктиваДебиторскаяЗадолженность]"" (кроме задолженности, поступившей и погашенной в течение отчетного периода).
			|Задолженность, поступившая и погашенная в течение периода, определяется по каждому объекту расчетов как наименьшая величина из дебетового и кредитового оборота.
			|Включаются суммы со сроком погашения задолженности ранее [СрокПогашенияКонец] Исключаются суммы со сроком погашения не ранее [СрокПогашенияНачало], по которым есть дебетовое начальное сальдо. Срок погашения может быть указан в документе расчетов. Если не указан - определяется исходя из даты документа и срока оплаты, указанного в договоре или настройках учета.
			|Не включает суммы процентов, штрафов и иных начислений.';
			|en = '[СчетаРасчетов] debit turnover for items with the ""[ВидАктиваДебиторскаяЗадолженность]"" asset type in the balance sheet (except for the debt received and repaid during the accounting period).
			|The debt received and repaid during the period is determined for each AR/AP object as the smallest amount of debit and credit turnover.
			|Includes amounts with a repayment period earlier than [СрокПогашенияКонец]. Does not include amounts with a repayment period not earlier than [СрокПогашенияНачало], which have a debit opening balance. The repayment period can be specified in the AR/AP document. If not specified, it is determined based on the document date and the payment due date specified in the contract or accounting settings.
			|Does not include the amount of interest, fines, and other charges.'");

	ДобавитьШаблоныРасшифровкиСоставляющих(КонтекстРаздела, ШаблоныЗаголовки.Составляющие, ИмяКолонки);
	
	Шаблоны.Вставить(ИмяКолонки, ШаблоныЗаголовки);
#КонецОбласти

#Область ПоступилоПроценты
	ИмяКолонки = "ПоступилоПроценты";
	ШаблоныЗаголовки = НовыйШаблонРасшифровки();
	ШаблоныЗаголовки.ЗаголовокГруппы = 
		НСтр("ru = '[НаименованиеГруппы]: поступило за [Период] - проценты, штрафы и иные начисления';
			|en = '[НаименованиеГруппы]: received for [Период] - interest, fines, and other charges'");

	ШаблоныЗаголовки.ПорядокРасчета.Общий.Основной = 
		НСтр("ru = 'Оборот по дебету [СчетаРасчетов] в корреспонденции со [СчетаДоходов] по статьям с видом ""[ВидПДРНачисление]"".';
			|en = '[СчетаРасчетов] debit turnover in correspondence with [СчетаДоходов] for items with the ""[ВидПДРНачисление]"" type.'");

	ШаблоныЗаголовки.ПорядокРасчета.Общий.РБП = 
		НСтр("ru = 'Оборот по дебету [СчетаРасчетов] по статьям с видом актива в балансе ""[ВидАктиваДебиторскаяЗадолженность]"" в корреспонденции со [СчетаДоходов] по статьям с видом ""[ВидПДРНачисление]"".';
			|en = '[СчетаРасчетов] debit turnover for items with the ""[ВидАктиваДебиторскаяЗадолженность]"" asset type in the balance sheet in correspondence with [СчетаДоходов] for items with the ""[ВидПДРНачисление]"" type.'");

	ШаблоныЗаголовки.ПорядокРасчета.Долгосрочная.Основной = 
		НСтр("ru = 'Оборот по дебету [СчетаРасчетов] в корреспонденции со [СчетаДоходов] по статьям с видом ""[ВидПДРНачисление]"".
			|Включаются суммы со сроком погашения задолженности не ранее [СрокПогашенияКонец] А также суммы со сроком погашения не ранее [СрокПогашенияНачало], по которым есть дебетовое начальное сальдо. Срок погашения может быть указан в документе расчетов. Если не указан - определяется исходя из даты документа и срока оплаты, указанного в договоре или настройках учета.';
			|en = '[СчетаРасчетов] debit turnover in correspondence with [СчетаДоходов] for items with the ""[ВидПДРНачисление]"" type.
			|Includes amounts with a repayment period not earlier than [СрокПогашенияКонец], as well as amounts with a repayment period not earlier than [СрокПогашенияНачало], which have a debit opening balance. The repayment period can be specified in the AR/AP document. If not specified, it is determined based on the document date and the payment due date specified in the contract or accounting settings.'");

	ШаблоныЗаголовки.ПорядокРасчета.Долгосрочная.АПСчета = 
		НСтр("ru = 'Оборот по дебету [СчетаРасчетов] в корреспонденции со [СчетаДоходов] по статьям с видом ""[ВидПДРНачисление]"".
			|Включаются суммы со сроком оплаты [СрокПогашенияКонец] или позже. А также суммы со сроком оплаты [СрокПогашенияНачало] или позже, по которым есть дебетовое начальное сальдо. Срок оплаты указывается в договоре в виде даты платежа.';
			|en = '[СчетаРасчетов] debit turnover in correspondence with [СчетаДоходов] for items with the ""[ВидПДРНачисление]"" type.
			|Includes amounts whose payment due date is [СрокПогашенияКонец] or later, as well as amounts whose payment due date is [СрокПогашенияНачало] or later, which have a debit opening balance. The payment due date is specified in the contract as a payment date.'");

	ШаблоныЗаголовки.ПорядокРасчета.Долгосрочная.СмешанныеВидыСчетов = 
		НСтр("ru = 'Оборот по дебету [СчетаРасчетов] в корреспонденции со [СчетаДоходов] по статьям с видом ""[ВидПДРНачисление]"".
			|Включаются суммы со сроком оплаты [СрокПогашенияКонец] или позже. А также суммы со сроком оплаты [СрокПогашенияНачало] или позже, по которым есть дебетовое начальное сальдо. Срок оплаты указывается в договоре в виде даты платежа.';
			|en = '[СчетаРасчетов] debit turnover in correspondence with [СчетаДоходов] for items with the ""[ВидПДРНачисление]"" type.
			|Includes amounts whose payment due date is [СрокПогашенияКонец] or later, as well as amounts whose payment due date is [СрокПогашенияНачало] or later, which have a debit opening balance. The payment due date is specified in the contract as a payment date.'");

	ШаблоныЗаголовки.ПорядокРасчета.Долгосрочная.Авансы = 
		НСтр("ru = 'Оборот по дебету [СчетаРасчетов] по договорам, с признаком отражения в балансе не отнесенным к ""Основным средствам"", ""Инвестиционной недвижимости"", ""Нематериальным активам"", ""Прочим внеоборотным активам"", ""Запасам"" или ""Прочим оборотным активам"" в корреспонденции со [СчетаДоходов] по статьям с видом ""[ВидПДРНачисление]"".
			|Включаются суммы со сроком погашения задолженности не ранее [СрокПогашенияКонец] А также суммы со сроком погашения не ранее [СрокПогашенияНачало], по которым есть дебетовое начальное сальдо. Срок погашения может быть указан в документе расчетов. Если не указан - определяется исходя из даты документа и срока оплаты, указанного в договоре или настройках учета.';
			|en = '[СчетаРасчетов] debit turnover for contracts with a flag of record in the balance sheet, not classified as ""Fixed assets"", ""Investment property"", ""Intangible assets"", ""Other capital assets"", ""Inventory"" or ""Other current assets"" in correspondence with [СчетаДоходов] for items with the ""[ВидПДРНачисление]"" type.
			|Includes amounts with a repayment period not earlier than [СрокПогашенияКонец], as well as amounts with a repayment period not earlier than [СрокПогашенияНачало], which have a debit opening balance. The repayment period can be specified in the AR/AP document. If not specified, it is determined based on the document date and the payment due date specified in the contract or accounting settings.'");

	ШаблоныЗаголовки.ПорядокРасчета.Долгосрочная.РБП = 
		НСтр("ru = 'Оборот по дебету [СчетаРасчетов] по статьям с видом актива в балансе ""[ВидАктиваДебиторскаяЗадолженность]"" в корреспонденции со [СчетаДоходов] по статьям с видом ""[ВидПДРНачисление]"".
			|Включаются суммы со сроком погашения задолженности не ранее [СрокПогашенияКонец] А также суммы со сроком погашения не ранее [СрокПогашенияНачало], по которым есть дебетовое начальное сальдо. Срок погашения может быть указан в документе расчетов. Если не указан - определяется исходя из даты документа и срока оплаты, указанного в договоре или настройках учета.';
			|en = '[СчетаРасчетов] debit turnover for items with the ""[ВидАктиваДебиторскаяЗадолженность]"" asset type in the balance sheet in correspondence with [СчетаДоходов] for items with the ""[ВидПДРНачисление]"" type.
			|Includes amounts with a repayment period not earlier than [СрокПогашенияКонец], as well as amounts with a repayment period not earlier than [СрокПогашенияНачало], which have a debit opening balance. The repayment period can be specified in the AR/AP document. If not specified, it is determined based on the document date and the payment due date specified in the contract or accounting settings.'");

	ШаблоныЗаголовки.ПорядокРасчета.Краткосрочная.Основной = 
		НСтр("ru = 'Оборот по дебету [СчетаРасчетов] в корреспонденции со [СчетаДоходов] по статьям с видом ""[ВидПДРНачисление]"".
			|Включаются суммы со сроком погашения задолженности ранее [СрокПогашенияКонец] Исключаются суммы со сроком погашения не ранее [СрокПогашенияНачало], по которым есть дебетовое начальное сальдо. Срок погашения может быть указан в документе расчетов. Если не указан - определяется исходя из даты документа и срока оплаты, указанного в договоре или настройках учета.';
			|en = '[СчетаРасчетов] debit turnover in correspondence with [СчетаДоходов] for items with the ""[ВидПДРНачисление]"" type.
			|Includes amounts with a repayment period earlier than [СрокПогашенияКонец]. Does not include amounts with a repayment period not earlier than [СрокПогашенияНачало], which have a debit opening balance. The repayment period can be specified in the AR/AP document. If not specified, it is determined based on the document date and the payment due date specified in the contract or accounting settings.'");

	ШаблоныЗаголовки.ПорядокРасчета.Краткосрочная.АПСчета = 
		НСтр("ru = 'Оборот по дебету [СчетаРасчетов] в корреспонденции со [СчетаДоходов] по статьям с видом ""[ВидПДРНачисление]"".
			|Включаются суммы со сроком оплаты ранее [СрокПогашенияКонец] Исключаются суммы со сроком оплаты [СрокПогашенияНачало] или позже, по которым есть дебетовое начальное сальдо. Срок оплаты указывается в договоре в виде даты платежа.';
			|en = '[СчетаРасчетов] debit turnover in correspondence with [СчетаДоходов] for items with the ""[ВидПДРНачисление]"" type.
			|Includes amounts whose payment due date is earlier than [СрокПогашенияКонец]. Does not include amounts whose payment due date is [СрокПогашенияНачало] or later, which have a debit opening balance. The payment due date is specified in the contract as a payment date.'");
			
	ШаблоныЗаголовки.ПорядокРасчета.Краткосрочная.СмешанныеВидыСчетов = 
		НСтр("ru = 'Оборот по дебету [СчетаРасчетов] в корреспонденции со [СчетаДоходов] по статьям с видом ""[ВидПДРНачисление]"".
			|Включаются суммы со сроком оплаты ранее [СрокПогашенияКонец] Исключаются суммы со сроком оплаты [СрокПогашенияНачало] или позже, по которым есть дебетовое начальное сальдо. Срок оплаты указывается в договоре в виде даты платежа.';
			|en = '[СчетаРасчетов] debit turnover in correspondence with [СчетаДоходов] for items with the ""[ВидПДРНачисление]"" type.
			|Includes amounts whose payment due date is earlier than [СрокПогашенияКонец]. Does not include amounts whose payment due date is [СрокПогашенияНачало] or later, which have a debit opening balance. The payment due date is specified in the contract as a payment date.'");

	ШаблоныЗаголовки.ПорядокРасчета.Краткосрочная.Авансы = 
		НСтр("ru = 'Оборот по дебету [СчетаРасчетов] по договорам, с признаком отражения в балансе не отнесенным к ""Основным средствам"", ""Инвестиционной недвижимости"", ""Нематериальным активам"", ""Прочим внеоборотным активам"", ""Запасам"" или ""Прочим оборотным активам"" в корреспонденции со [СчетаДоходов] по статьям с видом ""[ВидПДРНачисление]"".
			|Включаются суммы со сроком погашения задолженности ранее [СрокПогашенияКонец] Исключаются суммы со сроком погашения не ранее [СрокПогашенияНачало], по которым есть дебетовое начальное сальдо. Срок погашения может быть указан в документе расчетов. Если не указан - определяется исходя из даты документа и срока оплаты, указанного в договоре или настройках учета.';
			|en = '[СчетаРасчетов] debit turnover for contracts with a flag of record in the balance sheet, not classified as ""Fixed assets"", ""Investment property"", ""Intangible assets"", ""Other capital assets"", ""Inventory"" or ""Other current assets"" in correspondence with [СчетаДоходов] for items with the ""[ВидПДРНачисление]"" type.
			|Includes amounts with a repayment period earlier than [СрокПогашенияКонец]. Does not include amounts with a repayment period not earlier than [СрокПогашенияНачало], which have a debit opening balance. The repayment period can be specified in the AR/AP document. If not specified, it is determined based on the document date and the payment due date specified in the contract or accounting settings.'");

	ШаблоныЗаголовки.ПорядокРасчета.Краткосрочная.РБП = 
		НСтр("ru = 'Оборот по дебету [СчетаРасчетов] по статьям с видом актива в балансе ""[ВидАктиваДебиторскаяЗадолженность]"" в корреспонденции со [СчетаДоходов] по статьям с видом ""[ВидПДРНачисление]"".
			|Включаются суммы со сроком погашения задолженности ранее [СрокПогашенияКонец] Исключаются суммы со сроком погашения не ранее [СрокПогашенияНачало], по которым есть дебетовое начальное сальдо. Срок погашения может быть указан в документе расчетов. Если не указан - определяется исходя из даты документа и срока оплаты, указанного в договоре или настройках учета.';
			|en = '[СчетаРасчетов] debit turnover for items with the ""[ВидАктиваДебиторскаяЗадолженность]"" asset type in the balance sheet in correspondence with [СчетаДоходов] for items with the ""[ВидПДРНачисление]"" type.
			|Includes amounts with a repayment period earlier than [СрокПогашенияКонец]. Does not include amounts with a repayment period not earlier than [СрокПогашенияНачало], which have a debit opening balance. The repayment period can be specified in the AR/AP document. If not specified, it is determined based on the document date and the payment due date specified in the contract or accounting settings.'");

	ДобавитьШаблоныРасшифровкиСоставляющих(КонтекстРаздела, ШаблоныЗаголовки.Составляющие);

	Шаблоны.Вставить(ИмяКолонки, ШаблоныЗаголовки);

#КонецОбласти
		
#Область СписаноНоминал
	ИмяКолонки = "СписаноНоминал";
	ШаблоныЗаголовки = НовыйШаблонРасшифровки();
	ШаблоныЗаголовки.ЗаголовокГруппы = 
		НСтр("ru = '[НаименованиеГруппы]: погашено за [Период]';
			|en = '[НаименованиеГруппы]: repaid for [Период]'");

	ШаблоныЗаголовки.ПорядокРасчета.Общий.Основной = 
		НСтр("ru = 'Оборот по кредиту [СчетаРасчетов] (кроме задолженности, поступившей и погашенной в течение отчетного периода, а также списанной в течение отчетного периода).
			|Задолженность, поступившая и погашенная в течение периода, определяется по каждому объекту расчетов как наименьшая величина из дебетового и кредитового оборота.';
			|en = '[СчетаРасчетов] credit turnover (except for the debt received, repaid, and written off during the accounting period).
			|The debt received and repaid during the period is calculated for each AR/AP object as the smallest amount of debit and credit turnover.'");

	ШаблоныЗаголовки.ПорядокРасчета.Общий.РБП = 
		НСтр("ru = 'Оборот по кредиту [СчетаРасчетов] по статьям с видом актива в балансе ""[ВидАктиваДебиторскаяЗадолженность]"" (кроме задолженности, поступившей и погашенной в течение отчетного периода, а также списанной в течение отчетного периода).
			|Задолженность, поступившая и погашенная в течение периода, определяется по каждому объекту расчетов как наименьшая величина из дебетового и кредитового оборота.';
			|en = '[СчетаРасчетов] credit turnover for items with the ""[ВидАктиваДебиторскаяЗадолженность]"" asset type in the balance sheet (except for the debt received, repaid, and written off during the accounting period).
			|The debt received and repaid during the period is calculated for each AR/AP object as the smallest amount of debit and credit turnover.'");

	ШаблоныЗаголовки.ПорядокРасчета.Общий.АПСчета = 
		НСтр("ru = 'Оборот по кредиту [СчетаРасчетов] (кроме задолженности, поступившей и погашенной в течение отчетного периода, а также списанной в течение отчетного периода).
			|Задолженность, поступившая и погашенная в течение периода, определяется по каждому объекту расчетов как наименьшая величина из дебетового и кредитового оборота.
			|По активно-пассивным счетам может быть отражена как Дебиторская задолженность, так и Обязательства. Поэтому по каждому объекту расчетов исключается оборот, связанный с кредитовым сальдо.';
			|en = '[СчетаРасчетов] credit turnover (except for the debt received, repaid, and written off during the accounting period).
			|The debt received and repaid during the period is determined for each AR/AP object as the smallest amount of debit and credit turnover.
			|Both Accounts receivable and Liabilities can be recorded on Dr/Cr accounts. So, for each AR/AP object, the turnover related to the credit balance is excluded.'");
			
	ШаблоныЗаголовки.ПорядокРасчета.Общий.СмешанныеВидыСчетов = 
		НСтр("ru = 'Оборот по кредиту [СчетаРасчетов] (кроме задолженности, поступившей и погашенной в течение отчетного периода, а также списанной в течение отчетного периода).
			|Задолженность, поступившая и погашенная в течение периода, определяется по каждому объекту расчетов как наименьшая величина из дебетового и кредитового оборота.
			|По активно-пассивным счетам может быть отражена как Дебиторская задолженность, так и Обязательства. Поэтому по каждому объекту расчетов исключается оборот, связанный с кредитовым сальдо.';
			|en = '[СчетаРасчетов] credit turnover (except for the debt received, repaid, and written off during the accounting period).
			|The debt received and repaid during the period is determined for each AR/AP object as the smallest amount of debit and credit turnover.
			|Both Accounts receivable and Liabilities can be recorded on Dr/Cr accounts. So, for each AR/AP object, the turnover related to the credit balance is excluded.'");
			
	ШаблоныЗаголовки.ПорядокРасчета.Общий.Аренда = 
		НСтр("ru = 'Уменьшение сумм авансов за период, определенное отдельно по каждому договору аренды (лизинга), исходя из разницы показателей на начало и конец периода.
			|Значение может быть скорректировано на сумму НДС, например, если по одному договору отражен лизинг и другие расчеты.';
			|en = 'A decrease in the amounts of advances for the period, determined separately for each rental (financial lease) contract, based on the difference in indicators at the beginning and end of the period.
			|The value can be adjusted for the VAT amount, for example, if financial lease and other settlements are recorded under one contract.'");

	ШаблоныЗаголовки.ПорядокРасчета.Долгосрочная.Основной = 
		НСтр("ru = 'Оборот по кредиту [СчетаРасчетов] (кроме задолженности, поступившей и погашенной в течение отчетного периода, а также списанной в течение отчетного периода).
			|Задолженность, поступившая и погашенная в течение периода, определяется по каждому объекту расчетов как наименьшая величина из дебетового и кредитового оборота.
			|Включаются суммы со сроком погашения задолженности не ранее [СрокПогашенияКонец] А также со сроком погашения не ранее [СрокПогашенияНачало], по которым есть начальное сальдо. Срок погашения может быть указан в документе расчетов. Если не указан - определяется исходя из даты документа и срока оплаты, указанного в договоре или настройках учета.';
			|en = '[СчетаРасчетов] credit turnover (except for the debt received, repaid, and written off during the accounting period).
			|The debt received and repaid during the period is calculated for each AR/AP object as the smallest amount of debit and credit turnover.
			|Includes amounts with a repayment period not earlier than [СрокПогашенияКонец], as well as amounts with a repayment period not earlier than [СрокПогашенияНачало], which have an opening balance. The repayment period can be specified in the AR/AP document. If not specified, it is determined based on the document date and the payment due date specified in the contract or accounting settings.'");

	ШаблоныЗаголовки.ПорядокРасчета.Долгосрочная.Авансы = 
		НСтр("ru = 'Оборот по кредиту [СчетаРасчетов] по договорам, с признаком отражения в балансе не отнесенным к ""Основным средствам"", ""Инвестиционной недвижимости"", ""Нематериальным активам"", ""Прочим внеоборотным активам"", ""Запасам"" или ""Прочим оборотным активам"" (кроме задолженности, поступившей и погашенной в течение отчетного периода, а также списанной в течение отчетного периода).
			|Задолженность, поступившая и погашенная в течение периода, определяется по каждому объекту расчетов как наименьшая величина из дебетового и кредитового оборота.
			|Включаются суммы со сроком погашения задолженности не ранее [СрокПогашенияКонец] А также со сроком погашения не ранее [СрокПогашенияНачало], по которым есть начальное сальдо. Срок погашения может быть указан в документе расчетов. Если не указан - определяется исходя из даты документа и срока оплаты, указанного в договоре или настройках учета.';
			|en = '[СчетаРасчетов] credit turnover for contracts with a flag of record in the balance sheet, not classified as ""Fixed assets"", ""Investment property"", ""Intangible assets"", ""Other capital assets"", ""Inventory"" or ""Other current assets"" (except for the debt received, repaid, and written off during the accounting period).
			|The debt received and repaid during the period is calculated for each AR/AP object as the smallest amount of debit and credit turnover.
			|Includes amounts with a repayment period not earlier than [СрокПогашенияКонец], as well as amounts with a repayment period not earlier than [СрокПогашенияНачало], which have an opening balance. The repayment period can be specified in the AR/AP document. If not specified, it is determined based on the document date and the payment due date specified in the contract or accounting settings.'");

	ШаблоныЗаголовки.ПорядокРасчета.Долгосрочная.РБП = 
		НСтр("ru = 'Оборот по кредиту [СчетаРасчетов] по статьям с видом актива в балансе ""[ВидАктиваДебиторскаяЗадолженность]"" (кроме задолженности, поступившей и погашенной в течение отчетного периода, а также списанной в течение отчетного периода).
			|Задолженность, поступившая и погашенная в течение периода, определяется по каждому объекту расчетов как наименьшая величина из дебетового и кредитового оборота.
			|Включаются суммы со сроком погашения задолженности не ранее [СрокПогашенияКонец] А также со сроком погашения не ранее [СрокПогашенияНачало], по которым есть начальное сальдо. Срок погашения может быть указан в документе расчетов. Если не указан - определяется исходя из даты документа и срока оплаты, указанного в договоре или настройках учета.';
			|en = '[СчетаРасчетов] credit turnover for items with the ""[ВидАктиваДебиторскаяЗадолженность]"" asset type in the balance sheet (except for the debt received, repaid, and written off during the accounting period).
			|The debt received and repaid during the period is calculated for each AR/AP object as the smallest amount of debit and credit turnover.
			|Includes amounts with a repayment period not earlier than [СрокПогашенияКонец], as well as amounts with a repayment period not earlier than [СрокПогашенияНачало], which have an opening balance. The repayment period can be specified in the AR/AP document. If not specified, it is determined based on the document date and the payment due date specified in the contract or accounting settings.'");
		
	ШаблоныЗаголовки.ПорядокРасчета.Долгосрочная.АПСчета = 
		НСтр("ru = 'Оборот по кредиту [СчетаРасчетов] (кроме задолженности, поступившей и погашенной в течение отчетного периода, а также списанной в течение отчетного периода).
			|Задолженность, поступившая и погашенная в течение периода, определяется по каждому объекту расчетов как наименьшая величина из дебетового и кредитового оборота.
			|Включаются суммы со сроком оплаты [СрокПогашенияКонец] или позже. А также суммы со сроком оплаты [СрокПогашенияНачало] или позже, по которым есть дебетовое начальное сальдо. Срок оплаты указывается в договоре в виде даты платежа.
			|По активно-пассивным счетам может быть отражена как Дебиторская задолженность, так и Обязательства. Поэтому по каждому объекту расчетов исключается оборот, связанный с кредитовым сальдо.';
			|en = '[СчетаРасчетов] credit turnover (except for the debt received, repaid, and written off during the accounting period).
			|The debt received and repaid during the period is determined for each AR/AP object as the smallest amount of debit and credit turnover.
			|Includes amounts whose payment due date is [СрокПогашенияКонец] or later, as well as  amounts whose payment due date is [СрокПогашенияНачало] or later, which have a debit opening balance. The payment due date is specified in the contract as a payment date.
			|Both Accounts receivable and Liabilities can be recorded on Dr/Cr accounts. So, for each AR/AP object, the turnover related to the credit balance is excluded.'");

	ШаблоныЗаголовки.ПорядокРасчета.Долгосрочная.СмешанныеВидыСчетов = 
		НСтр("ru = 'Оборот по кредиту [СчетаРасчетов] (кроме задолженности, поступившей и погашенной в течение отчетного периода, а также списанной в течение отчетного периода).
			|Задолженность, поступившая и погашенная в течение периода, определяется по каждому объекту расчетов как наименьшая величина из дебетового и кредитового оборота.
			|Включаются суммы со сроком оплаты [СрокПогашенияКонец] или позже. А также суммы со сроком оплаты [СрокПогашенияНачало] или позже, по которым есть дебетовое начальное сальдо. Срок оплаты указывается в договоре в виде даты платежа.
			|По активно-пассивным счетам может быть отражена как Дебиторская задолженность, так и Обязательства. Поэтому по каждому объекту расчетов исключается оборот, связанный с кредитовым сальдо.';
			|en = '[СчетаРасчетов] credit turnover (except for the debt received, repaid, and written off during the accounting period).
			|The debt received and repaid during the period is determined for each AR/AP object as the smallest amount of debit and credit turnover.
			|Includes amounts whose payment due date is [СрокПогашенияКонец] or later, as well as  amounts whose payment due date is [СрокПогашенияНачало] or later, which have a debit opening balance. The payment due date is specified in the contract as a payment date.
			|Both Accounts receivable and Liabilities can be recorded on Dr/Cr accounts. So, for each AR/AP object, the turnover related to the credit balance is excluded.'");
	
	ШаблоныЗаголовки.ПорядокРасчета.Краткосрочная.Основной = 
		НСтр("ru = 'Оборот по кредиту [СчетаРасчетов] (кроме задолженности, поступившей и погашенной в течение отчетного периода, а также списанной в течение отчетного периода).
			|Задолженность, поступившая и погашенная в течение периода, определяется по каждому объекту расчетов как наименьшая величина из дебетового и кредитового оборота.
			|Включаются суммы со сроком погашения задолженности ранее [СрокПогашенияКонец] Исключаются суммы со сроком погашения не ранее [СрокПогашенияНачало], по которым есть начальное сальдо. Срок погашения может быть указан в документе расчетов. Если не указан - определяется исходя из даты документа и срока оплаты, указанного в договоре или настройках учета.';
			|en = '[СчетаРасчетов] credit turnover (except for the debt received, repaid, and written off during the accounting period).
			|The debt received and repaid during the period is calculated for each AR/AP object as the smallest amount of debit and credit turnover.
			|Includes amounts with a repayment period earlier than [СрокПогашенияКонец]. Does not include amounts with a repayment period not earlier than [СрокПогашенияНачало], which have an opening balance. The repayment period can be specified in the AR/AP document. If not specified, it is determined based on the document date and the payment due date specified in the contract or accounting settings.'");

	ШаблоныЗаголовки.ПорядокРасчета.Краткосрочная.Авансы = 
		НСтр("ru = 'Оборот по кредиту [СчетаРасчетов] по договорам, с признаком отражения в балансе не отнесенным к ""Основным средствам"", ""Инвестиционной недвижимости"", ""Нематериальным активам"", ""Прочим внеоборотным активам"", ""Запасам"" или ""Прочим оборотным активам"" (кроме задолженности, поступившей и погашенной в течение отчетного периода, а также списанной в течение отчетного периода).
			|Задолженность, поступившая и погашенная в течение периода, определяется по каждому объекту расчетов как наименьшая величина из дебетового и кредитового оборота.
			|Включаются суммы со сроком погашения задолженности ранее [СрокПогашенияКонец] Исключаются суммы со сроком погашения не ранее [СрокПогашенияНачало], по которым есть начальное сальдо. Срок погашения может быть указан в документе расчетов. Если не указан - определяется исходя из даты документа и срока оплаты, указанного в договоре или настройках учета.';
			|en = '[СчетаРасчетов] credit turnover for contracts with a flag of record in the balance sheet, not classified as ""Fixed assets"", ""Investment property"", ""Intangible assets"", ""Other capital assets"", ""Inventory"" or ""Other current assets""  (except for the debt received, repaid, and written off during the accounting period).
			|The debt received and repaid during the period is calculated for each AR/AP object as the smallest amount of debit and credit turnover.
			|Includes amounts with a repayment period earlier than [СрокПогашенияКонец]. Does not include amounts with a repayment period not earlier than [СрокПогашенияНачало], which have an opening balance. The repayment period can be specified in the AR/AP document. If not specified, it is determined based on the document date and the payment due date specified in the contract or accounting settings.'");

	ШаблоныЗаголовки.ПорядокРасчета.Краткосрочная.РБП = 
		НСтр("ru = 'Оборот по кредиту [СчетаРасчетов]  по статьям с видом актива в балансе ""[ВидАктиваДебиторскаяЗадолженность]"" (кроме задолженности, поступившей и погашенной в течение отчетного периода, а также списанной в течение отчетного периода).
			|Задолженность, поступившая и погашенная в течение периода, определяется по каждому объекту расчетов как наименьшая величина из дебетового и кредитового оборота.
			|Включаются суммы со сроком погашения задолженности ранее [СрокПогашенияКонец] Исключаются суммы со сроком погашения не ранее [СрокПогашенияНачало], по которым есть начальное сальдо. Срок погашения может быть указан в документе расчетов. Если не указан - определяется исходя из даты документа и срока оплаты, указанного в договоре или настройках учета.';
			|en = '[СчетаРасчетов] credit turnover for items with the ""[ВидАктиваДебиторскаяЗадолженность]"" asset type in the balance sheet (except for the debt received, repaid, and written off during the accounting period).
			|The debt received and repaid during the period is calculated for each AR/AP object as the smallest amount of debit and credit turnover.
			|Includes amounts with a repayment period earlier than [СрокПогашенияКонец]. Does not include amounts with a repayment period not earlier than [СрокПогашенияНачало], which have an opening balance. The repayment period can be specified in the AR/AP document. If not specified, it is determined based on the document date and the payment due date specified in the contract or accounting settings.'");
	
	ШаблоныЗаголовки.ПорядокРасчета.Краткосрочная.АПСчета = 
		НСтр("ru = 'Оборот по кредиту [СчетаРасчетов] (кроме задолженности, поступившей и погашенной в течение отчетного периода, а также списанной в течение отчетного периода).
			|Задолженность, поступившая и погашенная в течение периода, определяется по каждому объекту расчетов как наименьшая величина из дебетового и кредитового оборота.
			|Включаются суммы со сроком оплаты ранее [СрокПогашенияКонец] Исключаются суммы со сроком оплаты [СрокПогашенияНачало] или позже, по которым есть дебетовое начальное сальдо. Срок оплаты указывается в договоре в виде даты платежа.
			|По активно-пассивным счетам может быть отражена как Дебиторская задолженность, так и Обязательства. Поэтому по каждому объекту расчетов исключается оборот, связанный с кредитовым сальдо.';
			|en = '[СчетаРасчетов] credit turnover (except for the debt received, repaid, and written off during the accounting period).
			|The debt received and repaid during the period is determined for each AR/AP object as the smallest amount of debit and credit turnover.
			|Includes amounts whose payment due date is earlier than [СрокПогашенияКонец]. Does not include amounts whose payment due date is [СрокПогашенияНачало] or later, which have a debit opening balance. The payment due date is specified in the contract as a payment date.
			|Both Accounts receivable and Liabilities can be recorded on Dr/Cr accounts. So, for each AR/AP object, the turnover related to the credit balance is excluded.'");

	ШаблоныЗаголовки.ПорядокРасчета.Краткосрочная.СмешанныеВидыСчетов = 
		НСтр("ru = 'Оборот по кредиту [СчетаРасчетов] (кроме задолженности, поступившей и погашенной в течение отчетного периода, а также списанной в течение отчетного периода).
			|Задолженность, поступившая и погашенная в течение периода, определяется по каждому объекту расчетов как наименьшая величина из дебетового и кредитового оборота.
			|Включаются суммы со сроком оплаты ранее [СрокПогашенияКонец] Исключаются суммы со сроком оплаты [СрокПогашенияНачало] или позже, по которым есть дебетовое начальное сальдо. Срок оплаты указывается в договоре в виде даты платежа.
			|По активно-пассивным счетам может быть отражена как Дебиторская задолженность, так и Обязательства. Поэтому по каждому объекту расчетов исключается оборот, связанный с кредитовым сальдо.';
			|en = '[СчетаРасчетов] credit turnover (except for the debt received, repaid, and written off during the accounting period).
			|The debt received and repaid during the period is determined for each AR/AP object as the smallest amount of debit and credit turnover.
			|Includes amounts whose payment due date is earlier than [СрокПогашенияКонец]. Does not include amounts whose payment due date is [СрокПогашенияНачало] or later, which have a debit opening balance. The payment due date is specified in the contract as a payment date.
			|Both Accounts receivable and Liabilities can be recorded on Dr/Cr accounts. So, for each AR/AP object, the turnover related to the credit balance is excluded.'");

	ДобавитьШаблоныРасшифровкиСоставляющих(КонтекстРаздела, ШаблоныЗаголовки.Составляющие, ИмяКолонки);

	Шаблоны.Вставить(ИмяКолонки, ШаблоныЗаголовки);
#КонецОбласти
		
#Область СписаноНаРасходы
	ИмяКолонки = "СписаноНаРасходы";
	ШаблоныЗаголовки = НовыйШаблонРасшифровки();
	ШаблоныЗаголовки.ЗаголовокГруппы = 
		НСтр("ru = '[НаименованиеГруппы]: списано на расходы за [Период]';
			|en = '[НаименованиеГруппы]: written off as expenses for [Период]'");

	ШаблоныЗаголовки.ПорядокРасчета.Общий.Основной = 
		НСтр("ru = 'Оборот по кредиту [СчетаРасчетов] в корреспонденции со [СчетаРасходов] по статьям с видом ""[ВидПДРСписание]"".';
			|en = '[СчетаРасчетов] credit turnover in correspondence with [СчетаРасходов] for items with the ""[ВидПДРСписание]"" type.'");

	ШаблоныЗаголовки.ПорядокРасчета.Общий.РБП = 
		НСтр("ru = 'Оборот по кредиту [СчетаРасчетов] по статьям с видом актива в балансе ""[ВидАктиваДебиторскаяЗадолженность]"" в корреспонденции со [СчетаРасходов] по статьям с видом ""[ВидПДРСписание]"".';
			|en = '[СчетаРасчетов] credit turnover for items with the ""[ВидАктиваДебиторскаяЗадолженность]"" asset type in the balance sheet in correspondence with [СчетаРасходов] for items with the ""[ВидПДРСписание]"" type.'");
			
	ШаблоныЗаголовки.ПорядокРасчета.Долгосрочная.Основной = 
		НСтр("ru = 'Оборот по кредиту [СчетаРасчетов] в корреспонденции со [СчетаРасходов] по статьям с видом ""[ВидПДРСписание]"".
			|Включаются суммы со сроком погашения задолженности не ранее [СрокПогашенияКонец] А также суммы со сроком погашения не ранее [СрокПогашенияНачало], по которым есть дебетовое начальное сальдо. Срок погашения может быть указан в документе расчетов. Если не указан - определяется исходя из даты документа и срока оплаты, указанного в договоре или настройках учета.';
			|en = '[СчетаРасчетов] credit turnover in correspondence with [СчетаРасходов] for items with the ""[ВидПДРСписание]"" type.
			|Includes amounts with a repayment period not earlier than [СрокПогашенияКонец], as well as amounts with a repayment period not earlier than [СрокПогашенияНачало], which have a debit opening balance. The repayment period can be specified in the AR/AP document. If not specified, it is determined based on the document date and the payment due date specified in the contract or accounting settings.'");

	ШаблоныЗаголовки.ПорядокРасчета.Долгосрочная.АПСчета = 
		НСтр("ru = 'Оборот по кредиту [СчетаРасчетов] в корреспонденции со [СчетаРасходов] по статьям с видом ""[ВидПДРСписание]"".
			|Включаются суммы со сроком оплаты [СрокПогашенияКонец] или позже. А также суммы со сроком оплаты [СрокПогашенияНачало] или позже, по которым есть дебетовое начальное сальдо. Срок оплаты указывается в договоре в виде даты платежа.';
			|en = '[СчетаРасчетов] credit turnover in correspondence with [СчетаРасходов] for items with the ""[ВидПДРСписание]"" type.
			|Includes amounts whose payment due date is [СрокПогашенияКонец] or later, as well as amounts whose payment due date is [СрокПогашенияНачало] or later, which have a debit opening balance. The payment due date is specified in the contract as a payment date.'");

	ШаблоныЗаголовки.ПорядокРасчета.Долгосрочная.СмешанныеВидыСчетов = 
		НСтр("ru = 'Оборот по кредиту [СчетаРасчетов] в корреспонденции со [СчетаРасходов] по статьям с видом ""[ВидПДРСписание]"".
			|Включаются суммы со сроком оплаты [СрокПогашенияКонец] или позже. А также суммы со сроком оплаты [СрокПогашенияНачало] или позже, по которым есть дебетовое начальное сальдо. Срок оплаты указывается в договоре в виде даты платежа.';
			|en = '[СчетаРасчетов] credit turnover in correspondence with [СчетаРасходов] for items with the ""[ВидПДРСписание]"" type.
			|Includes amounts whose payment due date is [СрокПогашенияКонец] or later, as well as amounts whose payment due date is [СрокПогашенияНачало] or later, which have a debit opening balance. The payment due date is specified in the contract as a payment date.'");
			
	ШаблоныЗаголовки.ПорядокРасчета.Долгосрочная.Авансы = 
		НСтр("ru = 'Оборот по кредиту [СчетаРасчетов] по договорам, с признаком отражения в балансе не отнесенным к ""Основным средствам"", ""Инвестиционной недвижимости"", ""Нематериальным активам"", ""Прочим внеоборотным активам"", ""Запасам"" или ""Прочим оборотным активам"" в корреспонденции со [СчетаРасходов] по статьям с видом ""[ВидПДРСписание]"".
			|Включаются суммы со сроком погашения задолженности не ранее [СрокПогашенияКонец] А также суммы со сроком погашения не ранее [СрокПогашенияНачало], по которым есть дебетовое начальное сальдо. Срок погашения может быть указан в документе расчетов. Если не указан - определяется исходя из даты документа и срока оплаты, указанного в договоре или настройках учета.';
			|en = '[СчетаРасчетов] credit turnover for contracts with a flag of record in the balance sheet, not classified as ""Fixed assets"", ""Investment property"", ""Intangible assets"", ""Other capital assets"", ""Inventory"" or ""Other current assets"" in correspondence with [СчетаРасходов] for items with the ""[ВидПДРСписание]"" type.
			|Includes amounts with a repayment period not earlier than [СрокПогашенияКонец], as well as amounts with a repayment period not earlier than [СрокПогашенияНачало], which have a debit opening balance. The repayment period can be specified in the AR/AP document. If not specified, it is determined based on the document date and the payment due date specified in the contract or accounting settings.'");
			
	ШаблоныЗаголовки.ПорядокРасчета.Долгосрочная.РБП = 
		НСтр("ru = 'Оборот по кредиту [СчетаРасчетов] по статьям с видом актива в балансе ""[ВидАктиваДебиторскаяЗадолженность]"" в корреспонденции со [СчетаРасходов] по статьям с видом ""[ВидПДРСписание]"".
			|Включаются суммы со сроком погашения задолженности не ранее [СрокПогашенияКонец] А также суммы со сроком погашения не ранее [СрокПогашенияНачало], по которым есть дебетовое начальное сальдо. Срок погашения может быть указан в документе расчетов. Если не указан - определяется исходя из даты документа и срока оплаты, указанного в договоре или настройках учета.';
			|en = '[СчетаРасчетов] credit turnover for items with the ""[ВидАктиваДебиторскаяЗадолженность]"" asset type in the balance sheet in correspondence with [СчетаРасходов] for items with the ""[ВидПДРСписание]"" type.
			|Includes amounts with a repayment period not earlier than [СрокПогашенияКонец], as well as amounts with a repayment period not earlier than [СрокПогашенияНачало], which have a debit opening balance. The repayment period can be specified in the AR/AP document. If not specified, it is determined based on the document date and the payment due date specified in the contract or accounting settings.'");
		
	ШаблоныЗаголовки.ПорядокРасчета.Краткосрочная.Основной = 
		НСтр("ru = 'Оборот по кредиту [СчетаРасчетов] в корреспонденции со [СчетаРасходов] по статьям с видом ""[ВидПДРСписание]"".
			|Включаются суммы со сроком погашения задолженности ранее [СрокПогашенияКонец] Исключаются суммы со сроком погашения не ранее [СрокПогашенияНачало], по которым есть дебетовое начальное сальдо. Срок погашения может быть указан в документе расчетов. Если не указан - определяется исходя из даты документа и срока оплаты, указанного в договоре или настройках учета.';
			|en = '[СчетаРасчетов] credit turnover in correspondence with [СчетаРасходов] for items with the ""[ВидПДРСписание]"" type.
			|Includes amounts with a repayment period earlier than [СрокПогашенияКонец]. Does not include amounts with a repayment period not earlier than [СрокПогашенияНачало], which have a debit opening balance. The repayment period can be specified in the AR/AP document. If not specified, it is determined based on the document date and the payment due date specified in the contract or accounting settings.'");

	ШаблоныЗаголовки.ПорядокРасчета.Краткосрочная.АПСчета = 
		НСтр("ru = 'Оборот по кредиту [СчетаРасчетов] в корреспонденции со [СчетаРасходов] по статьям с видом ""[ВидПДРСписание]"".
			|Включаются суммы со сроком оплаты ранее [СрокПогашенияКонец] Исключаются суммы со сроком оплаты [СрокПогашенияНачало] или позже, по которым есть дебетовое начальное сальдо. Срок оплаты указывается в договоре в виде даты платежа.';
			|en = '[СчетаРасчетов] credit turnover in correspondence with [СчетаРасходов] for items with the ""[ВидПДРСписание]"" type.
			|Includes amounts whose payment due date is earlier than [СрокПогашенияКонец]. Does not include amounts whose payment due date is [СрокПогашенияНачало] or later, which have a debit opening balance. The payment due date is specified in the contract as a payment date.'");

	ШаблоныЗаголовки.ПорядокРасчета.Краткосрочная.СмешанныеВидыСчетов = 
		НСтр("ru = 'Оборот по кредиту [СчетаРасчетов] в корреспонденции со [СчетаРасходов] по статьям с видом ""[ВидПДРСписание]"".
			|Включаются суммы со сроком оплаты ранее [СрокПогашенияКонец] Исключаются суммы со сроком оплаты [СрокПогашенияНачало] или позже, по которым есть дебетовое начальное сальдо. Срок оплаты указывается в договоре в виде даты платежа.';
			|en = '[СчетаРасчетов] credit turnover in correspondence with [СчетаРасходов] for items with the ""[ВидПДРСписание]"" type.
			|Includes amounts whose payment due date is earlier than [СрокПогашенияКонец]. Does not include amounts whose payment due date is [СрокПогашенияНачало] or later, which have a debit opening balance. The payment due date is specified in the contract as a payment date.'");

	ШаблоныЗаголовки.ПорядокРасчета.Краткосрочная.Авансы = 
		НСтр("ru = 'Оборот по кредиту [СчетаРасчетов] по договорам, с признаком отражения в балансе не отнесенным к ""Основным средствам"", ""Инвестиционной недвижимости"", ""Нематериальным активам"", ""Прочим внеоборотным активам"", ""Запасам"" или ""Прочим оборотным активам"" в корреспонденции со [СчетаРасходов] по статьям с видом ""[ВидПДРСписание]"".
			|Включаются суммы со сроком погашения задолженности ранее [СрокПогашенияКонец] Исключаются суммы со сроком погашения не ранее [СрокПогашенияНачало], по которым есть дебетовое начальное сальдо. Срок погашения может быть указан в документе расчетов. Если не указан - определяется исходя из даты документа и срока оплаты, указанного в договоре или настройках учета.';
			|en = '[СчетаРасчетов] credit turnover for contracts with a flag of record in the balance sheet, not classified as ""Fixed assets"", ""Investment property"", ""Intangible assets"", ""Other capital assets"", ""Inventory"" or ""Other current assets"" in correspondence with [СчетаРасходов] for items with the ""[ВидПДРСписание]"" type.
			|Includes amounts with a repayment period earlier than [СрокПогашенияКонец]. Does not include amounts with a repayment period not earlier than [СрокПогашенияНачало], which have a debit opening balance. The repayment period can be specified in the AR/AP document. If not specified, it is determined based on the document date and the payment due date specified in the contract or accounting settings.'");

	ШаблоныЗаголовки.ПорядокРасчета.Краткосрочная.РБП = 
		НСтр("ru = 'Оборот по кредиту [СчетаРасчетов] по статьям с видом актива в балансе ""[ВидАктиваДебиторскаяЗадолженность]"" в корреспонденции со [СчетаРасходов] по статьям с видом ""[ВидПДРСписание]"".
			|Включаются суммы со сроком погашения задолженности ранее [СрокПогашенияКонец] Исключаются суммы со сроком погашения не ранее [СрокПогашенияНачало], по которым есть дебетовое начальное сальдо. Срок погашения может быть указан в документе расчетов. Если не указан - определяется исходя из даты документа и срока оплаты, указанного в договоре или настройках учета.';
			|en = '[СчетаРасчетов] credit turnover for items with the ""[ВидАктиваДебиторскаяЗадолженность]"" asset type in the balance sheet in correspondence with [СчетаРасходов] for items with the ""[ВидПДРСписание]"" type.
			|Includes amounts with a repayment period earlier than [СрокПогашенияКонец]. Does not include amounts with a repayment period not earlier than [СрокПогашенияНачало], which have a debit opening balance. The repayment period can be specified in the AR/AP document. If not specified, it is determined based on the document date and the payment due date specified in the contract or accounting settings.'");

	ДобавитьШаблоныРасшифровкиСоставляющих(КонтекстРаздела, ШаблоныЗаголовки.Составляющие);
	
	Шаблоны.Вставить(ИмяКолонки, ШаблоныЗаголовки);
#КонецОбласти

#Область ВосстановленоРезерв
	ИмяКолонки = "ВосстановленоРезерв";
	ШаблоныЗаголовки = НовыйШаблонРасшифровки();
	ШаблоныЗаголовки.ЗаголовокГруппы = 
		НСтр("ru = '[НаименованиеГруппы]: восстановление резерва за [Период]';
			|en = '[НаименованиеГруппы]: provision recovery for [Период]'");
		
	ШаблоныЗаголовки.ПорядокРасчета.Общий.Основной =
		НСтр("ru = 'Оборот по дебету [СчетаРезервов] по объектам, отраженным в графах ""Списано - погашено"" и ""Списано - на расходы""';
			|en = '[СчетаРезервов] debit turnover by objects in the ""Written off - repaid"" and ""Written off - to expenses""  columns'");
		
	Шаблоны.Вставить(ИмяКолонки, ШаблоныЗаголовки);
#КонецОбласти

#Область Переклассифицировано
	ИмяКолонки = "Переклассифицировано";
	ШаблоныЗаголовки = НовыйШаблонРасшифровки();
	ШаблоныЗаголовки.ЗаголовокГруппы = 
		НСтр("ru = '[НаименованиеГруппы]: переклассифицировано за [Период]';
			|en = '[НаименованиеГруппы]: reclassified for [Период]'");

	ШаблоныЗаголовки.ПорядокРасчета.Долгосрочная.Основной =
		НСтр("ru = 'Конечное сальдо по [СчетуРасчетов] (подлежащее погашению до [СрокПогашенияКонец])
			|Включает суммы по документам расчетов, ожидаемый срок погашения задолженности по которым не ранее [СрокПогашенияНачало] Срок погашения может быть указан в документе расчетов. Если не указан - определяется исходя из даты документа и срока оплаты, указанного в договоре или настройках учета.
			|Не включает суммы по документам расчетов без сальдо на [НачалоПериода]';
			|en = 'Closing [СчетуРасчетов] balance (repayable before [СрокПогашенияКонец]).
			|Includes amounts of AR/AP documents whose expected repayment period is not earlier than [СрокПогашенияНачало]. The repayment period can be specified in the AR/AP document. If not specified, it is determined based on the document date and the payment due date specified in the contract or accounting settings.
			|Does not include the amounts of AR/AP documents without a balance as of [НачалоПериода]'");

	ШаблоныЗаголовки.ПорядокРасчета.Долгосрочная.АПСчета =
		НСтр("ru = 'Конечное сальдо по [СчетуРасчетов] (подлежащее погашению до [СрокПогашенияКонец])
			|Включает суммы по договорам, ожидаемый срок оплаты по которым [СрокПогашенияНачало] или позже. Срок оплаты указывается в договоре в виде даты платежа.
			|Не включает суммы по договорам без сальдо на [НачалоПериода]';
			|en = 'Closing [СчетуРасчетов] balance (repayable before [СрокПогашенияКонец])
			|Includes amounts under contracts whose expected payment due date is [СрокПогашенияНачало] or later. The payment due date is specified in the contract as a payment date.
			|Does not include amounts under contracts without a balance as of [НачалоПериода]'");

	ШаблоныЗаголовки.ПорядокРасчета.Долгосрочная.СмешанныеВидыСчетов =
		НСтр("ru = 'Конечное сальдо по [СчетуРасчетов] (подлежащее погашению до [СрокПогашенияКонец])
			|Включает суммы по договорам, ожидаемый срок оплаты по которым [СрокПогашенияНачало] или позже. Срок оплаты указывается в договоре в виде даты платежа.
			|Не включает суммы по договорам без сальдо на [НачалоПериода]';
			|en = 'Closing [СчетуРасчетов] balance (repayable before [СрокПогашенияКонец])
			|Includes amounts under contracts whose expected payment due date is [СрокПогашенияНачало] or later. The payment due date is specified in the contract as a payment date.
			|Does not include amounts under contracts without a balance as of [НачалоПериода]'");

	ШаблоныЗаголовки.ПорядокРасчета.Краткосрочная.Основной =
		НСтр("ru = 'Отражены суммы с обратным знаком из графы ""Долгосрочная дебиторская задолженность - Переклассифицировано""';
			|en = 'Amounts with the reverse sign from the ""Long-term accounts receivable - Reclassified"" column are recorded'");

	ДобавитьШаблоныРасшифровкиСоставляющих(КонтекстРаздела, ШаблоныЗаголовки.Составляющие);
	
	Шаблоны.Вставить(ИмяКолонки, ШаблоныЗаголовки);
#КонецОбласти

#Область КонецНоминал
	ИмяКолонки = "КонецНоминал";
	ШаблоныЗаголовки = НовыйШаблонРасшифровки();
	ШаблоныЗаголовки.ЗаголовокГруппы = 
		НСтр("ru = '[НаименованиеГруппы]: по условиям договора на [КонецПериода]';
			|en = '[НаименованиеГруппы]: according to the contract terms as of [КонецПериода]'");

	ШаблоныЗаголовки.ПорядокРасчета.Общий.Основной = 
		НСтр("ru = 'Сальдо по дебету [СчетаРасчетов].';
			|en = '[СчетаРасчетов] debit balance.'");
		
	ШаблоныЗаголовки.ПорядокРасчета.Общий.РБП = 
		НСтр("ru = 'Сальдо по дебету [СчетаРасчетов]  по статьям с видом актива в балансе ""[ВидАктиваДебиторскаяЗадолженность]"".';
			|en = '[СчетаРасчетов] debit balance for items with the ""[ВидАктиваДебиторскаяЗадолженность]"" asset type in the balance sheet.'");
		
	ШаблоныЗаголовки.ПорядокРасчета.Общий.АПСчета = 
		НСтр("ru = 'Развернутое сальдо по дебету [СчетаРасчетовАП].';
			|en = 'Detailed [СчетаРасчетовАП] debit balance.'");

	ШаблоныЗаголовки.ПорядокРасчета.Общий.СмешанныеВидыСчетов =
		НСтр("ru = 'Сальдо по дебету [СчетаРасчетовА], развернутое сальдо по дебету [СчетаРасчетовАП].';
			|en = '[СчетаРасчетовА] debit balance, detailed [СчетаРасчетовАП] debit balance.'");
		
	ШаблоныЗаголовки.ПорядокРасчета.Общий.АПСчетаСальдо = 
		НСтр("ru = 'Сальдо по [СчетуРасчетов].';
			|en = '[СчетуРасчетов] balance.'");
		
	ШаблоныЗаголовки.ПорядокРасчета.Общий.Аренда = 
		НСтр("ru = 'Положительное сальдо по [СчетуАренды] за вычетом относящегося к нему НДС (сальдо по кредиту [СчетаНДСАвансовВыданных]). Расчет выполняется отдельно по каждому договору аренды (лизинга)[СуммарноПоФилиалам].
			|Значения НДС могут быть скорректированы, например, если по одному договору отражен лизинг и другие расчеты.';
			|en = 'Positive [СчетуАренды] balance minus the related VAT ([СчетаНДСАвансовВыданных] credit balance). The calculation is performed separately for each rental (financial lease) contract[СуммарноПоФилиалам].
			|VAT values can be adjusted, for example, if financial lease and other settlements are recorded under one contract.'");
		
	ШаблоныЗаголовки.ПорядокРасчета.Долгосрочная.Основной = 
		НСтр("ru = 'Сальдо по дебету [СчетаРасчетов].
			|Включаются суммы со сроком погашения задолженности не ранее [СрокПогашенияКонец] Срок погашения может быть указан в документе расчетов. Если не указан - определяется исходя из даты документа и срока оплаты, указанного в договоре или настройках учета.';
			|en = '[СчетаРасчетов] debit balance.
			|Includes amounts with a repayment period not earlier than [СрокПогашенияКонец]. The repayment period can be specified in the AR/AP document. If not specified, it is determined based on the document date and the payment due date specified in the contract or accounting settings.'");

	ШаблоныЗаголовки.ПорядокРасчета.Долгосрочная.Авансы = 
		НСтр("ru = 'Сальдо по дебету [СчетаРасчетов] по договорам, с признаком отражения в балансе не отнесенным к ""Основным средствам"", ""Инвестиционной недвижимости"", ""Нематериальным активам"", ""Прочим внеоборотным активам"", ""Запасам"" или ""Прочим оборотным активам"".
			|Включаются суммы со сроком погашения задолженности не ранее [СрокПогашенияКонец] Срок погашения может быть указан в документе расчетов. Если не указан - определяется исходя из даты документа и срока оплаты, указанного в договоре или настройках учета.';
			|en = '[СчетаРасчетов] debit balance for contracts with a flag of record in the balance sheet, not classified as ""Fixed assets"", ""Investment property"", ""Intangible assets"", ""Other capital assets"", ""Inventory"" or ""Other current assets"".
			|Includes amounts with a repayment period not earlier than [СрокПогашенияКонец]. The repayment period can be specified in the AR/AP document. If not specified, it is determined based on the document date and the payment due date specified in the contract or accounting settings.'");

	ШаблоныЗаголовки.ПорядокРасчета.Долгосрочная.РБП = 
		НСтр("ru = 'Сальдо по дебету [СчетаРасчетов]  по статьям с видом актива в балансе ""[ВидАктиваДебиторскаяЗадолженность]"".
			|Включаются суммы со сроком погашения задолженности не ранее [СрокПогашенияКонец] Срок погашения может быть указан в документе расчетов. Если не указан - определяется исходя из даты документа и срока оплаты, указанного в договоре или настройках учета.';
			|en = '[СчетаРасчетов] debit balance for items with the ""[ВидАктиваДебиторскаяЗадолженность]"" asset type in the balance sheet.
			|Includes amounts with a repayment period not earlier than [СрокПогашенияКонец]. The repayment period can be specified in the AR/AP document. If not specified, it is determined based on the document date and the payment due date specified in the contract or accounting settings.'");
	
	ШаблоныЗаголовки.ПорядокРасчета.Долгосрочная.АПСчета = 
		НСтр("ru = 'Развернутое сальдо по дебету [СчетаРасчетовАП]. Развернутое сальдо означает, что исключается кредитовое сальдо по отдельным значениям аналитики.
			|Включаются суммы со сроком оплаты [СрокПогашенияКонец] или позже. Срок оплаты указывается в договоре в виде даты платежа.';
			|en = 'Detailed [СчетаРасчетовАП] debit balance. The detailed balance means that the credit balance of individual dimension values is excluded.
			|Includes amounts whose payment due date is [СрокПогашенияКонец] or later. The payment due date is specified in the contract as a payment date.'");
	
	ШаблоныЗаголовки.ПорядокРасчета.Долгосрочная.СмешанныеВидыСчетов =
		НСтр("ru = 'Сальдо по дебету [СчетаРасчетовА], развернутое сальдо по дебету [СчетаРасчетовАП]. Развернутое сальдо означает, что исключается кредитовое сальдо по отдельным значениям аналитики.
			|Включаются суммы со сроком оплаты [СрокПогашенияКонец] или позже. Срок оплаты указывается в договоре в виде даты платежа.';
			|en = '[СчетаРасчетовА] debit balance, detailed [СчетаРасчетовАП] debit balance. The detailed balance means that the credit balance of individual dimension values is excluded.
			|Includes amounts whose payment due date is [СрокПогашенияКонец] or later. The payment due date is specified in the contract as a payment date.'");
	
	ШаблоныЗаголовки.ПорядокРасчета.Краткосрочная.Основной = 
		НСтр("ru = 'Сальдо по дебету [СчетаРасчетов].
			|Включаются суммы со сроком погашения задолженности ранее [СрокПогашенияКонец] Срок погашения может быть указан в документе расчетов. Если не указан - определяется исходя из даты документа и срока оплаты, указанного в договоре или настройках учета.';
			|en = '[СчетаРасчетов] debit balance.
			|Includes amounts with a repayment period earlier than [СрокПогашенияКонец]. The repayment period can be specified in the AR/AP document. If not specified, it is determined based on the document date and the payment due date specified in the contract or accounting settings.'");

	ШаблоныЗаголовки.ПорядокРасчета.Краткосрочная.Авансы = 
		НСтр("ru = 'Сальдо по дебету [СчетаРасчетов] по договорам, с признаком отражения в балансе не отнесенным к ""Основным средствам"", ""Инвестиционной недвижимости"", ""Нематериальным активам"", ""Прочим внеоборотным активам"", ""Запасам"" или ""Прочим оборотным активам"".
			|Включаются суммы со сроком погашения задолженности ранее [СрокПогашенияКонец] Срок погашения может быть указан в документе расчетов. Если не указан - определяется исходя из даты документа и срока оплаты, указанного в договоре или настройках учета.';
			|en = '[СчетаРасчетов] debit balance for contracts with a flag of record in the balance sheet, not classified as ""Fixed assets"", ""Investment property"", ""Intangible assets"", ""Other capital assets"", ""Inventory"" or ""Other current assets"".
			|Includes amounts with a repayment period earlier than [СрокПогашенияКонец]. The repayment period can be specified in the AR/AP document. If not specified, it is determined based on the document date and the payment due date specified in the contract or accounting settings.'");

	ШаблоныЗаголовки.ПорядокРасчета.Краткосрочная.РБП = 
		НСтр("ru = 'Сальдо по дебету [СчетаРасчетов]  по статьям с видом актива в балансе ""[ВидАктиваДебиторскаяЗадолженность]"".
			|Включаются суммы со сроком погашения задолженности ранее [СрокПогашенияКонец] Срок погашения может быть указан в документе расчетов. Если не указан - определяется исходя из даты документа и срока оплаты, указанного в договоре или настройках учета.';
			|en = '[СчетаРасчетов] debit balance for items with the ""[ВидАктиваДебиторскаяЗадолженность]"" asset type in the balance sheet.
			|Includes amounts with a repayment period earlier than [СрокПогашенияКонец]. The repayment period can be specified in the AR/AP document. If not specified, it is determined based on the document date and the payment due date specified in the contract or accounting settings.'");
		
	ШаблоныЗаголовки.ПорядокРасчета.Краткосрочная.АПСчета = 
		НСтр("ru = 'Развернутое сальдо по дебету [СчетаРасчетовАП]. Развернутое сальдо означает, что исключается кредитовое сальдо по отдельным значениям аналитики.
			|Включаются суммы со сроком оплаты ранее [СрокПогашенияКонец] Срок оплаты указывается в договоре в виде даты платежа.';
			|en = 'Detailed [СчетаРасчетовАП] debit balance. The detailed balance means that the credit balance of individual dimension values is excluded.
			|Includes amounts whose payment due date is earlier than [СрокПогашенияКонец]. The payment due date is specified in the contract as a payment date.'");
			
	ШаблоныЗаголовки.ПорядокРасчета.Краткосрочная.СмешанныеВидыСчетов =
		НСтр("ru = 'Сальдо по дебету [СчетаРасчетовА], развернутое сальдо по дебету [СчетаРасчетовАП]. Развернутое сальдо означает, что исключается кредитовое сальдо по отдельным значениям аналитики.
			|Включаются суммы со сроком оплаты ранее [СрокПогашенияКонец] Срок оплаты указывается в договоре в виде даты платежа.';
			|en = '[СчетаРасчетовА] debit balance, detailed [СчетаРасчетовАП] debit balance. The detailed balance means that the credit balance of individual dimension values is excluded.
			|Includes amounts whose payment due date is earlier than [СрокПогашенияКонец]. The payment due date is specified in the contract as a payment date.'");
		
	ДобавитьШаблоныРасшифровкиСоставляющих(КонтекстРаздела, ШаблоныЗаголовки.Составляющие, ИмяКолонки);

	Шаблоны.Вставить(ИмяКолонки, ШаблоныЗаголовки);
#КонецОбласти

#Область КонецРезерв
	ИмяКолонки = "КонецРезерв";
	ШаблоныЗаголовки = НовыйШаблонРасшифровки();
	ШаблоныЗаголовки.ЗаголовокГруппы = 
		НСтр("ru = '[НаименованиеГруппы]:  резерв по сомнительным долгам на [КонецПериода]';
			|en = '[НаименованиеГруппы]: loss allowance as of [КонецПериода]'");
		
	ШаблоныЗаголовки.ПорядокРасчета.Общий.Основной =
		НСтр("ru = 'Сальдо по кредиту [СчетаРезервов] по объектам, отраженным в графе ""Конец периода - по условиям договора""';
			|en = '[СчетаРезервов] credit balance by objects in the ""Period end - under contract terms"" column'");
		
	Шаблоны.Вставить(ИмяКолонки, ШаблоныЗаголовки);
#КонецОбласти

Возврат Шаблоны;
	
КонецФункции

Функция ШаблоныРасшифровкиПросроченная()
	
	Шаблоны = Новый Соответствие;
	
	ШаблоныЗаголовки = НовыйШаблонРасшифровки();
	ШаблоныЗаголовки.ЗаголовокГруппы = НСтр("ru = '[НаименованиеГруппы]: номинальная величина просроченной задолженности';
											|en = '[НаименованиеГруппы]: nominal amount of overdue debt'");
	Шаблоны.Вставить("НачалоНоминальнаяВеличина", ШаблоныЗаголовки);
	Шаблоны.Вставить("КонецНоминальнаяВеличина",  ОбщегоНазначения.СкопироватьРекурсивно(ШаблоныЗаголовки));
	// порядок расчета задается отдельно и может отличаться
	
	ЗаголовокБалансоваяСтоимость = НСтр("ru = '[НаименованиеГруппы]: балансовая стоимость просроченной задолженности';
										|en = '[НаименованиеГруппы]: book value of overdue debt'");
	
	ШаблоныЗаголовки = НовыйШаблонРасшифровки();
	ШаблоныЗаголовки.ЗаголовокГруппы = ЗаголовокБалансоваяСтоимость;
	
	ШаблоныЗаголовки.ПорядокРасчета = СтрШаблон(
		НСтр("ru = 'Сумма номинальной величины просроченной задолженности и относящегося к ней обесценения.
             |Номинальная величина просроченной задолженности: см. порядок расчета колонки ""по условиям договора"".
             |Обесценение: %1 (в пределах номинальной величины просроченной задолженности).';
             |en = 'The nominal amount of overdue debt and related impairment.
             |Nominal amount of overdue debt: see the calculation procedure of the ""under contract terms"" column.
             |Impairment: %1 (within the nominal amount of overdue debt).'"),
		ОбщегоНазначенияБПКлиентСервер.ДекапитализироватьСтроку(ПорядокРасчетаОбесценения()));
	
	Шаблоны.Вставить("НачалоБалансоваяСтоимость", ШаблоныЗаголовки);
	Шаблоны.Вставить("КонецБалансоваяСтоимость",  ШаблоныЗаголовки);
	
	Возврат Шаблоны;
	
КонецФункции

Процедура УстановитьШаблоныЗаголовковПросроченнаяПоГруппе(ШаблоныЗаголовковПросроченная, ШаблоныЗаголовковОбщие)
	
	// Шаблон отличается от таблицы с движением датами отсечки.
	// Для балансовой стоимости компилируется порядок заполнения номинала и отсылка к расчету обесценения.
	
	ОбразецНоминальнаяВеличина = ШаблоныЗаголовковОбщие["НачалоНоминал"];
	Если ОбразецНоминальнаяВеличина = Неопределено Тогда
		Возврат;
	КонецЕсли;
	
	ШаблоныЗаголовковПросроченная["НачалоНоминальнаяВеличина"].ПорядокРасчета = СтрЗаменить(
		ОбразецНоминальнаяВеличина.ПорядокРасчета,
		"[СрокПогашенияНачало]",
		"[КонецПредшествующегоПериода]");
	
	ШаблоныЗаголовковПросроченная["КонецНоминальнаяВеличина"].ПорядокРасчета = СтрЗаменить(
		ОбразецНоминальнаяВеличина.ПорядокРасчета,
		"[СрокПогашенияНачало]",
		"[КонецПериода]");
		
	
КонецПроцедуры

Функция ПорядокРасчетаОбесценения()
	Возврат НСтр("ru = 'Сальдо по кредиту [СчетаРезервов]';
				|en = '[СчетаРезервов] credit balance'");
КонецФункции

#КонецОбласти

#Область КредиторскаяЗадолженностьЗаполнить

Процедура ОписатьТаблицуОтчетаКредиторскаяЗадолженностьНаличиеДвижение(Описание)
	
	Описание.Представление = НСтр("ru = 'Кредиторская задолженность';
									|en = 'Accounts payable'");
	
	Описание.Структура.Добавить("ВариантУчета");
	Описание.Структура.Добавить("Группа");
	
	Описание.Классификаторы.Вставить("ВариантУчета", Новый СписокЗначений);
	Описание.Классификаторы.ВариантУчета.Добавить("ДолгосрочнаяКредиторскаяЗадолженность",  НСтр("ru = 'Долгосрочная кредиторская задолженность';
																								|en = 'Long-term accounts payable'"));
	Описание.Классификаторы.ВариантУчета.Добавить("КраткосрочнаяКредиторскаяЗадолженность", НСтр("ru = 'Краткосрочная кредиторская задолженность';
																								|en = 'Short-term accounts payable'"));
	
	Описание.ЧисловыеЗначения = ЧисловыеЗначенияПоясненияКредиторскаяЗадолженностьНаличиеДвижение();
	
КонецПроцедуры

Функция ЧисловыеЗначенияПоясненияКредиторскаяЗадолженностьНаличиеДвижение()
	
	ЧисловыеЗначения = Новый Массив;
	ЧисловыеЗначения.Добавить("НачалоНоминал");
	ЧисловыеЗначения.Добавить("ПоступилоНоминал");
	ЧисловыеЗначения.Добавить("ПоступилоПроценты");
	ЧисловыеЗначения.Добавить("СписаноНоминал");
	ЧисловыеЗначения.Добавить("СписаноНаДоходы");
	ЧисловыеЗначения.Добавить("Переклассифицировано");
	ЧисловыеЗначения.Добавить("КонецНоминал");
	Возврат ЧисловыеЗначения;
	
КонецФункции

Процедура ЗаполнитьПояснениеКредиторскаяЗадолженностьНаличиеДвижение(ЗаполняемыеДанные, Классификаторы, КонтекстЗаполненияОтчета)

	Если ЗаполнениеБухгалтерскойОтчетностиТабличное.ТаблицаОтчета(ЗаполняемыеДанные, "КредиторскаяЗадолженностьНаличиеДвижение") = Неопределено Тогда
		Возврат;
	КонецЕсли;
	
	КонтекстРаздела = КонтекстРазделаКредиторская(КонтекстЗаполненияОтчета);
	
	ШаблоныРасшифровкиОбщие = ШаблоныРасшифровкиКредиторскаяЗадолженностьНаличиеДвижение(КонтекстРаздела);
	ШаблоныЗаголовковПросроченная = ШаблоныРасшифровкиПросроченная();
	ПараметрыТекстовРасшифровки = ПараметрыТекстовРасшифровки(КонтекстЗаполненияОтчета, КонтекстРаздела);
	
	ТаблицыРасчета = ТаблицыРасчетаКредиторская(КонтекстЗаполненияОтчета, КонтекстРаздела);
	
	ИмяТаблицы = "КредиторскаяЗадолженностьНаличиеДвижение";
	НаличиеДвижение = ЗаполнениеБухгалтерскойОтчетностиТабличное.НачатьВыводТаблицы(ЗаполняемыеДанные, ИмяТаблицы);
	
	КредиторскаяЗадолженностьПросроченная = ЗаполнениеБухгалтерскойОтчетностиТабличное.НачатьВыводТаблицы(
		ЗаполняемыеДанные,
		"КредиторскаяЗадолженностьПросроченная");
		
	РасчетыПросроченная = ТаблицыРасчета.Расчеты.Скопировать(,"Группа, НачалоПросроченная, КонецПросроченная");
	РасчетыПросроченная.Свернуть("Группа", "НачалоПросроченная, КонецПросроченная");
	РасчетыПросроченная.Индексы.Добавить("Группа");
	
	Для Каждого ВариантУчета Из Классификаторы.КредиторскаяЗадолженностьНаличиеДвижение.ВариантУчета Цикл
		
		ДолгосрочнаяЗадолженность = Ложь;
		ГруппыРаздела = ТаблицыРасчета.Группы.НайтиСтроки(Новый Структура("ОтражатьВКраткосрочной", Истина));;
		Если ВариантУчета.Значение = Классификаторы.КредиторскаяЗадолженностьНаличиеДвижение.ВариантУчета.ДолгосрочнаяКредиторскаяЗадолженность Тогда
			ДолгосрочнаяЗадолженность = Истина;
			// В таблице "Долгосрочная задолженность" выводятся только группы, в которых присутствуют счета расчета с выделенной долгосрочной частью
			ГруппыРаздела = ТаблицыРасчета.Группы.НайтиСтроки(Новый Структура("ОтражатьВДолгосрочной", Истина));
		КонецЕсли;
		
		// Группы
		Для Каждого СтрокаГруппы Из ГруппыРаздела Цикл
			
			ИндексГруппы = ТаблицыРасчета.Группы.Индекс(СтрокаГруппы);
			
			ОтборСчетов = Новый Структура("Группа", ИндексГруппы);
			Если ДолгосрочнаяЗадолженность Тогда
				ОтборСчетов.Вставить("ОтражатьВДолгосрочной", Истина);
			Иначе
				ОтборСчетов.Вставить("ОтражатьВКраткосрочной", Истина);
			КонецЕсли;
			
			МассивСчета = ТаблицыРасчета.Счета.НайтиСтроки(ОтборСчетов);
			
			СчетаГруппыРаздела = ОпределитьСчетаГруппыРаздела(СтрокаГруппы, МассивСчета);
			
			УстановитьПараметрыТекстовРасшифровкиПоГруппе(ПараметрыТекстовРасшифровки, СтрокаГруппы, СчетаГруппыРаздела);
			
			// В зависимости от вида задолженности и набора счета заполняются шаблоны заголовков
			ШаблоныЗаголовков = Новый Соответствие;
			ПолучитьШаблоныЗаголовковГруппы(ШаблоныЗаголовков, ШаблоныРасшифровкиОбщие, СтрокаГруппы, СчетаГруппыРаздела.МеткаШаблонПорядокРасчета, ДолгосрочнаяЗадолженность);
			
			НачатьДобавлениеСтрокиНаличиеДвижение(
				НаличиеДвижение,
				СтрокаГруппы,
				ШаблоныЗаголовков,
				ПараметрыТекстовРасшифровки,
				ВариантУчета.Значение);
				
			// Показатели по аренде (лизингу) рассчитываются в разрезе договоров без разбивки на организации
			Если СчетаГруппыРаздела.МеткаШаблонПорядокРасчета = "Аренда" Тогда
				// Расчеты по аренде во встроенной отчетности не поддержаны
				Продолжить;
			КонецЕсли;
			
			ВывестиПросроченную = КредиторскаяЗадолженностьПросроченная <> Неопределено И Не ДолгосрочнаяЗадолженность;
			Если ВывестиПросроченную Тогда
				ГруппаПросроченная = РасчетыПросроченная.Найти(ИндексГруппы, "Группа");
				Если ГруппаПросроченная = Неопределено Тогда
					ВывестиПросроченную = Ложь;
				Иначе
					ВывестиПросроченную = ГруппаПросроченная.НачалоПросроченная <> 0 Или ГруппаПросроченная.КонецПросроченная <> 0;
				КонецЕсли;
			КонецЕсли;
			Если ВывестиПросроченную Тогда
				УстановитьШаблоныЗаголовковПросроченнаяПоГруппе(ШаблоныЗаголовковПросроченная, ШаблоныЗаголовков);
				НачатьДобавлениеСтрокиПросроченная(
					КредиторскаяЗадолженностьПросроченная,
					СтрокаГруппы,
					ШаблоныЗаголовковПросроченная,
					ПараметрыТекстовРасшифровки);
			КонецЕсли;
			
			// Организации
			Для Каждого СтрокаОрганизации Из ТаблицыРасчета.Организации Цикл
				ВывестиРасшифровкуОрганизация(НаличиеДвижение, ШаблоныЗаголовков, СтрокаОрганизации);

				// основные настройки для открытия отчета-расшифровки
				ОсновныеНастройкиОтчета = ОсновныеНастройкиОтчета(СтрокаОрганизации.Организация, КонтекстЗаполненияОтчета);

				ОбщаяСуммаНачисленийПроценты = 0;
				ОбщаяСуммаСписанийНаДоходы = 0;
				
				// Счета
				Для Каждого СтрокаСчет Из МассивСчета Цикл
					
					Отбор = Новый Структура("ДолгосрочнаяЗадолженность, Организация, СчетРасчетов", ДолгосрочнаяЗадолженность, СтрокаОрганизации.Организация, СтрокаСчет.Счет);
					
					// Счета расчетов
					МассивРасчеты = ТаблицыРасчета.Расчеты.НайтиСтроки(Отбор);
					
					Если Не ЗначениеЗаполнено(МассивРасчеты) Тогда
						Продолжить;
					КонецЕсли;
					ИмяНабора = СтрокаСчет.ИмяНабора;
					
					ОтчетСчетаРасчетов = НастройкиОСВПоСчетуРасчета(ОсновныеНастройкиОтчета, СтрокаСчет, КонтекстРаздела);
					
					Для Каждого СтрокаТаблицы Из МассивРасчеты Цикл
						
						ПараметрыТекстовРасшифровки.Вставить("Счет", Строка(СтрокаТаблицы.СчетРасчетов));
						
						// НачалоНоминал
						ИмяКолонки = "НачалоНоминал";
						Значение = СтрокаТаблицы.СНК;
						Описание = ОписаниеСлагаемогоИзШаблона(ИмяНабора, ШаблоныРасшифровкиОбщие, ИмяКолонки, ПараметрыТекстовРасшифровки, "Слагаемое");
						ЗаполнениеБухгалтерскойОтчетностиТабличное.ДобавитьСлагаемое(НаличиеДвижение, ИмяКолонки, Описание, Значение, , ОтчетСчетаРасчетов);
						
						// ПоступилоНоминал
						ИмяКолонки = "ПоступилоНоминал";
						Значение = СтрокаТаблицы.КО;
						Описание = ОписаниеСлагаемогоИзШаблона(ИмяНабора, ШаблоныРасшифровкиОбщие, ИмяКолонки, ПараметрыТекстовРасшифровки, "Слагаемое");
						ЗаполнениеБухгалтерскойОтчетностиТабличное.ДобавитьСлагаемое(НаличиеДвижение, ИмяКолонки, Описание, Значение, , ОтчетСчетаРасчетов);
						
						Значение = - СтрокаТаблицы.Вычет;
						Если Значение <> 0 Тогда
							Описание = ОписаниеСлагаемогоИзШаблона(ИмяНабора, ШаблоныРасшифровкиОбщие, ИмяКолонки, ПараметрыТекстовРасшифровки, "Вычет");
							ЗаполнениеБухгалтерскойОтчетностиТабличное.ДобавитьСлагаемое(НаличиеДвижение, ИмяКолонки, Описание, Значение, , ОтчетСчетаРасчетов);
						КонецЕсли;
						
						Значение = - СтрокаТаблицы.ИсключенКО;
						Если Значение <> 0 Тогда
							Описание = ОписаниеСлагаемогоИзШаблона(ИмяНабора, ШаблоныРасшифровкиОбщие, ИмяКолонки, ПараметрыТекстовРасшифровки, "ИсключенКО");
							ЗаполнениеБухгалтерскойОтчетностиТабличное.ДобавитьСлагаемое(НаличиеДвижение, ИмяКолонки, Описание, Значение, , ОтчетСчетаРасчетов);
						КонецЕсли;
						
						// СписаноНоминал
						ИмяКолонки = "СписаноНоминал";
						Значение = - СтрокаТаблицы.ДО;
						Описание = ОписаниеСлагаемогоИзШаблона(ИмяНабора, ШаблоныРасшифровкиОбщие, ИмяКолонки, ПараметрыТекстовРасшифровки, "Слагаемое");
						ЗаполнениеБухгалтерскойОтчетностиТабличное.ДобавитьСлагаемое(НаличиеДвижение, ИмяКолонки, Описание, Значение, , ОтчетСчетаРасчетов);
						
						Значение = СтрокаТаблицы.Вычет;
						Если Значение <> 0 Тогда
							Описание = ОписаниеСлагаемогоИзШаблона(ИмяНабора, ШаблоныРасшифровкиОбщие, ИмяКолонки, ПараметрыТекстовРасшифровки, "Вычет");
							ЗаполнениеБухгалтерскойОтчетностиТабличное.ДобавитьСлагаемое(НаличиеДвижение, ИмяКолонки, Описание, Значение, , ОтчетСчетаРасчетов);
						КонецЕсли;
						
						Значение = СтрокаТаблицы.ИсключенДО;
						Если Значение <> 0 Тогда
							Описание = ОписаниеСлагаемогоИзШаблона(ИмяНабора, ШаблоныРасшифровкиОбщие, ИмяКолонки, ПараметрыТекстовРасшифровки, "ИсключенДО");
							ЗаполнениеБухгалтерскойОтчетностиТабличное.ДобавитьСлагаемое(НаличиеДвижение, ИмяКолонки, Описание, Значение, , ОтчетСчетаРасчетов);
						КонецЕсли;
						
						// Переклассифицировано
						ИмяКолонки = "Переклассифицировано";
						Если ДолгосрочнаяЗадолженность Тогда
							Значение = - СтрокаТаблицы.Переклассифицировано;
						Иначе
							Значение = СтрокаТаблицы.Переклассифицировано;
						КонецЕсли;
						Если Значение <> 0 Тогда
							Описание = ОписаниеСлагаемогоИзШаблона(ИмяНабора, ШаблоныРасшифровкиОбщие, ИмяКолонки, ПараметрыТекстовРасшифровки, "Слагаемое");
							ЗаполнениеБухгалтерскойОтчетностиТабличное.ДобавитьСлагаемое(НаличиеДвижение, ИмяКолонки, Описание, Значение, , ОтчетСчетаРасчетов);
						КонецЕсли;
						
						// КонецНоминал
						ИмяКолонки = "КонецНоминал";
						Значение = СтрокаТаблицы.СКК;
						Описание = ОписаниеСлагаемогоИзШаблона(ИмяНабора, ШаблоныРасшифровкиОбщие, ИмяКолонки, ПараметрыТекстовРасшифровки, "Слагаемое");
						ЗаполнениеБухгалтерскойОтчетностиТабличное.ДобавитьСлагаемое(НаличиеДвижение, ИмяКолонки, Описание, Значение, , ОтчетСчетаРасчетов);
						
						Если ВывестиПросроченную И (СтрокаТаблицы.НачалоПросроченная <> 0 Или СтрокаТаблицы.КонецПросроченная <> 0) Тогда
							
							ЗаполнениеБухгалтерскойОтчетностиТабличное.ДобавитьСлагаемое(
								КредиторскаяЗадолженностьПросроченная,
								"НачалоНоминальнаяВеличина",
								Описание,
								СтрокаТаблицы.НачалоПросроченная);
							
							ЗаполнениеБухгалтерскойОтчетностиТабличное.ДобавитьСлагаемое(
								КредиторскаяЗадолженностьПросроченная,
								"КонецНоминальнаяВеличина",
								Описание,
								СтрокаТаблицы.КонецПросроченная);
								
						КонецЕсли;
						
					КонецЦикла;
				
					// НДС авансов
					МассивНДСАвансов = ТаблицыРасчета.НДСАвансов.НайтиСтроки(Отбор);
					Для Каждого СтрокаНДС Из МассивНДСАвансов Цикл
						ДобавитьСлагаемыеНДСАвансовКредиторская(НаличиеДвижение, СтрокаНДС, ОсновныеНастройкиОтчета, ПараметрыТекстовРасшифровки);
					КонецЦикла;
					
					// ПоступилоПроценты
					МассивПроцентыШтрафы = ТаблицыРасчета.ПроцентыШтрафы.НайтиСтроки(Отбор);
					ИмяКолонки = "ПоступилоПроценты";
					Для Каждого СтрокаТаблицы Из МассивПроцентыШтрафы Цикл
						ОтчетСчета = НастройкиАнализСчетаПоВидуПДР(ОсновныеНастройкиОтчета, СтрокаТаблицы.СчетРасходов, СтрокаТаблицы.СчетРасчетов, КонтекстРаздела.ВидПДРНачисление);
						Описание = ОписаниеСлагаемогоИзШаблона(ИмяНабора, ШаблоныРасшифровкиОбщие, ИмяКолонки, ПараметрыТекстовРасшифровки, "Слагаемое");
						Значение = СтрокаТаблицы.СуммаНачислений;
						ОбщаяСуммаНачисленийПроценты = ОбщаяСуммаНачисленийПроценты + Значение;
						ЗаполнениеБухгалтерскойОтчетностиТабличное.ДобавитьСлагаемое(НаличиеДвижение, ИмяКолонки, Описание, Значение, , ОтчетСчета);
					КонецЦикла;
					
					// СписаноНаДоходы
					МассивСписано = ТаблицыРасчета.Списано.НайтиСтроки(Отбор);
					ИмяКолонки = "СписаноНаДоходы";
					Для Каждого СтрокаТаблицы Из МассивСписано Цикл
						ОтчетСчета = НастройкиАнализСчетаПоВидуПДР(ОсновныеНастройкиОтчета, СтрокаТаблицы.СчетДоходов, СтрокаТаблицы.СчетРасчетов, КонтекстРаздела.ВидПДРСписание);
						Описание = ОписаниеСлагаемогоИзШаблона(ИмяНабора, ШаблоныРасшифровкиОбщие, ИмяКолонки, ПараметрыТекстовРасшифровки, "Слагаемое");
						Значение = - СтрокаТаблицы.СуммаСписаний;
						ОбщаяСуммаСписанийНаДоходы = ОбщаяСуммаСписанийНаДоходы + Значение;
						ЗаполнениеБухгалтерскойОтчетностиТабличное.ДобавитьСлагаемое(НаличиеДвижение, ИмяКолонки, Описание, Значение, , ОтчетСчета);
					КонецЦикла;
					
				КонецЦикла;
				
				// Суммы НДС авансов, по которым не найдены объекты учета, отражаются в группе с флагом "ОтразитьНДСАвансовБезОбъектовУчета"
				Если СтрокаГруппы.ОтразитьНДСАвансовБезОбъектовУчета Тогда
					СчетРасчетов = ПланыСчетов.Хозрасчетный.ПустаяСсылка();
					ОтборНДС = Новый Структура("ДолгосрочнаяЗадолженность, Организация, СчетРасчетов", ДолгосрочнаяЗадолженность, СтрокаОрганизации.Организация, СчетРасчетов);
					МассивНДСАвансов = ТаблицыРасчета.НДСАвансов.НайтиСтроки(ОтборНДС);
					Для Каждого СтрокаНДС Из МассивНДСАвансов Цикл
						ДобавитьСлагаемыеНДСАвансовКредиторская(НаличиеДвижение, СтрокаНДС, ОсновныеНастройкиОтчета, ПараметрыТекстовРасшифровки, Истина);
					КонецЦикла;
				КонецЕсли;
				
				// Проценты по рассрочке, отражаются в группе с флагом "ОтразитьПроцентыПоРассрочке"
				Если СтрокаГруппы.ОтразитьПроцентыПоРассрочке Тогда
					ОтборПроценты = Новый Структура("ДолгосрочнаяЗадолженность, Организация", ДолгосрочнаяЗадолженность, СтрокаОрганизации.Организация);
					МассивПроцентыПоРассрочке = ТаблицыРасчета.ПроцентыПоРассрочке.НайтиСтроки(ОтборПроценты);
					Для Каждого СтрокаПроценты Из МассивПроцентыПоРассрочке Цикл
						ДобавитьСлагаемыеПроцентыПоРассрочке(НаличиеДвижение, СтрокаПроценты, ОсновныеНастройкиОтчета, ПараметрыТекстовРасшифровки);
					КонецЦикла;
				КонецЕсли;
				
				// Вычет ПоступилоНоминал
				ИмяКолонки = "ПоступилоНоминал";
				Значение = - ОбщаяСуммаНачисленийПроценты;
				Если Значение <> 0 Тогда
					ОтчетСчета = НастройкиАнализСчетаПоВидуПДР(ОсновныеНастройкиОтчета, ПланыСчетов.Хозрасчетный.ПрочиеРасходы, СчетаГруппыРаздела.Счета, КонтекстРаздела.ВидПДРНачисление);
					Описание = НСтр("ru = 'За вычетом: Сумма из графы ""Проценты, штрафы и иные начисления""';
									|en = 'Minus: amount from the ""Interest, fines and other charges"" column'");
					ЗаполнениеБухгалтерскойОтчетностиТабличное.ДобавитьСлагаемое(НаличиеДвижение, ИмяКолонки, Описание, Значение, , ОтчетСчета);
				КонецЕсли;
				
				// Вычет СписаноНоминал
				ИмяКолонки = "СписаноНоминал";
				Значение = - ОбщаяСуммаСписанийНаДоходы;
				Если Значение <> 0 Тогда
					ОтчетСчета = НастройкиАнализСчетаПоВидуПДР(ОсновныеНастройкиОтчета, ПланыСчетов.Хозрасчетный.ПрочиеДоходы, СчетаГруппыРаздела.Счета, КонтекстРаздела.ВидПДРСписание);
					Описание = НСтр("ru = 'За вычетом: Сумма из графы ""Списано на доходы""';
									|en = 'Minus: amount from the ""Write off as income"" column'");
					ЗаполнениеБухгалтерскойОтчетностиТабличное.ДобавитьСлагаемое(НаличиеДвижение, ИмяКолонки, Описание, Значение, , ОтчетСчета);
				КонецЕсли;
				
			КонецЦикла;
			ЗаполнениеБухгалтерскойОтчетностиТабличное.ЗакончитьДобавлениеСтрокиТаблицыОтчета(НаличиеДвижение, ШаблоныЗаголовков);
			Если ВывестиПросроченную Тогда
				ЗаполнениеБухгалтерскойОтчетностиТабличное.ЗакончитьДобавлениеСтрокиТаблицыОтчета(
					КредиторскаяЗадолженностьПросроченная,
					ШаблоныЗаголовковПросроченная);
			КонецЕсли;
		КонецЦикла;
	КонецЦикла;
	
КонецПроцедуры

Процедура ДобавитьСлагаемыеНДСАвансовКредиторская(ВыводТаблицы, СтрокаНДС, ОсновныеНастройкиОтчета, ПараметрыТекстов, БезОбъектовУчета = Ложь)

	ОтчетСчета= НастройкиОСВПоСчету(ОсновныеНастройкиОтчета, СтрокаНДС.Счет);

	ПараметрыТекстов.Вставить("СчетНДСАвансов", Строка(СтрокаНДС.Счет));
	
	ИмяКолонки = "НачалоНоминал";
	Значение = - СтрокаНДС.СНД;
	Если Значение <> 0 Тогда
		ШаблонОписания = НСтр("ru = 'Вычет НДС: дебетовое сальдо по счету [СчетНДСАвансов] по объектам, учитываемым на счете [Счет]';
								|en = 'VAT deduction: debit balance on account [СчетНДСАвансов] for objects recorded on account [Счет]'");
		Если БезОбъектовУчета Тогда
			ШаблонОписания = НСтр("ru = 'Вычет НДС: дебетовое сальдо по счету [СчетНДСАвансов], уменьшенное на величины, выделенные по объектам учета';
									|en = 'VAT deduction: debit balance on account [СчетНДСАвансов], reduced by the amounts allocated by accounting objects'");
		КонецЕсли;
		Описание = СтроковыеФункцииКлиентСервер.ВставитьПараметрыВСтроку(ШаблонОписания, ПараметрыТекстов);
		ЗаполнениеБухгалтерскойОтчетностиТабличное.ДобавитьСлагаемое(ВыводТаблицы, ИмяКолонки, Описание, Значение, , ОтчетСчета);
	КонецЕсли;
	
	ИмяКолонки = "ПоступилоНоминал";
	Значение = - СтрокаНДС.ДО;
	Если Значение <> 0 Тогда
		ШаблонОписания = НСтр("ru = 'Вычет НДС: дебетовый оборот по счету [СчетНДСАвансов] по объектам, учитываемым на счете [Счет]';
								|en = 'VAT deduction: debit turnover on account [СчетНДСАвансов] for objects recorded on account [Счет]'");
		Если БезОбъектовУчета Тогда
			ШаблонОписания = НСтр("ru = 'Вычет НДС: дебетовый оборот по счету [СчетНДСАвансов], уменьшенный на величины, выделенные по объектам учета';
									|en = 'VAT deduction: debit turnover on account [СчетНДСАвансов], reduced by the amounts allocated by accounting objects'");
		КонецЕсли;
		Описание = СтроковыеФункцииКлиентСервер.ВставитьПараметрыВСтроку(ШаблонОписания, ПараметрыТекстов);
		ЗаполнениеБухгалтерскойОтчетностиТабличное.ДобавитьСлагаемое(ВыводТаблицы, ИмяКолонки, Описание, Значение, , ОтчетСчета);
	КонецЕсли;
	Значение = СтрокаНДС.Вычет;
	Если Значение <> 0 Тогда
		ШаблонОписания = НСтр("ru = 'Исключен дебетовый оборот по счету [СчетНДСАвансов] в пределах кредитового оборота по объектам, учитываемым на счете [Счет]';
								|en = 'Debit turnover on account [СчетНДСАвансов] is excluded within the credit turnover for objects recorded on account [Счет]'");
		Если БезОбъектовУчета Тогда
			ШаблонОписания = НСтр("ru = 'Исключен дебетовый оборот по счету [СчетНДСАвансов], уменьшенный на величины, выделенные по объектам учета, в пределах кредитового оборота';
									|en = 'Debit turnover on account [СчетНДСАвансов] is excluded, reduced by the amounts allocated by accounting objects within the credit turnover'");
		КонецЕсли;
		Описание = СтроковыеФункцииКлиентСервер.ВставитьПараметрыВСтроку(ШаблонОписания, ПараметрыТекстов);
		ЗаполнениеБухгалтерскойОтчетностиТабличное.ДобавитьСлагаемое(ВыводТаблицы, ИмяКолонки, Описание, Значение, , ОтчетСчета);
	КонецЕсли;
	
	ИмяКолонки = "СписаноНоминал";
	Значение = СтрокаНДС.КО;
	Если Значение <> 0 Тогда
		ШаблонОписания = НСтр("ru = 'Вычет НДС: кредитовый оборот по счету [СчетНДСАвансов] по объектам, учитываемым на счете [Счет]';
								|en = 'VAT deduction: credit turnover on account [СчетНДСАвансов] for objects recorded on account [Счет]'");
		Если БезОбъектовУчета Тогда
			ШаблонОписания = НСтр("ru = 'Вычет НДС: кредитовый оборот по счету [СчетНДСАвансов], уменьшенный на величины, выделенные по объектам учета';
									|en = 'VAT deduction: credit turnover on account [СчетНДСАвансов], reduced by the amounts allocated by accounting objects'");
		КонецЕсли;
		Описание = СтроковыеФункцииКлиентСервер.ВставитьПараметрыВСтроку(ШаблонОписания, ПараметрыТекстов);
		ЗаполнениеБухгалтерскойОтчетностиТабличное.ДобавитьСлагаемое(ВыводТаблицы, ИмяКолонки, Описание, Значение, , ОтчетСчета);
	КонецЕсли;
	Значение = - СтрокаНДС.Вычет;
	Если Значение <> 0 Тогда
		ШаблонОписания = НСтр("ru = 'Исключен кредитовый оборот по счету [СчетНДСАвансов] в пределах дебетового оборота по объектам, учитываемым на счете [Счет]';
								|en = 'Credit turnover on account [СчетНДСАвансов] is excluded within the debit turnover for objects recorded on account [Счет]'");
		Если БезОбъектовУчета Тогда
			ШаблонОписания = НСтр("ru = 'Исключен кредитовый оборот по счету [СчетНДСАвансов], уменьшенный на величины, выделенные по объектам учета, в пределах дебетового оборота';
									|en = 'Credit turnover on account [СчетНДСАвансов] is excluded, reduced by the amounts allocated by accounting objects within the debit turnover'");
		КонецЕсли;
		Описание = СтроковыеФункцииКлиентСервер.ВставитьПараметрыВСтроку(ШаблонОписания, ПараметрыТекстов);
		ЗаполнениеБухгалтерскойОтчетностиТабличное.ДобавитьСлагаемое(ВыводТаблицы, ИмяКолонки, Описание, Значение, , ОтчетСчета);
	КонецЕсли;
	
	ИмяКолонки = "КонецНоминал";
	Значение = - СтрокаНДС.СКД;
	Если Значение <> 0 Тогда
		ИмяКолонки = "КонецНоминал";
		ШаблонОписания = НСтр("ru = 'Вычет НДС: дебетовое сальдо по счету [СчетНДСАвансов] по объектам, учитываемым на счете [Счет]';
								|en = 'VAT deduction: debit balance on account [СчетНДСАвансов] for objects recorded on account [Счет]'");
		Если БезОбъектовУчета Тогда
			ШаблонОписания = НСтр("ru = 'Вычет НДС: дебетовое сальдо по счету [СчетНДСАвансов], уменьшенное на величины, выделенные по объектам учета';
									|en = 'VAT deduction: debit balance on account [СчетНДСАвансов], reduced by the amounts allocated by accounting objects'");
		КонецЕсли;
		Описание = СтроковыеФункцииКлиентСервер.ВставитьПараметрыВСтроку(ШаблонОписания, ПараметрыТекстов);
		ЗаполнениеБухгалтерскойОтчетностиТабличное.ДобавитьСлагаемое(ВыводТаблицы, ИмяКолонки, Описание, Значение, , ОтчетСчета);
	КонецЕсли;

КонецПроцедуры

Процедура ДобавитьСлагаемыеПроцентыПоРассрочке(ВыводТаблицы, СтрокаПроценты, ОсновныеНастройкиОтчета, ПараметрыТекстов)

	ОтчетСчета= НастройкиОСВПоСчету(ОсновныеНастройкиОтчета, СтрокаПроценты.Счет);
	
	ПараметрыТекстов.Вставить("СчетПроцентовПоРассрочке", Строка(СтрокаПроценты.Счет));
	
	ИмяКолонки = "НачалоНоминал";
	Значение = - СтрокаПроценты.СНД;
	Если Значение <> 0 Тогда
		ШаблонОписания = НСтр("ru = 'Вычет: дебетовое сальдо по счету [СчетПроцентовПоРассрочке]';
								|en = 'Deduction: debit balance on account [СчетПроцентовПоРассрочке]'");
		Описание = СтроковыеФункцииКлиентСервер.ВставитьПараметрыВСтроку(ШаблонОписания, ПараметрыТекстов);
		ЗаполнениеБухгалтерскойОтчетностиТабличное.ДобавитьСлагаемое(ВыводТаблицы, ИмяКолонки, Описание, Значение, , ОтчетСчета);
	КонецЕсли;
	
	ИмяКолонки = "ПоступилоНоминал";
	Значение = - СтрокаПроценты.ДО;
	Если Значение <> 0 Тогда
		ШаблонОписания = НСтр("ru = 'Вычет: дебетовый оборот по счету [СчетПроцентовПоРассрочке]';
								|en = 'Deduction: debit turnover on account [СчетПроцентовПоРассрочке]'");
		Описание = СтроковыеФункцииКлиентСервер.ВставитьПараметрыВСтроку(ШаблонОписания, ПараметрыТекстов);
		ЗаполнениеБухгалтерскойОтчетностиТабличное.ДобавитьСлагаемое(ВыводТаблицы, ИмяКолонки, Описание, Значение, , ОтчетСчета);
	КонецЕсли;
	Значение = СтрокаПроценты.Вычет;
	Если Значение <> 0 Тогда
		ШаблонОписания = НСтр("ru = 'Исключен дебетовый оборот по счету [СчетПроцентовПоРассрочке] в пределах кредитового оборота';
								|en = 'Debit turnover on account [СчетПроцентовПоРассрочке] is excluded within the credit turnover'");
		Описание = СтроковыеФункцииКлиентСервер.ВставитьПараметрыВСтроку(ШаблонОписания, ПараметрыТекстов);
		ЗаполнениеБухгалтерскойОтчетностиТабличное.ДобавитьСлагаемое(ВыводТаблицы, ИмяКолонки, Описание, Значение, , ОтчетСчета);
	КонецЕсли;
	
	ИмяКолонки = "СписаноНоминал";
	Значение = СтрокаПроценты.КО;
	Если Значение <> 0 Тогда
		ШаблонОписания = НСтр("ru = 'Вычет: кредитовый оборот по счету [СчетПроцентовПоРассрочке]';
								|en = 'Deduction: credit turnover on account [СчетПроцентовПоРассрочке]'");
		Описание = СтроковыеФункцииКлиентСервер.ВставитьПараметрыВСтроку(ШаблонОписания, ПараметрыТекстов);
		ЗаполнениеБухгалтерскойОтчетностиТабличное.ДобавитьСлагаемое(ВыводТаблицы, ИмяКолонки, Описание, Значение, , ОтчетСчета);
	КонецЕсли;
	Значение = - СтрокаПроценты.Вычет;
	Если Значение <> 0 Тогда
		ШаблонОписания = НСтр("ru = 'Исключен кредитовый оборот по счету [СчетПроцентовПоРассрочке] в пределах дебетового оборота';
								|en = 'Credit turnover on account [СчетПроцентовПоРассрочке] is excluded within the debit turnover'");
		Описание = СтроковыеФункцииКлиентСервер.ВставитьПараметрыВСтроку(ШаблонОписания, ПараметрыТекстов);
		ЗаполнениеБухгалтерскойОтчетностиТабличное.ДобавитьСлагаемое(ВыводТаблицы, ИмяКолонки, Описание, Значение, , ОтчетСчета);
	КонецЕсли;
	
	ИмяКолонки = "КонецНоминал";
	Значение = - СтрокаПроценты.СКД;
	Если Значение <> 0 Тогда
		ИмяКолонки = "КонецНоминал";
		ШаблонОписания = НСтр("ru = 'Вычет: дебетовое сальдо по счету [СчетПроцентовПоРассрочке]';
								|en = 'Deduction: debit balance on account [СчетПроцентовПоРассрочке]'");
		Описание = СтроковыеФункцииКлиентСервер.ВставитьПараметрыВСтроку(ШаблонОписания, ПараметрыТекстов);
		ЗаполнениеБухгалтерскойОтчетностиТабличное.ДобавитьСлагаемое(ВыводТаблицы, ИмяКолонки, Описание, Значение, , ОтчетСчета);
	КонецЕсли;

КонецПроцедуры

Функция НовыйТаблицыРасчетаКредиторская()
	
	ТаблицыРасчета = Новый Структура;  // ключ - имя таблицы, значение - ТаблицаЗначений
	ТаблицыРасчета.Вставить("Группы");
	ТаблицыРасчета.Вставить("Организации");
	ТаблицыРасчета.Вставить("Счета");
	ТаблицыРасчета.Вставить("Расчеты");
	ТаблицыРасчета.Вставить("НДСАвансов");
	ТаблицыРасчета.Вставить("РасчетыПоАренде");
	ТаблицыРасчета.Вставить("ПроцентыПоРассрочке");
	ТаблицыРасчета.Вставить("Списано");
	ТаблицыРасчета.Вставить("ПроцентыШтрафы");
	
	Возврат ТаблицыРасчета;
	
КонецФункции

Функция ТаблицыРасчетаКредиторская(КонтекстЗаполненияОтчета, КонтекстРаздела)
	
	ТаблицыРасчета = НовыйТаблицыРасчетаКредиторская();

	СписокВидовСубконто = СписокВидовСубконто();
	
	// Наборы счетов
	Отбор = Новый Структура("ОтражатьВКредиторской", Истина);
	НаборыСчетов = НаборыСчетов(КонтекстРаздела, СписокВидовСубконто).Скопировать(Отбор);
	
	// Группы и счета
	Группы = НовыйГруппы();
	ТаблицаСчетов = НовыйТаблицаСчетов();
	ЗаполнитьГруппыКредиторскойЗадолженности(Группы, ТаблицаСчетов, КонтекстРаздела);
	ТаблицаСчетов.Сортировать("ПорядокСчета");

	ВидыСубконтоСчетов = ВидыСубконтоСчетов(ТаблицаСчетов.ВыгрузитьКолонку("Счет"));
	ВидыСубконтоСчетов.Индексы.Добавить("Счет");
	ОпределитьНаборПоСвойствамСчета(НаборыСчетов, ТаблицаСчетов, ВидыСубконтоСчетов);
	ДополнитьНаборыСчетами(НаборыСчетов, ТаблицаСчетов);
	
	ТаблицыРасчета.Вставить("Группы", Группы);
	ТаблицыРасчета.Вставить("Счета",  ТаблицаСчетов);

	Запрос = Новый Запрос;
	МенеджерВременныхТаблиц = Новый МенеджерВременныхТаблиц;
	Запрос.МенеджерВременныхТаблиц = МенеджерВременныхТаблиц;
	
	Запрос.УстановитьПараметр("Организации",      КонтекстЗаполненияОтчета.Организации);
	Запрос.УстановитьПараметр("НачалоПериода",    НачалоГода(КонтекстЗаполненияОтчета.Период.Начало));
	Запрос.УстановитьПараметр("КонецПериода",     КонтекстЗаполненияОтчета.Период.Конец);
	Запрос.УстановитьПараметр("КонецПериодаДата", КонтекстЗаполненияОтчета.Период.КонецДата);
	Запрос.УстановитьПараметр("СчетаГрупп",       ТаблицаСчетов);
	
	Для Каждого Контекст Из КонтекстРаздела Цикл
		Запрос.УстановитьПараметр(Контекст.Ключ, Контекст.Значение);
	КонецЦикла;
	
	// Добавим ВидыСубконтоСчетов в контекст раздела для последующего поиска представления Субконто
	КонтекстРаздела.Вставить("ВидыСубконтоСчетов", ВидыСубконтоСчетов);
	
	Для Каждого ВидыСубконто Из СписокВидовСубконто Цикл
		Запрос.УстановитьПараметр(ВидыСубконто.Ключ, ВидыСубконто.Значение);
	КонецЦикла;

	СубконтоКонтрагентыСФВыданные = Новый Массив;
	СубконтоКонтрагентыСФВыданные.Добавить(ПланыВидовХарактеристик.ВидыСубконтоХозрасчетные.Контрагенты);
	СубконтоКонтрагентыСФВыданные.Добавить(ПланыВидовХарактеристик.ВидыСубконтоХозрасчетные.СФВыданные);
	Запрос.УстановитьПараметр("СубконтоКонтрагентыСФ", СубконтоКонтрагентыСФВыданные);

	// Наборы содержат имена параметров и массивы счетов, которые передаются в запрос
	СтрокиНаборовСчетов = НаборыСчетов.НайтиСтроки(Новый Структура("ПоСрочности", Истина));
	Для Каждого Набор Из СтрокиНаборовСчетов Цикл
		Запрос.УстановитьПараметр(Набор.ИмяНабора, Набор.СписокСчетов);
	КонецЦикла;
	
	СчетаБезСрочности = Новый Массив;
	СтрокиНаборовСчетов = НаборыСчетов.НайтиСтроки(Новый Структура("ПоСрочности", Ложь));
	Для Каждого Набор Из СтрокиНаборовСчетов Цикл
		Запрос.УстановитьПараметр(Набор.ИмяНабора, Набор.СписокСчетов);
		// Если набор содержит признак "ДополнительныйОтбор", тогда данные по такому набору получаются отдельным пакетом запросов
		Если Не Набор.ДополнительныйОтбор Тогда
			ОбщегоНазначенияКлиентСервер.ДополнитьМассив(СчетаБезСрочности, Набор.СписокСчетов);
		КонецЕсли;
	КонецЦикла;
	Запрос.УстановитьПараметр("СчетаБезСрочности", СчетаБезСрочности);

	// Данные счетов расчетов
	ТекстыЗапросов = Новый Массив;
	ТекстыЗапросов.Добавить(ТекстЗапросаСчетаРасчетовКредиторская(НаборыСчетов, КонтекстРаздела.ВидЗадолженности));
	ТекстыЗапросов.Добавить(ТекстЗапросаСрокиПогашения());
	ТекстыЗапросов.Добавить(ТекстЗапросаРазделениеЗадолженностиКредиторская());

	ТекстЗапроса = СтрСоединить(ТекстыЗапросов, Общегоназначения.РазделительПакетаЗапросов());
	Запрос.Текст = ТекстЗапроса;
	Расчеты = Запрос.Выполнить().Выгрузить();
	Расчеты.Индексы.Добавить("ДолгосрочнаяЗадолженность, Организация, СчетРасчетов");
	ТаблицыРасчета.Вставить("Расчеты", Расчеты);
	
	ОбщегоНазначенияБП.УничтожитьВременныеТаблицы(МенеджерВременныхТаблиц, , "ДанныеРасчетов,ДанныеРасчетовПоСрочности,ВсеАвансы,СчетаГрупп");

	// НДС
	Запрос.Текст = ТекстЗапросаНДСАвансов(Запрос, "СФВыданные", КонтекстРаздела);
	НДСАвансов = Запрос.Выполнить().Выгрузить();
	
	СоответствиеКолонокСРасчетными = Новый Структура;
	СоответствиеКолонокСРасчетными.Вставить("СНД",   "Расчет_СН");
	СоответствиеКолонокСРасчетными.Вставить("ДО",    "Расчет_КО");
	СоответствиеКолонокСРасчетными.Вставить("КО",    "Расчет_ДО");
	СоответствиеКолонокСРасчетными.Вставить("СКД",   "Расчет_СК");
	СоответствиеКолонокСРасчетными.Вставить("Вычет", "Расчет_Вычет");
	
	ПерезаполнитьТаблицуРасчетнымиЗначениями(НДСАвансов, СоответствиеКолонокСРасчетными);
	НДСАвансов.Индексы.Добавить("ДолгосрочнаяЗадолженность, Организация, СчетРасчетов");
	ТаблицыРасчета.Вставить("НДСАвансов", НДСАвансов);
	
	ОбщегоНазначенияБП.УничтожитьВременныеТаблицы(МенеджерВременныхТаблиц, , "ДанныеРасчетов,ДанныеРасчетовПоСрочности,СчетаГрупп");
	
	// Расчеты по аренде
	ТаблицыРасчета.Вставить("РасчетыПоАренде", Новый ТаблицаЗначений); //Расчеты по аренде во встроенной отчетности ERP не поддержаны

	// Проценты по рассрочке
	Запрос.Текст = ТекстЗапросаПроцентыПоРассрочке();
	ПроцентыПоРассрочке = Запрос.Выполнить().Выгрузить();
	ТаблицыРасчета.Вставить("ПроцентыПоРассрочке", ПроцентыПоРассрочке);
	
	ОбщегоНазначенияБП.УничтожитьВременныеТаблицы(МенеджерВременныхТаблиц, , "ДанныеРасчетов,ДанныеРасчетовПоСрочности,СчетаГрупп");

	// Списано на расходы
	Запрос.Текст = ТекстЗапросаСписаниеНаДоходы(НаборыСчетов);
	Списано = Запрос.Выполнить().Выгрузить();
	Списано.Индексы.Добавить("ДолгосрочнаяЗадолженность, Организация, СчетРасчетов");
	ТаблицыРасчета.Вставить("Списано", Списано);
	
	ОбщегоНазначенияБП.УничтожитьВременныеТаблицы(МенеджерВременныхТаблиц, , "ДанныеРасчетов,ДанныеРасчетовПоСрочности,СчетаГрупп");

	//Начисление штрафов, процентов и иных начислений
	Запрос.Текст = ТекстЗапросаНачислениеПроцентовШтрафовКредиторская(НаборыСчетов);
	ПроцентыШтрафы = Запрос.Выполнить().Выгрузить();
	ПроцентыШтрафы.Индексы.Добавить("ДолгосрочнаяЗадолженность, Организация, СчетРасчетов");
	ТаблицыРасчета.Вставить("ПроцентыШтрафы", ПроцентыШтрафы);
	
	ОбщегоНазначенияБП.УничтожитьВременныеТаблицы(МенеджерВременныхТаблиц);

	// Организации
	Запрос.Текст = ТекстЗапросаОрганизации();
	ТаблицаОрганизации = Запрос.Выполнить().Выгрузить();
	ТаблицыРасчета.Вставить("Организации", ТаблицаОрганизации);

	Возврат ТаблицыРасчета;
	
КонецФункции

Функция КонтекстРазделаКредиторская(КонтекстЗаполненияОтчета)
	
	СчетаНДСАвансов = Новый Массив;
	СчетаНДСАвансов.Добавить(ПланыСчетов.Хозрасчетный.НДСпоАвансамИПредоплатам);

	КонтекстРаздела = Новый Структура;
	КонтекстРаздела.Вставить("ВидЗадолженности", "КредиторскаяЗадолженность");
	КонтекстРаздела.Вставить("СчетаДоходов",  БухгалтерскийУчетПовтИсп.СчетаВИерархии(ПланыСчетов.Хозрасчетный.ПрочиеДоходы));
	КонтекстРаздела.Вставить("СчетаРасходов", БухгалтерскийУчетПовтИсп.СчетаВИерархии(ПланыСчетов.Хозрасчетный.ПрочиеРасходы));
	КонтекстРаздела.Вставить("СчетаАвансов",  СчетаУчетаАвансовПолученных(КонтекстРаздела.ВидЗадолженности));
	КонтекстРаздела.Вставить("СчетаНДСАвансов", СчетаНДСАвансов);
	КонтекстРаздела.Вставить("СчетаОбъектовПоРассрочке", СчетаОбъектовПоРассрочке(КонтекстРаздела.ВидЗадолженности));
	КонтекстРаздела.Вставить("СчетаПроцентовПоРассрочке", ЗаполнениеБухгалтерскойОтчетностиПереопределяемый.СчетаПроцентовПоРассрочке());
	КонтекстРаздела.Вставить("ВидПДРНачисление", Перечисления.ВидыПрочихДоходовИРасходов.ШтрафыПениНеустойкиКПолучениюУплате);
	КонтекстРаздела.Вставить("ВидПДРСписание", Перечисления.ВидыПрочихДоходовИРасходов.СписаниеДебиторскойКредиторскойЗадолженности);
	
	ДополнитьКонтекстРаздела(КонтекстРаздела, КонтекстЗаполненияОтчета);
	
	Возврат КонтекстРаздела;
	
КонецФункции

Функция ШаблоныРасшифровкиКредиторскаяЗадолженностьНаличиеДвижение(КонтекстРаздела)
	
	Шаблоны = Новый Соответствие;
	
#Область НачалоНоминал
	ИмяКолонки = "НачалоНоминал";
	ШаблоныЗаголовки = НовыйШаблонРасшифровки();
	ШаблоныЗаголовки.ЗаголовокГруппы = 
		НСтр("ru = '[НаименованиеГруппы]: по условиям договора на [НачалоПериода]';
			|en = '[НаименованиеГруппы]: according to the contract terms as of [НачалоПериода]'");
		
	ШаблоныЗаголовки.ПорядокРасчета.Общий.Основной = 
		НСтр("ru = 'Сальдо по кредиту [СчетаРасчетов].';
			|en = '[СчетаРасчетов] credit balance.'");
		
	ШаблоныЗаголовки.ПорядокРасчета.Общий.АПСчета = 
		НСтр("ru = 'Развернутое сальдо по кредиту [СчетаРасчетов].';
			|en = 'Detailed [СчетаРасчетов] credit balance.'");
		
	ШаблоныЗаголовки.ПорядокРасчета.Общий.СмешанныеВидыСчетов =
		НСтр("ru = 'Сальдо по кредиту [СчетаРасчетовП], развернутое сальдо по кредиту [СчетаРасчетовАП].';
			|en = '[СчетаРасчетовП] credit balance, detailed [СчетаРасчетовАП] credit balance.'");
				
	ШаблоныЗаголовки.ПорядокРасчета.Долгосрочная.Основной = 
		НСтр("ru = 'Сальдо по кредиту [СчетаРасчетов].
			|Включаются суммы со сроком погашения задолженности не ранее [СрокПогашенияНачало] Срок погашения может быть указан в документе расчета. Если не указан - определяется исходя из даты документа и срока оплаты, указанного в договоре или настройках учета.';
			|en = '[СчетаРасчетов] credit balance.
			|Includes amounts with a repayment period not earlier than [СрокПогашенияНачало]. The repayment period can be specified in the AR/AP document. If not specified, it is determined based on the document date and the payment due date specified in the contract or accounting settings.'");
	
	ШаблоныЗаголовки.ПорядокРасчета.Долгосрочная.АПСчета =
		НСтр("ru = 'Развернутое сальдо по кредиту [СчетаРасчетов]. Развернутое сальдо означает, что исключается дебетовое сальдо по отдельным значениям аналитики.
			|Включаются суммы со сроком оплаты [СрокПогашенияНачало] или позже. Срок оплаты указывается в договоре в виде даты платежа.';
			|en = 'Detailed [СчетаРасчетов] credit balance. The detailed balance means that the debit balance of individual dimension values is excluded.
			|Includes amounts whose payment due date is [СрокПогашенияНачало] or later. The payment due date is specified in the contract as a payment date.'");
		
	ШаблоныЗаголовки.ПорядокРасчета.Долгосрочная.СмешанныеВидыСчетов =
		НСтр("ru = 'Сальдо по кредиту [СчетаРасчетовП], развернутое сальдо по кредиту [СчетаРасчетовАП]. Развернутое сальдо означает, что исключается дебетовое сальдо по отдельным значениям аналитики.
			|Включаются суммы со сроком оплаты [СрокПогашенияНачало] или позже. Срок оплаты указывается в договоре в виде даты платежа.';
			|en = '[СчетаРасчетовП] credit balance, detailed [СчетаРасчетовАП] credit balance. The detailed balance means that the debit balance of individual dimension values is excluded.
			|Includes amounts whose payment due date is [СрокПогашенияНачало] or later. The payment due date is specified in the contract as a payment date.'");
			
	ШаблонАренда = НСтр("ru = 'Отрицательное сальдо по [СчетуАренды] за вычетом относящегося к нему НДС (сальдо по кредиту [СчетаНДСАвансовВыданных]). Включаются суммы со сроком действия договора не ранее [СрокПогашенияНачало]
			|Расчет выполняется отдельно по каждому договору аренды (лизинга)[СуммарноПоФилиалам].';
			|en = 'Negative balance on [СчетуАренды] minus VAT related to it ([СчетаНДСАвансовВыданных] credit balance). Includes amounts with contract expiration date not earlier than [СрокПогашенияНачало].
			|The calculation is performed separately for each rental (financial lease) contract[СуммарноПоФилиалам].'");

	ШаблоныЗаголовки.ПорядокРасчета.Долгосрочная.Аренда = ШаблонАренда;

	ШаблоныЗаголовки.ПорядокРасчета.Краткосрочная.Основной = 
		НСтр("ru = 'Сальдо по кредиту [СчетаРасчетов].
			|Включаются суммы со сроком погашения задолженности ранее [СрокПогашенияНачало] Срок погашения может быть указан в документе расчета. Если не указан - определяется исходя из даты документа и срока оплаты, указанного в договоре или настройках учета.';
			|en = '[СчетаРасчетов] credit balance.
			|Includes amounts with a repayment period earlier than [СрокПогашенияНачало]. The repayment period can be specified in the AR/AP document. If not specified, it is determined based on the document date and the payment due date specified in the contract or accounting settings.'");

	ШаблоныЗаголовки.ПорядокРасчета.Краткосрочная.АПСчета = 
		НСтр("ru = 'Развернутое сальдо по кредиту [СчетаРасчетов]. Развернутое сальдо означает, что исключается дебетовое сальдо по отдельным значениям аналитики.
			|Включаются суммы со сроком оплаты ранее [СрокПогашенияНачало] Срок оплаты указывается в договоре в виде даты платежа.';
			|en = 'Detailed [СчетаРасчетов] credit balance. The detailed balance means that the debit balance of individual dimension values is excluded.
			|Includes amounts whose payment due date is earlier than [СрокПогашенияНачало]. The payment due date is specified in the contract as a payment date.'");
			
	ШаблоныЗаголовки.ПорядокРасчета.Краткосрочная.СмешанныеВидыСчетов =
		НСтр("ru = 'Сальдо по кредиту [СчетаРасчетовП], развернутое сальдо по кредиту [СчетаРасчетовАП]. Развернутое сальдо означает, что исключается дебетовое сальдо по отдельным значениям аналитики.
			|Включаются суммы со сроком оплаты ранее [СрокПогашенияНачало] Срок оплаты указывается в договоре в виде даты платежа.';
			|en = '[СчетаРасчетовП] credit balance, detailed [СчетаРасчетовАП] credit balance. The detailed balance means that the debit balance of individual dimension values is excluded.
			|Includes amounts whose payment due date is earlier than [СрокПогашенияНачало]. The payment due date is specified in the contract as a payment date.'");
			
	ШаблоныЗаголовки.ПорядокРасчета.Краткосрочная.Аренда =
		НСтр("ru = 'Отрицательное сальдо по [СчетуАренды] за вычетом относящегося к нему НДС (сальдо по кредиту счета [СчетаНДСАвансовВыданных]), уменьшенное на долгосрочное обязательство по аренде.
			|Расчет выполняется отдельно по каждому договору аренды (лизинга)[СуммарноПоФилиалам].';
			|en = 'Negative balance on [СчетуАренды] minus VAT related to it ([СчетаНДСАвансовВыданных] credit balance) minus long-term rental liability.
			|The calculation is performed separately for each rental (financial lease) contract[СуммарноПоФилиалам].'");

	ДобавитьШаблоныРасшифровкиСоставляющих(КонтекстРаздела, ШаблоныЗаголовки.Составляющие, ИмяКолонки);
	
	Шаблоны.Вставить(ИмяКолонки, ШаблоныЗаголовки);
	
#КонецОбласти

#Область ПоступилоНоминал
	ИмяКолонки = "ПоступилоНоминал";
	ШаблоныЗаголовки = НовыйШаблонРасшифровки();
	ШаблоныЗаголовки.ЗаголовокГруппы = 
		НСтр("ru = '[НаименованиеГруппы]: поступило за [Период] - в результате фактов хозяйственной жизни (по условиям договора)';
			|en = '[НаименованиеГруппы]: received for [Период] as a result of business transaction items (under the contract terms)'"); 

	ШаблоныЗаголовки.ПорядокРасчета.Общий.Основной = 
		НСтр("ru = 'Оборот по кредиту [СчетаРасчетов] (кроме задолженности, поступившей и погашенной в течение отчетного периода).
			|Задолженность, поступившая и погашенная в течение периода, определяется по каждому объекту расчетов как наименьшая величина из дебетового и кредитового оборота.
			|Не включает суммы процентов, штрафов и иных начислений.';
			|en = '[СчетаРасчетов] credit turnover (except for the debt received and repaid during the accounting period).
			|The debt received and repaid during the period is determined for each AR/AP object as the smallest amount of debit and credit turnover.
			|It does not include the amounts of interest, fines, and other charges.'");
		
	ШаблоныЗаголовки.ПорядокРасчета.Общий.АПСчета = 
		НСтр("ru = 'Оборот по кредиту [СчетаРасчетов] (кроме задолженности, поступившей и погашенной в течение отчетного периода).
			|Задолженность, поступившая и погашенная в течение периода, определяется по каждому объекту расчетов как наименьшая величина из дебетового и кредитового оборота.
			|По активно-пассивным счетам может быть отражена как Дебиторская задолженность, так и Обязательства. Поэтому по каждому объекту расчетов исключается оборот, связанный с дебетовым сальдо.
			|Также не включает суммы процентов, штрафов и иных начислений.';
			|en = '[СчетаРасчетов] credit turnover (except for the debt received and repaid during the accounting period).
			|The debt received and repaid during the period is determined for each AR/AP object as the smallest amount of debit and credit turnover.
			|Both Accounts receivable and Liabilities can be recorded on Dr/Cr accounts. So, for each AR/AP object, the turnover related to the debit balance is excluded.
			|It also does not include the amounts of interest, fines, and other charges.'");
			
	ШаблоныЗаголовки.ПорядокРасчета.Общий.СмешанныеВидыСчетов = 
		НСтр("ru = 'Оборот по кредиту [СчетаРасчетов] (кроме задолженности, поступившей и погашенной в течение отчетного периода).
			|Задолженность, поступившая и погашенная в течение периода, определяется по каждому объекту расчетов как наименьшая величина из дебетового и кредитового оборота.
			|По активно-пассивным счетам может быть отражена как Дебиторская задолженность, так и Обязательства. Поэтому по каждому объекту расчетов исключается оборот, связанный с дебетовым сальдо.
			|Также не включает суммы процентов, штрафов и иных начислений.';
			|en = '[СчетаРасчетов] credit turnover (except for the debt received and repaid during the accounting period).
			|The debt received and repaid during the period is determined for each AR/AP object as the smallest amount of debit and credit turnover.
			|Both Accounts receivable and Liabilities can be recorded on Dr/Cr accounts. So, for each AR/AP object, the turnover related to the debit balance is excluded.
			|It also does not include the amounts of interest, fines, and other charges.'");
			
	ШаблоныЗаголовки.ПорядокРасчета.Долгосрочная.Основной = 
		НСтр("ru = 'Оборот по кредиту [СчетаРасчетов] (кроме задолженности, поступившей и погашенной в течение отчетного периода).
			|Задолженность, поступившая и погашенная в течение периода, определяется по каждому объекту расчетов как наименьшая величина из дебетового и кредитового оборота.
			|Включаются суммы со сроком погашения задолженности не ранее [СрокПогашенияКонец] А также суммы со сроком погашения не ранее [СрокПогашенияНачало], по которым есть кредитовое начальное сальдо. 
			|Срок погашения может быть указан в документе расчета. Если не указан - определяется исходя из даты документа и срока оплаты, указанного в договоре или настройках учета.
			|Не включает суммы процентов, штрафов и иных начислений.';
			|en = '[СчетаРасчетов] credit turnover (except for the debt received and repaid during the accounting period).
			|The debt received and repaid during the period is determined for each AR/AP object as the smallest amount of debit and credit turnover.
			|Includes amounts with a repayment period not earlier than [СрокПогашенияКонец], as well as amounts with a repayment period not earlier than [СрокПогашенияНачало], which have a credit opening balance. 
			|The repayment period can be specified in the AR/AP document. If not specified, it is determined based on the document date and the payment due date specified in the contract or accounting settings.
			|Does not include the amount of interest, fines, and other charges.'");

	ШаблоныЗаголовки.ПорядокРасчета.Долгосрочная.АПСчета = 
		НСтр("ru = 'Оборот по кредиту [СчетаРасчетов] (кроме задолженности, поступившей и погашенной в течение отчетного периода).
			|Задолженность, поступившая и погашенная в течение периода, определяется по каждому объекту расчетов как наименьшая величина из дебетового и кредитового оборота.
			|Включаются суммы со сроком оплаты [СрокПогашенияКонец] или позже. А также суммы со сроком оплаты [СрокПогашенияНачало] или позже, по которым есть кредитовое начальное сальдо.
			|Срок оплаты указывается в договоре в виде даты платежа.
			|По активно-пассивным счетам может быть отражена как Дебиторская задолженность, так и Обязательства. Поэтому по каждому объекту расчетов исключается оборот, связанный с дебетовым сальдо.
			|Также не включает суммы процентов, штрафов и иных начислений.';
			|en = '[СчетаРасчетов] credit turnover (except for the debt received and repaid during the accounting period).
			|The debt received and repaid during the period is determined for each AR/AP object as the smallest amount of debit and credit turnover.
			|Includes amounts whose payment due date is [СрокПогашенияКонец] or later, as well as  amounts whose payment due date is [СрокПогашенияНачало] or later, which have a credit opening balance.
			|The payment due date is specified in the contract as a payment date.
			|Both Accounts receivable and Liabilities can be recorded on Dr/Cr accounts. So, for each AR/AP object, the turnover related to the debit balance is excluded.
			|It also does not include the amounts of interest, fines, and other charges.'");
			
	ШаблоныЗаголовки.ПорядокРасчета.Долгосрочная.СмешанныеВидыСчетов = 
		НСтр("ru = 'Оборот по кредиту [СчетаРасчетов] (кроме задолженности, поступившей и погашенной в течение отчетного периода).
			|Задолженность, поступившая и погашенная в течение периода, определяется по каждому объекту расчетов как наименьшая величина из дебетового и кредитового оборота.
			|Включаются суммы со сроком оплаты [СрокПогашенияКонец] или позже. А также суммы со сроком оплаты [СрокПогашенияНачало] или позже, по которым есть кредитовое начальное сальдо.
			|Срок оплаты указывается в договоре в виде даты платежа.
			|По активно-пассивным счетам может быть отражена как Дебиторская задолженность, так и Обязательства. Поэтому по каждому объекту расчетов исключается оборот, связанный с дебетовым сальдо.
			|Также не включает суммы процентов, штрафов и иных начислений.';
			|en = '[СчетаРасчетов] credit turnover (except for the debt received and repaid during the accounting period).
			|The debt received and repaid during the period is determined for each AR/AP object as the smallest amount of debit and credit turnover.
			|Includes amounts whose payment due date is [СрокПогашенияКонец] or later, as well as  amounts whose payment due date is [СрокПогашенияНачало] or later, which have a credit opening balance.
			|The payment due date is specified in the contract as a payment date.
			|Both Accounts receivable and Liabilities can be recorded on Dr/Cr accounts. So, for each AR/AP object, the turnover related to the debit balance is excluded.
			|It also does not include the amounts of interest, fines, and other charges.'");

	ШаблоныЗаголовки.ПорядокРасчета.Долгосрочная.Аренда = 
		НСтр("ru = 'Увеличение долгосрочного обязательства за период, определенное отдельно по каждому договору аренды (лизинга), исходя из разницы показателей на начало и конец периода.';
			|en = 'An increase in long-term liability for the period, determined separately for each rental (financial lease) contract, based on the difference in indicators at the beginning and end of the period.'");
			
	ШаблоныЗаголовки.ПорядокРасчета.Краткосрочная.Основной = 
		НСтр("ru = 'Оборот по кредиту [СчетаРасчетов] (кроме задолженности, поступившей и погашенной в течение отчетного периода).
			|Задолженность, поступившая и погашенная в течение периода, определяется по каждому объекту расчетов как наименьшая величина из дебетового и кредитового оборота.
			|Включаются суммы со сроком погашения задолженности ранее [СрокПогашенияКонец] Исключаются суммы со сроком погашения не ранее [СрокПогашенияНачало], по которым есть кредитовое начальное сальдо. Срок погашения может быть указан в документе расчета. Если не указан - определяется исходя из даты документа и срока оплаты, указанного в договоре или настройках учета.
			|Не включает суммы процентов, штрафов и иных начислений.';
			|en = '[СчетаРасчетов] credit turnover (except for the debt received and repaid during the accounting period).
			|The debt received and repaid during the period is determined for each AR/AP object as the smallest amount of debit and credit turnover.
			|Includes amounts with a repayment period earlier than [СрокПогашенияКонец]. Does not include amounts with a repayment period not earlier than [СрокПогашенияНачало], which have a credit opening balance. The repayment period can be specified in the AR/AP document. If not specified, it is determined based on the document date and the payment due date specified in the contract or accounting settings.
			|Does not include the amount of interest, fines, and other charges.'");

	ШаблоныЗаголовки.ПорядокРасчета.Краткосрочная.АПСчета = 
		НСтр("ru = 'Оборот по кредиту [СчетаРасчетов] (кроме задолженности, поступившей и погашенной в течение отчетного периода).
			|Задолженность, поступившая и погашенная в течение периода, определяется по каждому объекту расчетов как наименьшая величина из дебетового и кредитового оборота.
			|Включаются суммы со сроком оплаты ранее [СрокПогашенияКонец] Исключаются суммы со сроком оплаты [СрокПогашенияНачало] или позже, по которым есть кредитовое начальное сальдо. Срок оплаты указывается в договоре в виде даты платежа.
			|По активно-пассивным счетам может быть отражена как Дебиторская задолженность, так и Обязательства. Поэтому по каждому объекту расчетов исключается оборот, связанный с дебетовым сальдо.
			|Также не включает суммы процентов, штрафов и иных начислений.';
			|en = '[СчетаРасчетов] credit turnover (except for the debt received and repaid during the accounting period).
			|The debt received and repaid during the period is determined for each AR/AP object as the smallest amount of debit and credit turnover.
			|Includes amounts whose payment due date is earlier than [СрокПогашенияКонец]. Does not include amounts whose payment due date is [СрокПогашенияНачало] or later, which have a credit opening balance. The payment due date is specified in the contract as a payment date.
			|Both Accounts receivable and Liabilities can be recorded on Dr/Cr accounts. So, for each AR/AP object, the turnover related to the debit balance is excluded.
			|It also does not include the amounts of interest, fines, and other charges.'");

	ШаблоныЗаголовки.ПорядокРасчета.Краткосрочная.СмешанныеВидыСчетов = 
		НСтр("ru = 'Оборот по кредиту [СчетаРасчетов] (кроме задолженности, поступившей и погашенной в течение отчетного периода).
			|Задолженность, поступившая и погашенная в течение периода, определяется по каждому объекту расчетов как наименьшая величина из дебетового и кредитового оборота.
			|Включаются суммы со сроком оплаты ранее [СрокПогашенияКонец] Исключаются суммы со сроком оплаты [СрокПогашенияНачало] или позже, по которым есть кредитовое начальное сальдо. Срок оплаты указывается в договоре в виде даты платежа.
			|По активно-пассивным счетам может быть отражена как Дебиторская задолженность, так и Обязательства. Поэтому по каждому объекту расчетов исключается оборот, связанный с дебетовым сальдо.
			|Также не включает суммы процентов, штрафов и иных начислений.';
			|en = '[СчетаРасчетов] credit turnover (except for the debt received and repaid during the accounting period).
			|The debt received and repaid during the period is determined for each AR/AP object as the smallest amount of debit and credit turnover.
			|Includes amounts whose payment due date is earlier than [СрокПогашенияКонец]. Does not include amounts whose payment due date is [СрокПогашенияНачало] or later, which have a credit opening balance. The payment due date is specified in the contract as a payment date.
			|Both Accounts receivable and Liabilities can be recorded on Dr/Cr accounts. So, for each AR/AP object, the turnover related to the debit balance is excluded.
			|It also does not include the amounts of interest, fines, and other charges.'");
			
	ШаблоныЗаголовки.ПорядокРасчета.Краткосрочная.Аренда = 
		НСтр("ru = 'Увеличение краткосрочного обязательства за период, определенное отдельно по каждому договору аренды (лизинга), исходя из разницы показателей на начало и конец периода.';
			|en = 'An increase in short-term liability for the period, determined separately for each rental (financial lease) contract, based on the difference in indicators at the beginning and end of the period.'");

	ДобавитьШаблоныРасшифровкиСоставляющих(КонтекстРаздела, ШаблоныЗаголовки.Составляющие, ИмяКолонки);
	
	Шаблоны.Вставить(ИмяКолонки, ШаблоныЗаголовки);
#КонецОбласти

#Область ПоступилоПроценты
	ИмяКолонки = "ПоступилоПроценты";
	ШаблоныЗаголовки = НовыйШаблонРасшифровки();
	ШаблоныЗаголовки.ЗаголовокГруппы = 
		НСтр("ru = '[НаименованиеГруппы]: поступило за [Период] - проценты, штрафы и иные начисления';
			|en = '[НаименованиеГруппы]: received for [Период] - interest, fines, and other charges'");

	ШаблоныЗаголовки.ПорядокРасчета.Общий.Основной = 
		НСтр("ru = 'Оборот по кредиту [СчетаРасчетов] в корреспонденции со [СчетаРасходов] по статьям с видом ""[ВидПДРНачисление]"".';
			|en = '[СчетаРасчетов] credit turnover in correspondence with [СчетаРасходов] for items with the ""[ВидПДРНачисление]"" type.'");

	ШаблоныЗаголовки.ПорядокРасчета.Долгосрочная.Основной = 
		НСтр("ru = 'Оборот по кредиту [СчетаРасчетов] в корреспонденции со [СчетаРасходов] по статьям с видом ""[ВидПДРНачисление]"".
			|Включаются суммы со сроком погашения задолженности не ранее [СрокПогашенияКонец] А также суммы со сроком погашения не ранее [СрокПогашенияНачало], по которым есть кредитовое начальное сальдо. Срок погашения может быть указан в документе расчета. Если не указан - определяется исходя из даты документа и срока оплаты, указанного в договоре или настройках учета.';
			|en = '[СчетаРасчетов] credit turnover in correspondence with [СчетаРасходов] for items with the ""[ВидПДРНачисление]"" type.
			|Includes amounts with a repayment period not earlier than [СрокПогашенияКонец], as well as amounts with a repayment period not earlier than [СрокПогашенияНачало], which have a credit opening balance. The repayment period can be specified in the AR/AP document. If not specified, it is determined based on the document date and the payment due date specified in the contract or accounting settings.'");

	ШаблоныЗаголовки.ПорядокРасчета.Долгосрочная.АПСчета = 
		НСтр("ru = 'Оборот по кредиту [СчетаРасчетов] в корреспонденции со [СчетаРасходов] по статьям с видом ""[ВидПДРНачисление]"".
			|Включаются суммы со сроком оплаты [СрокПогашенияКонец] или позже. А также суммы со сроком оплаты [СрокПогашенияНачало] или позже, по которым есть кредитовое начальное сальдо. Срок оплаты указывается в договоре в виде даты платежа.';
			|en = '[СчетаРасчетов] credit turnover in correspondence with [СчетаРасходов] for items with the ""[ВидПДРНачисление]"" type.
			|Includes amounts whose payment due date is [СрокПогашенияКонец] or later, as well as amounts whose payment due date is [СрокПогашенияНачало] or later, which have a credit opening balance. The payment due date is specified in the contract as a payment date.'");

	ШаблоныЗаголовки.ПорядокРасчета.Долгосрочная.СмешанныеВидыСчетов = 
		НСтр("ru = 'Оборот по кредиту [СчетаРасчетов] в корреспонденции со [СчетаРасходов] по статьям с видом ""[ВидПДРНачисление]"".
			|Включаются суммы со сроком оплаты [СрокПогашенияКонец] или позже. А также суммы со сроком оплаты [СрокПогашенияНачало] или позже, по которым есть кредитовое начальное сальдо. Срок оплаты указывается в договоре в виде даты платежа.';
			|en = '[СчетаРасчетов] credit turnover in correspondence with [СчетаРасходов] for items with the ""[ВидПДРНачисление]"" type.
			|Includes amounts whose payment due date is [СрокПогашенияКонец] or later, as well as amounts whose payment due date is [СрокПогашенияНачало] or later, which have a credit opening balance. The payment due date is specified in the contract as a payment date.'");

	ШаблоныЗаголовки.ПорядокРасчета.Краткосрочная.Основной = 
		НСтр("ru = 'Оборот по кредиту [СчетаРасчетов] в корреспонденции со [СчетаРасходов] по статьям с видом ""[ВидПДРНачисление]"".
			|Включаются суммы со сроком погашения задолженности ранее [СрокПогашенияКонец] Исключаются суммы со сроком погашения не ранее [СрокПогашенияНачало], по которым есть кредитовое начальное сальдо. Срок погашения может быть указан в документе расчета. Если не указан - определяется исходя из даты документа и срока оплаты, указанного в договоре или настройках учета.';
			|en = '[СчетаРасчетов] credit turnover in correspondence with [СчетаРасходов] for items with the ""[ВидПДРНачисление]"" type.
			|Includes amounts with a repayment period earlier than [СрокПогашенияКонец]. Does not include amounts with a repayment period not earlier than [СрокПогашенияНачало], which have a credit opening balance. The repayment period can be specified in the AR/AP document. If not specified, it is determined based on the document date and the payment due date specified in the contract or accounting settings.'");

	ШаблоныЗаголовки.ПорядокРасчета.Краткосрочная.АПСчета = 
		НСтр("ru = 'Оборот по кредиту [СчетаРасчетов] в корреспонденции со [СчетаРасходов] по статьям с видом ""[ВидПДРНачисление]"".
			|Включаются суммы со сроком оплаты ранее [СрокПогашенияКонец] Исключаются суммы со сроком оплаты [СрокПогашенияНачало] или позже, по которым есть кредитовое начальное сальдо. Срок оплаты указывается в договоре в виде даты платежа.';
			|en = '[СчетаРасчетов] credit turnover in correspondence with [СчетаРасходов] for items with the ""[ВидПДРНачисление]"" type.
			|Includes amounts whose payment due date is earlier than [СрокПогашенияКонец]. Does not include amounts whose payment due date is [СрокПогашенияНачало] or later, which have a credit opening balance. The payment due date is specified in the contract as a payment date.'");

	ШаблоныЗаголовки.ПорядокРасчета.Краткосрочная.СмешанныеВидыСчетов = 
		НСтр("ru = 'Оборот по кредиту [СчетаРасчетов] в корреспонденции со [СчетаРасходов] по статьям с видом ""[ВидПДРНачисление]"".
			|Включаются суммы со сроком оплаты ранее [СрокПогашенияКонец] Исключаются суммы со сроком оплаты [СрокПогашенияНачало] или позже, по которым есть кредитовое начальное сальдо. Срок оплаты указывается в договоре в виде даты платежа.';
			|en = '[СчетаРасчетов] credit turnover in correspondence with [СчетаРасходов] for items with the ""[ВидПДРНачисление]"" type.
			|Includes amounts whose payment due date is earlier than [СрокПогашенияКонец]. Does not include amounts whose payment due date is [СрокПогашенияНачало] or later, which have a credit opening balance. The payment due date is specified in the contract as a payment date.'");

	ДобавитьШаблоныРасшифровкиСоставляющих(КонтекстРаздела, ШаблоныЗаголовки.Составляющие);

	Шаблоны.Вставить(ИмяКолонки, ШаблоныЗаголовки);

#КонецОбласти
		
#Область СписаноНоминал
	ИмяКолонки = "СписаноНоминал";
	ШаблоныЗаголовки = НовыйШаблонРасшифровки();
	ШаблоныЗаголовки.ЗаголовокГруппы = 
		НСтр("ru = '[НаименованиеГруппы]: погашено за [Период]';
			|en = '[НаименованиеГруппы]: repaid for [Период]'");

	ШаблоныЗаголовки.ПорядокРасчета.Общий.Основной = 
		НСтр("ru = 'Оборот по дебету [СчетаРасчетов] (кроме задолженности, поступившей и погашенной в течение отчетного периода, а также списанной в течение отчетного периода).
			|Задолженность, поступившая и погашенная в течение периода, определяется по каждому объекту расчетов как наименьшая величина из дебетового и кредитового оборота.';
			|en = '[СчетаРасчетов] debit turnover (except for the debt received, repaid, and written off during the accounting period).
			|The debt received and repaid during the period is calculated for each AR/AP object as the smallest amount of debit and credit turnover.'");

	ШаблоныЗаголовки.ПорядокРасчета.Общий.АПСчета = 
		НСтр("ru = 'Оборот по дебету [СчетаРасчетов] (кроме задолженности, поступившей и погашенной в течение отчетного периода, а также списанной в течение отчетного периода).
			|Задолженность, поступившая и погашенная в течение периода, определяется по каждому объекту расчетов как наименьшая величина из дебетового и кредитового оборота.
			|По активно-пассивным счетам может быть отражена как Дебиторская задолженность, так и Обязательства. Поэтому по каждому объекту расчетов исключается оборот, связанный с дебетовым сальдо.';
			|en = '[СчетаРасчетов] debit turnover (except for the debt received, repaid, and written off during the accounting period).
			|The debt received and repaid during the period is determined for each AR/AP object as the smallest amount of debit and credit turnover.
			|Both Accounts receivable and Liabilities can be recorded on Dr/Cr accounts. So, for each AR/AP object, the turnover related to the debit balance is excluded.'");
			
	ШаблоныЗаголовки.ПорядокРасчета.Общий.СмешанныеВидыСчетов = 
		НСтр("ru = 'Оборот по дебету [СчетаРасчетов] (кроме задолженности, поступившей и погашенной в течение отчетного периода, а также списанной в течение отчетного периода).
			|Задолженность, поступившая и погашенная в течение периода, определяется по каждому объекту расчетов как наименьшая величина из дебетового и кредитового оборота.
			|По активно-пассивным счетам может быть отражена как Дебиторская задолженность, так и Обязательства. Поэтому по каждому объекту расчетов исключается оборот, связанный с дебетовым сальдо.';
			|en = '[СчетаРасчетов] debit turnover (except for the debt received, repaid, and written off during the accounting period).
			|The debt received and repaid during the period is determined for each AR/AP object as the smallest amount of debit and credit turnover.
			|Both Accounts receivable and Liabilities can be recorded on Dr/Cr accounts. So, for each AR/AP object, the turnover related to the debit balance is excluded.'");

	ШаблоныЗаголовки.ПорядокРасчета.Долгосрочная.Основной = 
		НСтр("ru = 'Оборот по дебету [СчетаРасчетов] (кроме задолженности, поступившей и погашенной в течение отчетного периода, а также списанной в течение отчетного периода).
			|Задолженность, поступившая и погашенная в течение периода, определяется по каждому объекту расчетов как наименьшая величина из дебетового и кредитового оборота.
			|Включаются суммы со сроком погашения задолженности не ранее [СрокПогашенияКонец] А также со сроком погашения не ранее [СрокПогашенияНачало], по которым есть начальное сальдо. Срок погашения может быть указан в документе расчета. Если не указан - определяется исходя из даты документа и срока оплаты, указанного в договоре или настройках учета.';
			|en = '[СчетаРасчетов] debit turnover (except for the debt received, repaid, and written off during the accounting period).
			|The debt received and repaid during the period is calculated for each AR/AP object as the smallest amount of debit and credit turnover.
			|Includes amounts with a repayment period not earlier than [СрокПогашенияКонец], as well as amounts with a repayment period not earlier than [СрокПогашенияНачало], which have an opening balance. The repayment period can be specified in the AR/AP document. If not specified, it is determined based on the document date and the payment due date specified in the contract or accounting settings.'");
	
	ШаблоныЗаголовки.ПорядокРасчета.Долгосрочная.АПСчета = 
		НСтр("ru = 'Оборот по дебету [СчетаРасчетов] (кроме задолженности, поступившей и погашенной в течение отчетного периода, а также списанной в течение отчетного периода).
			|Задолженность, поступившая и погашенная в течение периода, определяется по каждому объекту расчетов как наименьшая величина из дебетового и кредитового оборота.
			|Включаются суммы со сроком оплаты [СрокПогашенияКонец] или позже. А также суммы со сроком оплаты [СрокПогашенияНачало] или позже, по которым есть кредитовое начальное сальдо. Срок оплаты указывается в договоре в виде даты платежа.
			|По активно-пассивным счетам может быть отражена как Дебиторская задолженность, так и Обязательства. Поэтому по каждому объекту расчетов исключается оборот, связанный с дебетовым сальдо.';
			|en = '[СчетаРасчетов] debit turnover (except for the debt received, repaid, and written off during the accounting period).
			|The debt received and repaid during the period is determined for each AR/AP object as the smallest amount of debit and credit turnover.
			|Includes amounts whose payment due date is [СрокПогашенияКонец] or later, as well as  amounts whose payment due date is [СрокПогашенияНачало] or later, which have a credit opening balance. The payment due date is specified in the contract as a payment date.
			|Both Accounts receivable and Liabilities can be recorded on Dr/Cr accounts. So, for each AR/AP object, the turnover related to the debit balance is excluded.'");

	ШаблоныЗаголовки.ПорядокРасчета.Долгосрочная.СмешанныеВидыСчетов = 
		НСтр("ru = 'Оборот по дебету [СчетаРасчетов] (кроме задолженности, поступившей и погашенной в течение отчетного периода, а также списанной в течение отчетного периода).
			|Задолженность, поступившая и погашенная в течение периода, определяется по каждому объекту расчетов как наименьшая величина из дебетового и кредитового оборота.
			|Включаются суммы со сроком оплаты [СрокПогашенияКонец] или позже. А также суммы со сроком оплаты [СрокПогашенияНачало] или позже, по которым есть кредитовое начальное сальдо. Срок оплаты указывается в договоре в виде даты платежа.
			|По активно-пассивным счетам может быть отражена как Дебиторская задолженность, так и Обязательства. Поэтому по каждому объекту расчетов исключается оборот, связанный с дебетовым сальдо.';
			|en = '[СчетаРасчетов] debit turnover (except for the debt received, repaid, and written off during the accounting period).
			|The debt received and repaid during the period is determined for each AR/AP object as the smallest amount of debit and credit turnover.
			|Includes amounts whose payment due date is [СрокПогашенияКонец] or later, as well as  amounts whose payment due date is [СрокПогашенияНачало] or later, which have a credit opening balance. The payment due date is specified in the contract as a payment date.
			|Both Accounts receivable and Liabilities can be recorded on Dr/Cr accounts. So, for each AR/AP object, the turnover related to the debit balance is excluded.'");

	ШаблоныЗаголовки.ПорядокРасчета.Долгосрочная.Аренда = 
		НСтр("ru = 'Уменьшение долгосрочного обязательства за период, определенное отдельно по каждому договору аренды (лизинга), исходя из разницы показателей на начало и конец периода.';
			|en = 'A decrease in long-term liability for the period, determined separately for each rental (financial lease) contract, based on the difference in indicators at the beginning and end of the period.'");
			
	ШаблоныЗаголовки.ПорядокРасчета.Краткосрочная.Основной = 
		НСтр("ru = 'Оборот по дебету [СчетаРасчетов] (кроме задолженности, поступившей и погашенной в течение отчетного периода, а также списанной в течение отчетного периода).
			|Задолженность, поступившая и погашенная в течение периода, определяется по каждому объекту расчетов как наименьшая величина из дебетового и кредитового оборота.
			|Включаются суммы со сроком погашения задолженности ранее [СрокПогашенияКонец] Исключаются суммы со сроком погашения не ранее [СрокПогашенияНачало], по которым есть начальное сальдо. Срок погашения может быть указан в документе расчета. Если не указан - определяется исходя из даты документа и срока оплаты, указанного в договоре или настройках учета.';
			|en = '[СчетаРасчетов] debit turnover (except for the debt received, repaid, and written off during the accounting period).
			|The debt received and repaid during the period is calculated for each AR/AP object as the smallest amount of debit and credit turnover.
			|Includes amounts with a repayment period earlier than [СрокПогашенияКонец]. Does not include amounts with a repayment period not earlier than [СрокПогашенияНачало], which have an opening balance. The repayment period can be specified in the AR/AP document. If not specified, it is determined based on the document date and the payment due date specified in the contract or accounting settings.'");

	ШаблоныЗаголовки.ПорядокРасчета.Краткосрочная.АПСчета = 
		НСтр("ru = 'Оборот по дебету [СчетаРасчетов] (кроме задолженности, поступившей и погашенной в течение отчетного периода, а также списанной в течение отчетного периода).
			|Задолженность, поступившая и погашенная в течение периода, определяется по каждому объекту расчетов как наименьшая величина из дебетового и кредитового оборота.
			|Включаются суммы со сроком оплаты ранее [СрокПогашенияКонец] Исключаются суммы со сроком оплаты [СрокПогашенияНачало] или позже, по которым есть кредитовое начальное сальдо. Срок оплаты указывается в договоре в виде даты платежа.
			|По активно-пассивным счетам может быть отражена как Дебиторская задолженность, так и Обязательства. Поэтому по каждому объекту расчетов исключается оборот, связанный с дебетовым сальдо.';
			|en = '[СчетаРасчетов] debit turnover (except for the debt received, repaid, and written off during the accounting period).
			|The debt received and repaid during the period is determined for each AR/AP object as the smallest amount of debit and credit turnover.
			|Includes amounts whose payment due date is earlier than [СрокПогашенияКонец]. Does not include amounts whose payment due date is [СрокПогашенияНачало] or later, which have a credit opening balance. The payment due date is specified in the contract as a payment date.
			|Both Accounts receivable and Liabilities can be recorded on Dr/Cr accounts. So, for each AR/AP object, the turnover related to the debit balance is excluded.'");

	ШаблоныЗаголовки.ПорядокРасчета.Краткосрочная.СмешанныеВидыСчетов = 
		НСтр("ru = 'Оборот по дебету [СчетаРасчетов] (кроме задолженности, поступившей и погашенной в течение отчетного периода, а также списанной в течение отчетного периода).
			|Задолженность, поступившая и погашенная в течение периода, определяется по каждому объекту расчетов как наименьшая величина из дебетового и кредитового оборота.
			|Включаются суммы со сроком оплаты ранее [СрокПогашенияКонец] Исключаются суммы со сроком оплаты [СрокПогашенияНачало] или позже, по которым есть кредитовое начальное сальдо. Срок оплаты указывается в договоре в виде даты платежа.
			|По активно-пассивным счетам может быть отражена как Дебиторская задолженность, так и Обязательства. Поэтому по каждому объекту расчетов исключается оборот, связанный с дебетовым сальдо.';
			|en = '[СчетаРасчетов] debit turnover (except for the debt received, repaid, and written off during the accounting period).
			|The debt received and repaid during the period is determined for each AR/AP object as the smallest amount of debit and credit turnover.
			|Includes amounts whose payment due date is earlier than [СрокПогашенияКонец]. Does not include amounts whose payment due date is [СрокПогашенияНачало] or later, which have a credit opening balance. The payment due date is specified in the contract as a payment date.
			|Both Accounts receivable and Liabilities can be recorded on Dr/Cr accounts. So, for each AR/AP object, the turnover related to the debit balance is excluded.'");

	ШаблоныЗаголовки.ПорядокРасчета.Краткосрочная.Аренда = 
		НСтр("ru = 'Уменьшение краткосрочного обязательства за период, определенное отдельно по каждому договору аренды (лизинга), исходя из разницы показателей на начало и конец периода.';
			|en = 'A decrease in short-term liability for the period, determined separately for each rental (financial lease) contract, based on the difference in indicators at the beginning and end of the period.'");

	ДобавитьШаблоныРасшифровкиСоставляющих(КонтекстРаздела, ШаблоныЗаголовки.Составляющие, ИмяКолонки);

	Шаблоны.Вставить(ИмяКолонки, ШаблоныЗаголовки);
#КонецОбласти
		
#Область СписаноНаДоходы
	ИмяКолонки = "СписаноНаДоходы";
	ШаблоныЗаголовки = НовыйШаблонРасшифровки();
	ШаблоныЗаголовки.ЗаголовокГруппы = 
		НСтр("ru = '[НаименованиеГруппы]: списано на расходы за [Период]';
			|en = '[НаименованиеГруппы]: written off as expenses for [Период]'");

	ШаблоныЗаголовки.ПорядокРасчета.Общий.Основной = 
		НСтр("ru = 'Оборот по дебету [СчетаРасчетов] в корреспонденции со [СчетаДоходов] по статьям с видом ""[ВидПДРСписание]"".';
			|en = '[СчетаРасчетов] debit turnover in correspondence with [СчетаДоходов] for items with the ""[ВидПДРСписание]"" type.'");
	
	ШаблоныЗаголовки.ПорядокРасчета.Долгосрочная.Основной = 
		НСтр("ru = 'Оборот по дебету [СчетаРасчетов] в корреспонденции со [СчетаДоходов] по статьям с видом ""[ВидПДРСписание]"".
			|Включаются суммы со сроком погашения задолженности не ранее [СрокПогашенияКонец] А также суммы со сроком погашения не ранее [СрокПогашенияНачало], по которым есть кредитовое начальное сальдо. Срок погашения может быть указан в документе расчета. Если не указан - определяется исходя из даты документа и срока оплаты, указанного в договоре или настройках учета.';
			|en = '[СчетаРасчетов] debit turnover in correspondence with [СчетаДоходов] for items with the ""[ВидПДРСписание]"" type.
			|Includes amounts with a repayment period not earlier than [СрокПогашенияКонец], as well as amounts with a repayment period not earlier than [СрокПогашенияНачало], which have a credit opening balance. The repayment period can be specified in the AR/AP document. If not specified, it is determined based on the document date and the payment due date specified in the contract or accounting settings.'");
		
	ШаблоныЗаголовки.ПорядокРасчета.Долгосрочная.АПСчета = 
		НСтр("ru = 'Оборот по дебету [СчетаРасчетов] в корреспонденции со [СчетаДоходов] по статьям с видом ""[ВидПДРСписание]"".
			|Включаются суммы со сроком оплаты [СрокПогашенияКонец] или позже. А также суммы со сроком оплаты [СрокПогашенияНачало] или позже, по которым есть кредитовое начальное сальдо. Срок оплаты указывается в договоре в виде даты платежа.';
			|en = '[СчетаРасчетов] debit turnover in correspondence with [СчетаДоходов] for items with the ""[ВидПДРСписание]"" type.
			|Includes amounts whose payment due date is [СрокПогашенияКонец] or later, as well as amounts whose payment due date is [СрокПогашенияНачало] or later, which have a credit opening balance. The payment due date is specified in the contract as a payment date.'");

	ШаблоныЗаголовки.ПорядокРасчета.Долгосрочная.СмешанныеВидыСчетов = 
		НСтр("ru = 'Оборот по дебету [СчетаРасчетов] в корреспонденции со [СчетаДоходов] по статьям с видом ""[ВидПДРСписание]"".
			|Включаются суммы со сроком оплаты [СрокПогашенияКонец] или позже. А также суммы со сроком оплаты [СрокПогашенияНачало] или позже, по которым есть кредитовое начальное сальдо. Срок оплаты указывается в договоре в виде даты платежа.';
			|en = '[СчетаРасчетов] debit turnover in correspondence with [СчетаДоходов] for items with the ""[ВидПДРСписание]"" type.
			|Includes amounts whose payment due date is [СрокПогашенияКонец] or later, as well as amounts whose payment due date is [СрокПогашенияНачало] or later, which have a credit opening balance. The payment due date is specified in the contract as a payment date.'");
	
	ШаблоныЗаголовки.ПорядокРасчета.Краткосрочная.Основной = 
		НСтр("ru = 'Оборот по дебету [СчетаРасчетов] в корреспонденции со [СчетаДоходов] по статьям с видом ""[ВидПДРСписание]"".
			|Включаются суммы со сроком погашения задолженности ранее [СрокПогашенияКонец] Исключаются суммы со сроком погашения не ранее [СрокПогашенияНачало], по которым есть кредитовое начальное сальдо. Срок погашения может быть указан в документе расчета. Если не указан - определяется исходя из даты документа и срока оплаты, указанного в договоре или настройках учета.';
			|en = '[СчетаРасчетов] debit turnover in correspondence with [СчетаДоходов] for items with the ""[ВидПДРСписание]"" type.
			|Includes amounts with a repayment period earlier than [СрокПогашенияКонец]. Does not include amounts with a repayment period not earlier than [СрокПогашенияНачало], which have a credit opening balance. The repayment period can be specified in the AR/AP document. If not specified, it is determined based on the document date and the payment due date specified in the contract or accounting settings.'");
			
	ШаблоныЗаголовки.ПорядокРасчета.Краткосрочная.АПСчета = 
		НСтр("ru = 'Оборот по дебету [СчетаРасчетов] в корреспонденции со [СчетаДоходов] по статьям с видом ""[ВидПДРСписание]"".
			|Включаются суммы со сроком оплаты ранее [СрокПогашенияКонец] Исключаются суммы со сроком оплаты [СрокПогашенияНачало] или позже, по которым есть кредитовое начальное сальдо. Срок оплаты указывается в договоре в виде даты платежа.';
			|en = '[СчетаРасчетов] debit turnover in correspondence with [СчетаДоходов] for items with the ""[ВидПДРСписание]"" type.
			|Includes amounts whose payment due date is earlier than [СрокПогашенияКонец]. Does not include amounts whose payment due date is [СрокПогашенияНачало] or later, which have a credit opening balance. The payment due date is specified in the contract as a payment date.'");

	ШаблоныЗаголовки.ПорядокРасчета.Краткосрочная.СмешанныеВидыСчетов = 
		НСтр("ru = 'Оборот по дебету [СчетаРасчетов] в корреспонденции со [СчетаДоходов] по статьям с видом ""[ВидПДРСписание]"".
			|Включаются суммы со сроком оплаты ранее [СрокПогашенияКонец] Исключаются суммы со сроком оплаты [СрокПогашенияНачало] или позже, по которым есть кредитовое начальное сальдо. Срок оплаты указывается в договоре в виде даты платежа.';
			|en = '[СчетаРасчетов] debit turnover in correspondence with [СчетаДоходов] for items with the ""[ВидПДРСписание]"" type.
			|Includes amounts whose payment due date is earlier than [СрокПогашенияКонец]. Does not include amounts whose payment due date is [СрокПогашенияНачало] or later, which have a credit opening balance. The payment due date is specified in the contract as a payment date.'");

	ДобавитьШаблоныРасшифровкиСоставляющих(КонтекстРаздела, ШаблоныЗаголовки.Составляющие);
	
	Шаблоны.Вставить(ИмяКолонки, ШаблоныЗаголовки);
#КонецОбласти

#Область Переклассифицировано
	ИмяКолонки = "Переклассифицировано";
	ШаблоныЗаголовки = НовыйШаблонРасшифровки();
	ШаблоныЗаголовки.ЗаголовокГруппы = 
		НСтр("ru = '[НаименованиеГруппы]: переклассифицировано за [Период]';
			|en = '[НаименованиеГруппы]: reclassified for [Период]'");

	ШаблоныЗаголовки.ПорядокРасчета.Долгосрочная.Основной =
		НСтр("ru = 'Конечное сальдо по [СчетуРасчетов] (подлежащее погашению до [СрокПогашенияКонец])
			|Включает суммы по документам расчетов, ожидаемый срок погашения задолженности по которым не ранее [СрокПогашенияНачало] Срок погашения может быть указан в документе расчета. Если не указан - определяется исходя из даты документа и срока оплаты, указанного в договоре или настройках учета.
			|Не включает суммы по документам расчетов без сальдо на [НачалоПериода]';
			|en = 'Closing [СчетуРасчетов] balance (repayable before [СрокПогашенияКонец]).
			|Includes amounts of AR/AP documents whose expected repayment period is not earlier than [СрокПогашенияНачало]. The repayment period can be specified in the AR/AP document. If not specified, it is determined based on the document date and the payment due date specified in the contract or accounting settings.
			|Does not include the amounts of AR/AP documents without a balance as of [НачалоПериода]'");

	ШаблоныЗаголовки.ПорядокРасчета.Долгосрочная.АПСчета =
		НСтр("ru = 'Конечное сальдо по [СчетуРасчетов] (подлежащее погашению до [СрокПогашенияКонец])
			|Включает суммы по договорам, ожидаемый срок оплаты по которым [СрокПогашенияНачало] или позже. Срок оплаты указывается в договоре в виде даты платежа.
			|Не включает суммы по договорам без сальдо на [НачалоПериода]';
			|en = 'Closing [СчетуРасчетов] balance (repayable before [СрокПогашенияКонец])
			|Includes amounts under contracts whose expected payment due date is [СрокПогашенияНачало] or later. The payment due date is specified in the contract as a payment date.
			|Does not include amounts under contracts without a balance as of [НачалоПериода]'");

	ШаблоныЗаголовки.ПорядокРасчета.Долгосрочная.СмешанныеВидыСчетов =
		НСтр("ru = 'Конечное сальдо по [СчетуРасчетов] (подлежащее погашению до [СрокПогашенияКонец])
			|Включает суммы по договорам, ожидаемый срок оплаты по которым [СрокПогашенияНачало] или позже. Срок оплаты указывается в договоре в виде даты платежа.
			|Не включает суммы по договорам без сальдо на [НачалоПериода]';
			|en = 'Closing [СчетуРасчетов] balance (repayable before [СрокПогашенияКонец])
			|Includes amounts under contracts whose expected payment due date is [СрокПогашенияНачало] or later. The payment due date is specified in the contract as a payment date.
			|Does not include amounts under contracts without a balance as of [НачалоПериода]'");

	ШаблоныЗаголовки.ПорядокРасчета.Краткосрочная.Основной =
		НСтр("ru = 'Отражены суммы с обратным знаком из графы ""Долгосрочные обязательства - Переклассифицировано""';
			|en = 'Amounts with the reverse sign from the ""Long-term liabilities - Reclassified"" column are recorded'");

	ДобавитьШаблоныРасшифровкиСоставляющих(КонтекстРаздела, ШаблоныЗаголовки.Составляющие);
	
	Шаблоны.Вставить(ИмяКолонки, ШаблоныЗаголовки);
#КонецОбласти

#Область КонецНоминал
	ИмяКолонки = "КонецНоминал";
	ШаблоныЗаголовки = НовыйШаблонРасшифровки();
	ШаблоныЗаголовки.ЗаголовокГруппы = 
		НСтр("ru = '[НаименованиеГруппы]: по условиям договора на [КонецПериода]';
			|en = '[НаименованиеГруппы]: according to the contract terms as of [КонецПериода]'");

	ШаблоныЗаголовки.ПорядокРасчета.Общий.Основной = 
		НСтр("ru = 'Сальдо по кредиту [СчетаРасчетов].';
			|en = '[СчетаРасчетов] credit balance.'");
	
	ШаблоныЗаголовки.ПорядокРасчета.Общий.АПСчета = 
		НСтр("ru = 'Развернутое сальдо по кредиту [СчетаРасчетов].';
			|en = 'Detailed [СчетаРасчетов] credit balance.'");

	ШаблоныЗаголовки.ПорядокРасчета.Общий.СмешанныеВидыСчетов =
		НСтр("ru = 'Сальдо по кредиту [СчетаРасчетовП], развернутое сальдо по кредиту [СчетаРасчетовАП].';
			|en = '[СчетаРасчетовП] credit balance, detailed [СчетаРасчетовАП] credit balance.'");
				
	ШаблоныЗаголовки.ПорядокРасчета.Долгосрочная.Основной = 
		НСтр("ru = 'Сальдо по кредиту [СчетаРасчетов].
			|Включаются суммы со сроком погашения задолженности не ранее [СрокПогашенияКонец] Срок погашения может быть указан в документе расчета. Если не указан - определяется исходя из даты документа и срока оплаты, указанного в договоре или настройках учета.';
			|en = '[СчетаРасчетов] credit balance.
			|Includes amounts with a repayment period not earlier than [СрокПогашенияКонец]. The repayment period can be specified in the AR/AP document. If not specified, it is determined based on the document date and the payment due date specified in the contract or accounting settings.'");

	ШаблоныЗаголовки.ПорядокРасчета.Долгосрочная.АПСчета = 
		НСтр("ru = 'Развернутое сальдо по кредиту [СчетаРасчетов]. Развернутое сальдо означает, что исключается дебетовое сальдо по отдельным значениям аналитики.
			|Включаются суммы со сроком оплаты [СрокПогашенияКонец] или позже. Срок оплаты указывается в договоре в виде даты платежа.';
			|en = 'Detailed [СчетаРасчетов] credit balance. The detailed balance means that the debit balance of individual dimension values is excluded.
			|Includes amounts whose payment due date is [СрокПогашенияКонец] or later. The payment due date is specified in the contract as a payment date.'");
	
	ШаблоныЗаголовки.ПорядокРасчета.Долгосрочная.СмешанныеВидыСчетов =
		НСтр("ru = 'Сальдо по кредиту [СчетаРасчетовП], развернутое сальдо по кредиту [СчетаРасчетовАП]. Развернутое сальдо означает, что исключается дебетовое сальдо по отдельным значениям аналитики.
			|Включаются суммы со сроком оплаты [СрокПогашенияКонец] или позже. Срок оплаты указывается в договоре в виде даты платежа.';
			|en = '[СчетаРасчетовП] credit balance, detailed [СчетаРасчетовАП] credit balance. The detailed balance means that the debit balance of individual dimension values is excluded.
			|Includes amounts whose payment due date is [СрокПогашенияКонец] or later. The payment due date is specified in the contract as a payment date.'");
				
	ШаблонАренда = НСтр("ru = 'Отрицательное сальдо по [СчетуАренды] за вычетом относящегося к нему НДС (сальдо по кредиту [СчетаНДСАвансовВыданных]). Включаются суммы со сроком действия договора не ранее [СрокПогашенияКонец]
			|Расчет выполняется отдельно по каждому договору аренды (лизинга)[СуммарноПоФилиалам].';
			|en = 'Negative balance on [СчетуАренды] minus VAT related to it ([СчетаНДСАвансовВыданных] credit balance). Includes amounts with contract expiration date not earlier than [СрокПогашенияКонец].
			|The calculation is performed separately for each rental (financial lease) contract[СуммарноПоФилиалам].'");
		
	ШаблоныЗаголовки.ПорядокРасчета.Долгосрочная.Аренда = ШаблонАренда;

	ШаблоныЗаголовки.ПорядокРасчета.Краткосрочная.Основной = 
		НСтр("ru = 'Сальдо по кредиту [СчетаРасчетов].
			|Включаются суммы со сроком погашения задолженности ранее [СрокПогашенияКонец] Срок погашения может быть указан в документе расчета. Если не указан - определяется исходя из даты документа и срока оплаты, указанного в договоре или настройках учета.';
			|en = '[СчетаРасчетов] credit balance.
			|Includes amounts with a repayment period earlier than [СрокПогашенияКонец]. The repayment period can be specified in the AR/AP document. If not specified, it is determined based on the document date and the payment due date specified in the contract or accounting settings.'");

	ШаблоныЗаголовки.ПорядокРасчета.Краткосрочная.АПСчета = 
		НСтр("ru = 'Развернутое сальдо по кредиту [СчетаРасчетов]. Развернутое сальдо означает, что исключается дебетовое сальдо по отдельным значениям аналитики.
			|Включаются суммы со сроком оплаты ранее [СрокПогашенияКонец] Срок оплаты указывается в договоре в виде даты платежа.';
			|en = 'Detailed [СчетаРасчетов] credit balance. The detailed balance means that the debit balance of individual dimension values is excluded.
			|Includes amounts whose payment due date is earlier than [СрокПогашенияКонец]. The payment due date is specified in the contract as a payment date.'");
			
	ШаблоныЗаголовки.ПорядокРасчета.Краткосрочная.СмешанныеВидыСчетов =
		НСтр("ru = 'Сальдо по кредиту [СчетаРасчетовП], развернутое сальдо по кредиту [СчетаРасчетовАП]. Развернутое сальдо означает, что исключается дебетовое сальдо по отдельным значениям аналитики.
			|Включаются суммы со сроком оплаты ранее [СрокПогашенияКонец] Срок оплаты указывается в договоре в виде даты платежа.';
			|en = '[СчетаРасчетовП] credit balance, detailed [СчетаРасчетовАП] credit balance. The detailed balance means that the debit balance of individual dimension values is excluded.
			|Includes amounts whose payment due date is earlier than [СрокПогашенияКонец]. The payment due date is specified in the contract as a payment date.'");
			
	ШаблоныЗаголовки.ПорядокРасчета.Краткосрочная.Аренда = 
		НСтр("ru = 'Отрицательное сальдо по [СчетуАренды] за вычетом относящегося к нему НДС (сальдо по кредиту счета [СчетаНДСАвансовВыданных]), уменьшенное на долгосрочное обязательство по аренде.
			|Расчет выполняется отдельно по каждому договору аренды (лизинга)[СуммарноПоФилиалам].';
			|en = 'Negative balance on [СчетуАренды] minus VAT related to it ([СчетаНДСАвансовВыданных] credit balance) minus long-term rental liability.
			|The calculation is performed separately for each rental (financial lease) contract[СуммарноПоФилиалам].'");

	ДобавитьШаблоныРасшифровкиСоставляющих(КонтекстРаздела, ШаблоныЗаголовки.Составляющие, ИмяКолонки);

	Шаблоны.Вставить(ИмяКолонки, ШаблоныЗаголовки);
#КонецОбласти

Возврат Шаблоны;
	
КонецФункции

#КонецОбласти

#Область ДобавлениеСтрокРасшифровок

Процедура НачатьДобавлениеСтрокиНаличиеДвижение(ВыводТаблицы, СтрокаТаблицы, ШаблоныЗаголовков, ПараметрыТекстовРасшифровки, ВариантУчета)
	
	НоваяСтрока = ЗаполнениеБухгалтерскойОтчетностиТабличное.ДобавитьСтрокуТаблицыОтчета(
		ВыводТаблицы,
		ШаблоныЗаголовков,
		ПараметрыТекстовРасшифровки);
		
	НоваяСтрока.Группа = СтрокаТаблицы.НаименованиеГруппы;
	НоваяСтрока.ВариантУчета = ВариантУчета;
	
КонецПроцедуры

Процедура НачатьДобавлениеСтрокиПросроченная(ВыводТаблицы, СтрокаТаблицы, ШаблоныЗаголовков, ПараметрыТекстовРасшифровки)
	
	НоваяСтрока = ЗаполнениеБухгалтерскойОтчетностиТабличное.ДобавитьСтрокуТаблицыОтчета(
		ВыводТаблицы,
		ШаблоныЗаголовков,
		ПараметрыТекстовРасшифровки);
		
	НоваяСтрока.Группа = СтрокаТаблицы.НаименованиеГруппы;
	
КонецПроцедуры

Процедура ВывестиРасшифровкуОрганизация(ВыводТаблицы, ШаблоныЗаголовков, СтрокаТаблицы)
	
	Если Не ВыводТаблицы.ВыводитьФилиалы Тогда
		Возврат;
	КонецЕсли;
	
	Для Каждого Шаблон Из ШаблоныЗаголовков Цикл
		
		ЗаполнениеБухгалтерскойОтчетностиТабличное.ДобавитьЗаписьРасшифровкиСтрокиОрганизация(
			ВыводТаблицы,
			Шаблон.Ключ,
			СтрокаТаблицы.Организация,
			СтрокаТаблицы.НаименованиеОрганизации);
			
	КонецЦикла;
	
КонецПроцедуры

Функция ПараметрыТекстовРасшифровки(КонтекстЗаполненияОтчета, КонтекстРаздела)
	
	ПараметрыТекстов = Новый Структура;
	
	КодЯзыка = ОбщегоНазначения.КодОсновногоЯзыка();
	
	ЗаполнениеБухгалтерскойОтчетностиТабличное.УстановитьПараметрыТекстовРасшифровки(ПараметрыТекстов, КонтекстЗаполненияОтчета);
	
	ФорматДаты = "ДЛФ=DD";
	ПараметрыТекстов.Вставить("КонецСледующегоПериода",  Формат(ДобавитьМесяц(КонтекстЗаполненияОтчета.Период.КонецДата, 12), ФорматДаты));
	ПараметрыТекстов.Вставить("СрокПогашенияНачало", Формат(ДобавитьМесяц(КонтекстЗаполненияОтчета.Период.Начало, 12), ФорматДаты));
	ПараметрыТекстов.Вставить("СрокПогашенияКонец",  Формат(КонецМесяца(ДобавитьМесяц(КонтекстЗаполненияОтчета.Период.КонецДата, 12)) + 1, ФорматДаты));

	СуммарноПоФилиалам = "";
	Если КонтекстЗаполненияОтчета.Организации.Количество() > 1 Тогда
		СуммарноПоФилиалам = НСтр("ru = ', но суммарно по всем филиалам';
									|en = ', but in total for all branch offices'", КодЯзыка);
	КонецЕсли;
	ПараметрыТекстов.Вставить("СуммарноПоФилиалам", СуммарноПоФилиалам);

	ПредставленияСчетов = ЗаполнениеБухгалтерскойОтчетностиТабличное.ПредставлениеСписка(КонтекстРаздела.СчетаРасходов);
	ПараметрыТекстов.Вставить("СчетаРасходов", ЗаполнениеБухгалтерскойОтчетностиТабличное.ПредставлениеСпискаСчетовТворительныйПадеж(
		ПредставленияСчетов));

	ПредставленияСчетов = ЗаполнениеБухгалтерскойОтчетностиТабличное.ПредставлениеСписка(КонтекстРаздела.СчетаДоходов);
	ПараметрыТекстов.Вставить("СчетаДоходов", ЗаполнениеБухгалтерскойОтчетностиТабличное.ПредставлениеСпискаСчетовТворительныйПадеж(
		ПредставленияСчетов));
		
	СчетаНДСАвансовВыданных = Новый Массив;
	СчетаНДСАвансовВыданных.Добавить(ПланыСчетов.Хозрасчетный.НДСпоАвансамИПредоплатамВыданным);
		
	ПредставленияСчетов = ЗаполнениеБухгалтерскойОтчетностиТабличное.ПредставлениеСписка(СчетаНДСАвансовВыданных);
	ПараметрыТекстов.Вставить("СчетаНДСАвансовВыданных", ЗаполнениеБухгалтерскойОтчетностиТабличное.ПредставлениеСпискаСчетовРодительныйПадеж(
		ПредставленияСчетов));
		
	ПредставленияСчетов = ЗаполнениеБухгалтерскойОтчетностиТабличное.ПредставлениеСписка(СчетаНДСАвансовВыданных);
	ПараметрыТекстов.Вставить("СчетуНДСАвансовВыданных", ЗаполнениеБухгалтерскойОтчетностиТабличное.ПредставлениеСпискаСчетовДательныйПадеж(
		ПредставленияСчетов));
		
	ПредставленияСчетов = ЗаполнениеБухгалтерскойОтчетностиТабличное.ПредставлениеСписка(КонтекстРаздела.СчетаРасчетовПоАренде);
		ПараметрыТекстов.Вставить("СчетуАренды", ЗаполнениеБухгалтерскойОтчетностиТабличное.ПредставлениеСпискаСчетовДательныйПадеж(
			ПредставленияСчетов));

	ПараметрыТекстов.Вставить("ВидПДРСписание", Строка(КонтекстРаздела.ВидПДРСписание));
	ПараметрыТекстов.Вставить("ВидПДРНачисление", Строка(КонтекстРаздела.ВидПДРНачисление));
	Если КонтекстРаздела.ВидЗадолженности = "ДебиторскаяЗадолженность" Тогда
		ПараметрыТекстов.Вставить("ВидАктиваДебиторскаяЗадолженность", Строка(КонтекстРаздела.ВидАктиваДебиторскаяЗадолженность));
		
		ПредставленияСчетов = ЗаполнениеБухгалтерскойОтчетностиТабличное.ПредставлениеСписка(КонтекстРаздела.СчетаРезервов);
		ПараметрыТекстов.Вставить("СчетаРезервов", ЗаполнениеБухгалтерскойОтчетностиТабличное.ПредставлениеСпискаСчетовРодительныйПадеж(
		 ПредставленияСчетов));
	КонецЕсли;
	ПараметрыТекстов.Вставить("НаименованиеГруппы", "");
	ПараметрыТекстов.Вставить("СчетаРасчетов", "");
	ПараметрыТекстов.Вставить("СчетаРасчетовА", ""); 
	ПараметрыТекстов.Вставить("СчетаРасчетовП", ""); 
	ПараметрыТекстов.Вставить("СчетаРасчетовАП", "");
	ПараметрыТекстов.Вставить("СчетуРасчетов", "");
	ПараметрыТекстов.Вставить("СчетуРасчетовА", "");
	ПараметрыТекстов.Вставить("СчетуРасчетовП", ""); 
	ПараметрыТекстов.Вставить("СчетуРасчетовАП", "");
	ПараметрыТекстов.Вставить("Счет", "");
	ПараметрыТекстов.Вставить("СчетНДСАвансов", "");
	
	Возврат ПараметрыТекстов;
	
КонецФункции

Процедура УстановитьПараметрыТекстовРасшифровкиПоГруппе(ПараметрыТекстовРасшифровки, Группа, СчетаГруппы)
	
	ПараметрыТекстовРасшифровки.НаименованиеГруппы = Группа.НаименованиеГруппы;

	ПредставленияСчетов = ЗаполнениеБухгалтерскойОтчетностиТабличное.ПредставлениеСписка(СчетаГруппы.СчетаРасчетов);
	ПараметрыТекстовРасшифровки.СчетаРасчетов = ЗаполнениеБухгалтерскойОтчетностиТабличное.ПредставлениеСпискаСчетовРодительныйПадеж(
		ПредставленияСчетов);
	ПараметрыТекстовРасшифровки.СчетуРасчетов = ЗаполнениеБухгалтерскойОтчетностиТабличное.ПредставлениеСпискаСчетовДательныйПадеж(
		ПредставленияСчетов);
		
	ПредставленияСчетов = ЗаполнениеБухгалтерскойОтчетностиТабличное.ПредставлениеСписка(СчетаГруппы.СчетаРасчетовА);
	ПараметрыТекстовРасшифровки.СчетаРасчетовА = ЗаполнениеБухгалтерскойОтчетностиТабличное.ПредставлениеСпискаСчетовРодительныйПадеж(
		ПредставленияСчетов);
	ПараметрыТекстовРасшифровки.СчетуРасчетовА = ЗаполнениеБухгалтерскойОтчетностиТабличное.ПредставлениеСпискаСчетовДательныйПадеж(
		ПредставленияСчетов);
		
	ПредставленияСчетов = ЗаполнениеБухгалтерскойОтчетностиТабличное.ПредставлениеСписка(СчетаГруппы.СчетаРасчетовП);
	ПараметрыТекстовРасшифровки.СчетаРасчетовП = ЗаполнениеБухгалтерскойОтчетностиТабличное.ПредставлениеСпискаСчетовРодительныйПадеж(
		ПредставленияСчетов);
	ПараметрыТекстовРасшифровки.СчетуРасчетовП = ЗаполнениеБухгалтерскойОтчетностиТабличное.ПредставлениеСпискаСчетовДательныйПадеж(
		ПредставленияСчетов);
		
	ПредставленияСчетов = ЗаполнениеБухгалтерскойОтчетностиТабличное.ПредставлениеСписка(СчетаГруппы.СчетаРасчетовАП);
	ПараметрыТекстовРасшифровки.СчетаРасчетовАП = ЗаполнениеБухгалтерскойОтчетностиТабличное.ПредставлениеСпискаСчетовРодительныйПадеж(
		ПредставленияСчетов);
	ПараметрыТекстовРасшифровки.СчетуРасчетовАП = ЗаполнениеБухгалтерскойОтчетностиТабличное.ПредставлениеСпискаСчетовДательныйПадеж(
		ПредставленияСчетов);

КонецПроцедуры

#КонецОбласти

#Область Шаблоны

Функция НовыйШаблонРасшифровки()
	
	Шаблон = Новый Структура;
	Шаблон.Вставить("ЗаголовокГруппы", "");
	Шаблон.Вставить("ПорядокРасчета",  Новый Структура);
	Шаблон.Вставить("Составляющие",       Новый Структура);
	
	Шаблон.ПорядокРасчета.Вставить("Общий", Новый Структура);
	Шаблон.ПорядокРасчета.Общий.Вставить("Основной", "");
	Шаблон.ПорядокРасчета.Общий.Вставить("АПСчета", "");
	Шаблон.ПорядокРасчета.Общий.Вставить("СмешанныеВидыСчетов", "");
	Шаблон.ПорядокРасчета.Общий.Вставить("Авансы", "");
	Шаблон.ПорядокРасчета.Общий.Вставить("РБП", "");
	Шаблон.ПорядокРасчета.Общий.Вставить("Аренда", "");
	Шаблон.ПорядокРасчета.Общий.Вставить("АПСчетаСальдо", "");
	
	Шаблон.ПорядокРасчета.Вставить("Долгосрочная", Новый Структура);
	Шаблон.ПорядокРасчета.Долгосрочная.Вставить("Основной", "");
	Шаблон.ПорядокРасчета.Долгосрочная.Вставить("АПСчета", "");
	Шаблон.ПорядокРасчета.Долгосрочная.Вставить("СмешанныеВидыСчетов", "");
	Шаблон.ПорядокРасчета.Долгосрочная.Вставить("Авансы", "");
	Шаблон.ПорядокРасчета.Долгосрочная.Вставить("РБП", "");
	Шаблон.ПорядокРасчета.Долгосрочная.Вставить("Аренда", "");
	
	Шаблон.ПорядокРасчета.Вставить("Краткосрочная", Новый Структура);
	Шаблон.ПорядокРасчета.Краткосрочная.Вставить("Основной", "");
	Шаблон.ПорядокРасчета.Краткосрочная.Вставить("АПСчета", "");
	Шаблон.ПорядокРасчета.Краткосрочная.Вставить("СмешанныеВидыСчетов", "");
	Шаблон.ПорядокРасчета.Краткосрочная.Вставить("Авансы", "");
	Шаблон.ПорядокРасчета.Краткосрочная.Вставить("РБП", "");
	Шаблон.ПорядокРасчета.Краткосрочная.Вставить("Аренда", "");
		
	Шаблон.Составляющие.Вставить("Основной",                       НовыйВидыСоставляющих());
	Шаблон.Составляющие.Вставить("СчетаПоСрочностиПоДоговорам",    НовыйВидыСоставляющих());
	Шаблон.Составляющие.Вставить("СчетаПоСрочностиПоДоговорамИВидуАктива", НовыйВидыСоставляющих());
	Шаблон.Составляющие.Вставить("АПСчетаПоСрочностиПоДоговорам",  НовыйВидыСоставляющих());
	Шаблон.Составляющие.Вставить("СчетаПоСрочностиПоДокументам",   НовыйВидыСоставляющих());
	Шаблон.Составляющие.Вставить("СчетаПоСрочностиПоДокументамИВидуАктива", НовыйВидыСоставляющих());
	Шаблон.Составляющие.Вставить("АПСчетаПоКонтрагентам",          НовыйВидыСоставляющих());
	Шаблон.Составляющие.Вставить("СчетаПоДоговорам",               НовыйВидыСоставляющих());
	Шаблон.Составляющие.Вставить("АПСчетаПоДоговорам",             НовыйВидыСоставляющих());
	Шаблон.Составляющие.Вставить("АПСчетаПоВидамПлатежей",         НовыйВидыСоставляющих());
	Шаблон.Составляющие.Вставить("СчетаПоРаботникам",              НовыйВидыСоставляющих());
	Шаблон.Составляющие.Вставить("АПСчетаПоРаботникам",            НовыйВидыСоставляющих());
	Шаблон.Составляющие.Вставить("СчетаБезУчетаАналитики",         НовыйВидыСоставляющих());
	Шаблон.Составляющие.Вставить("АПСчетаБезУчетаАналитики",       НовыйВидыСоставляющих());
	Шаблон.Составляющие.Вставить("СчетаПоКонтрагентамРБПиПоВидуАктива", НовыйВидыСоставляющих());
	Шаблон.Составляющие.Вставить("СчетаПоРБПиПоВидуАктива",        НовыйВидыСоставляющих());
	Шаблон.Составляющие.Вставить("АПСчетаНА",                      НовыйВидыСоставляющих());
	
	Возврат Шаблон;
	
КонецФункции

Функция НовыйВидыСоставляющих()
	
	ВидыСоставляющих = Новый Структура;
	ВидыСоставляющих.Вставить("Слагаемое",  "");
	ВидыСоставляющих.Вставить("Вычет",      "");
	ВидыСоставляющих.Вставить("ИсключенДО", "");
	ВидыСоставляющих.Вставить("ИсключенКО", "");
	Возврат ВидыСоставляющих;
КонецФункции

Процедура ДобавитьШаблоныРасшифровкиСоставляющих(КонтекстРаздела, Составляющие, ИмяКолонки = "")
	
#Область Слагаемое
	Составляющие["Основной"].Слагаемое =
				НСтр("ru = '[Счет]';
					|en = '[Счет]'");

	Если ИмяКолонки = "НачалоНоминал" Или ИмяКолонки = "КонецНоминал" Тогда
					
		Составляющие["АПСчетаПоСрочностиПоДоговорам"].Слагаемое = 
					НСтр("ru = '[Счет] - развернуто по контрагентам, договорам';
						|en = '[Счет] - expanded by counterparties, contracts'");
					
		Составляющие["АПСчетаПоКонтрагентам"].Слагаемое = 
					НСтр("ru = '[Счет] - развернуто по контрагентам';
						|en = '[Счет] - expanded by counterparties'");
					
		Составляющие["АПСчетаПоДоговорам"].Слагаемое = 
					НСтр("ru = '[Счет] - развернуто по контрагентам, договорам';
						|en = '[Счет] - expanded by counterparties, contracts'");
					
		Составляющие["АПСчетаПоВидамПлатежей"].Слагаемое = 
					НСтр("ru = '[Счет] - развернуто по видам платежей в бюджет (фонды)';
						|en = '[Счет] - expanded by kinds of payments to the budget (funds)'");
					
		Составляющие["АПСчетаПоРаботникам"].Слагаемое = 
					НСтр("ru = '[Счет] - развернуто по работникам';
						|en = '[Счет] - expanded by employees'");
					
	ИначеЕсли ИмяКолонки = "ПоступилоНоминал" Тогда
		
		Составляющие["Основной"].Слагаемое =
					НСтр("ru = '[Счет]';
						|en = '[Счет]'");
		
	ИначеЕсли ИмяКолонки = "СписаноНоминал" Тогда
		
		Составляющие["Основной"].Слагаемое =
					НСтр("ru = '[Счет]';
						|en = '[Счет]'");
		
	КонецЕсли;
#КонецОбласти

#Область Вычет

	Если (ИмяКолонки = "ПоступилоНоминал" И КонтекстРаздела.ВидЗадолженности = "ДебиторскаяЗадолженность")
		Или (ИмяКолонки = "СписаноНоминал" И КонтекстРаздела.ВидЗадолженности = "КредиторскаяЗадолженность")Тогда
		Составляющие["Основной"].Вычет = 
					НСтр("ru = 'Исключен дебетовый оборот по [Счет] в пределах кредитового оборота';
						|en = 'Debit turnover on account [Счет] is excluded within the credit turnover'");

		Составляющие["СчетаПоСрочностиПоДокументам"].Вычет = 
					НСтр("ru = 'Исключен дебетовый оборот по [Счет] в пределах кредитового оборота - по контрагентам, договорам и документам расчетов';
						|en = 'Debit turnover on account [Счет] is excluded within the credit turnover by counterparties, contracts, and AR/AP documents'");

		Составляющие["СчетаПоСрочностиПоДокументамИВидуАктива"].Вычет = 
					НСтр("ru = 'Исключен дебетовый оборот по [Счет] в пределах кредитового оборота - по контрагентам, договорам и документам расчетов';
						|en = 'Debit turnover on account [Счет] is excluded within the credit turnover by counterparties, contracts, and AR/AP documents'");

		Составляющие["СчетаПоСрочностиПоДоговорам"].Вычет = 
					НСтр("ru = 'Исключен дебетовый оборот по [Счет] в пределах кредитового оборота - по контрагентам и договорам';
						|en = 'Debit turnover on account [Счет] is excluded within the credit turnover by counterparties and contracts'");
					
		Составляющие["СчетаПоСрочностиПоДоговорамИВидуАктива"].Вычет = 
					НСтр("ru = 'Исключен дебетовый оборот по [Счет] в пределах кредитового оборота - по контрагентам и договорам';
						|en = 'Debit turnover on account [Счет] is excluded within the credit turnover by counterparties and contracts'");

		Составляющие["АПСчетаПоСрочностиПоДоговорам"].Вычет = 
					НСтр("ru = 'Исключен дебетовый оборот по [Счет] в пределах кредитового оборота - по контрагентам и договорам';
						|en = 'Debit turnover on account [Счет] is excluded within the credit turnover by counterparties and contracts'");
					
		Составляющие["СчетаПоДоговорам"].Вычет = 
					НСтр("ru = 'Исключен дебетовый оборот по [Счет] в пределах кредитового оборота - по контрагентам и договорам';
						|en = 'Debit turnover on account [Счет] is excluded within the credit turnover by counterparties and contracts'");

		Составляющие["АПСчетаПоДоговорам"].Вычет = 
					НСтр("ru = 'Исключен дебетовый оборот по [Счет] в пределах кредитового оборота - по контрагентам и договорам';
						|en = 'Debit turnover on account [Счет] is excluded within the credit turnover by counterparties and contracts'");

		Составляющие["АПСчетаПоКонтрагентам"].Вычет = 
					НСтр("ru = 'Исключен дебетовый оборот по [Счет] в пределах кредитового оборота - по контрагентам';
						|en = 'Debit turnover on account [Счет] is excluded within the credit turnover by counterparties'");

		Составляющие["СчетаПоКонтрагентамРБПиПоВидуАктива"].Вычет = 
					НСтр("ru = 'Исключен дебетовый оборот по [Счет] в пределах кредитового оборота - по контрагентам и расходам будущих периодов';
						|en = 'Debit turnover on account [Счет] is excluded within the credit turnover by counterparties and deferred expenses'");

		Составляющие["СчетаПоРБПиПоВидуАктива"].Вычет = 
					НСтр("ru = 'Исключен дебетовый оборот по [Счет] в пределах кредитового оборота - по расходам будущих периодов';
						|en = 'Debit turnover on account [Счет] is excluded within the credit turnover by deferred expenses'");

		Составляющие["АПСчетаПоВидамПлатежей"].Вычет = 
					НСтр("ru = 'Исключен дебетовый оборот по [Счет] в пределах кредитового оборота - по видам платежей';
						|en = 'Debit turnover on account [Счет] is excluded within the credit turnover by payment kinds'");

		Составляющие["СчетаПоРаботникам"].Вычет = 
					НСтр("ru = 'Исключен дебетовый оборот по [Счет] в пределах кредитового оборота - по работникам';
						|en = 'Debit turnover on account [Счет] is excluded within the credit turnover by employees'");

		Составляющие["АПСчетаПоРаботникам"].Вычет = 
					НСтр("ru = 'Исключен дебетовый оборот по [Счет] в пределах кредитового оборота - по работникам';
						|en = 'Debit turnover on account [Счет] is excluded within the credit turnover by employees'");

	КонецЕсли;

	Если (ИмяКолонки = "СписаноНоминал" И КонтекстРаздела.ВидЗадолженности = "ДебиторскаяЗадолженность")
		Или (ИмяКолонки = "ПоступилоНоминал" И КонтекстРаздела.ВидЗадолженности = "КредиторскаяЗадолженность")Тогда

		Составляющие["СчетаПоСрочностиПоДокументам"].Вычет = 
					НСтр("ru = 'Исключен кредитовый оборот по [Счет] в пределах дебетового оборота - по контрагентам, договорам и документам расчетов';
						|en = 'Credit turnover on account [Счет] is excluded within the debit turnover by counterparties, contracts, and AR/AP documents'");
					
		Составляющие["СчетаПоСрочностиПоДокументамИВидуАктива"].Вычет = 
					НСтр("ru = 'Исключен кредитовый оборот по [Счет] в пределах дебетового оборота - по контрагентам, договорам и документам расчетов';
						|en = 'Credit turnover on account [Счет] is excluded within the credit turnover by counterparties, contracts, and AR/AP documents'");

		Составляющие["Основной"].Вычет = 
					НСтр("ru = 'Исключен кредитовый оборот по [Счет] в пределах дебетового оборота';
						|en = 'Credit turnover on account [Счет] is excluded within the debit turnover'");
		
		Составляющие["СчетаПоСрочностиПоДоговорам"].Вычет = 
					НСтр("ru = 'Исключен кредитовый оборот по [Счет] в пределах дебетового оборота - по контрагентам и договорам';
						|en = 'Credit turnover on account [Счет] is excluded within the debit turnover by counterparties and contracts'");

		Составляющие["СчетаПоСрочностиПоДоговорамИВидуАктива"].Вычет = 
					НСтр("ru = 'Исключен кредитовый оборот по [Счет] в пределах дебетового оборота - по контрагентам и договорам';
						|en = 'Credit turnover on account [Счет] is excluded within the debit turnover by counterparties and contracts'");

		Составляющие["АПСчетаПоСрочностиПоДоговорам"].Вычет = 
					НСтр("ru = 'Исключен кредитовый оборот по [Счет] в пределах дебетового оборота - по контрагентам и договорам';
						|en = 'Credit turnover on account [Счет] is excluded within the debit turnover by counterparties and contracts'");

		Составляющие["СчетаПоДоговорам"].Вычет = 
					НСтр("ru = 'Исключен кредитовый оборот по [Счет] в пределах дебетового оборота - по контрагентам и договорам';
						|en = 'Credit turnover on account [Счет] is excluded within the debit turnover by counterparties and contracts'");

		Составляющие["АПСчетаПоДоговорам"].Вычет = 
					НСтр("ru = 'Исключен кредитовый оборот по [Счет] в пределах дебетового оборота - по контрагентам и договорам';
						|en = 'Credit turnover on account [Счет] is excluded within the debit turnover by counterparties and contracts'");

		Составляющие["АПСчетаПоКонтрагентам"].Вычет = 
					НСтр("ru = 'Исключен кредитовый оборот по [Счет] в пределах дебетового оборота - по контрагентам';
						|en = 'Credit turnover on account [Счет] is excluded within the debit turnover by counterparties'");

		Составляющие["СчетаПоКонтрагентамРБПиПоВидуАктива"].Вычет = 
					НСтр("ru = 'Исключен кредитовый оборот по [Счет] в пределах дебетового оборота - по контрагентам и расходам будущих периодов';
						|en = 'Credit turnover on account [Счет] is excluded within the debit turnover by counterparties and deferred expenses'");

		Составляющие["СчетаПоРБПиПоВидуАктива"].Вычет = 
					НСтр("ru = 'Исключен кредитовый оборот по [Счет] в пределах дебетового оборота - по расходам будущих периодов';
						|en = 'Credit turnover on account [Счет] is excluded within the debit turnover by deferred expenses'");

		Составляющие["АПСчетаПоВидамПлатежей"].Вычет = 
					НСтр("ru = 'Исключен кредитовый оборот по [Счет] в пределах дебетового оборота - по видам платежей';
						|en = 'Credit turnover on account [Счет] is excluded within the debit turnover by payment kinds'");

		Составляющие["СчетаПоРаботникам"].Вычет = 
					НСтр("ru = 'Исключен кредитовый оборот по [Счет] в пределах дебетового оборота - по работникам';
						|en = 'Credit turnover on account [Счет] is excluded within the debit turnover by employees'");

		Составляющие["АПСчетаПоРаботникам"].Вычет = 
					НСтр("ru = 'Исключен кредитовый оборот по [Счет] в пределах дебетового оборота - по работникам';
						|en = 'Credit turnover on account [Счет] is excluded within the debit turnover by employees'");

	КонецЕсли;

#КонецОбласти

#Область ИсключенДО

	Если (ИмяКолонки = "ПоступилоНоминал" И КонтекстРаздела.ВидЗадолженности = "ДебиторскаяЗадолженность")
		Или (ИмяКолонки = "СписаноНоминал" И КонтекстРаздела.ВидЗадолженности = "КредиторскаяЗадолженность")Тогда
		
		ПараметрыТекста = Новый Структура;
		ОсновнаяЧастьТекста = НСтр("ru = 'Исключен дебетовый оборот по [Счет], относящийся к обязательствам';
									|en = 'Debit turnover on [Счет] related to liabilities is excluded'");
		Если КонтекстРаздела.ВидЗадолженности = "КредиторскаяЗадолженность" Тогда
			ОсновнаяЧастьТекста = НСтр("ru = 'Исключен дебетовый оборот по [Счет], относящийся к дебиторской задолженности';
										|en = 'Debit turnover on [Счет] related to accounts receivable is excluded'");
		КонецЕсли;

		ПараметрыТекста.Вставить("ОсновнаяЧастьТекста", ОсновнаяЧастьТекста);
		
		Составляющие["Основной"].ИсключенДО = 
					СтроковыеФункцииКлиентСервер.ВставитьПараметрыВСтроку(НСтр("ru = '[ОсновнаяЧастьТекста]';
																				|en = '[ОсновнаяЧастьТекста]'"), ПараметрыТекста);

		Составляющие["АПСчетаПоСрочностиПоДоговорам"].ИсключенДО =
					СтроковыеФункцииКлиентСервер.ВставитьПараметрыВСтроку(НСтр("ru = '[ОсновнаяЧастьТекста] - по контрагентам и договорам';
																				|en = '[ОсновнаяЧастьТекста] - by counterparties and contracts'"), ПараметрыТекста);

		Составляющие["АПСчетаПоКонтрагентам"].ИсключенДО =
					СтроковыеФункцииКлиентСервер.ВставитьПараметрыВСтроку(НСтр("ru = '[ОсновнаяЧастьТекста] - по контрагентам';
																				|en = '[ОсновнаяЧастьТекста] - by counterparties'"), ПараметрыТекста);

		Составляющие["АПСчетаПоДоговорам"].ИсключенДО =
					СтроковыеФункцииКлиентСервер.ВставитьПараметрыВСтроку(НСтр("ru = '[ОсновнаяЧастьТекста] - по контрагентам и договорам';
																				|en = '[ОсновнаяЧастьТекста] - by counterparties and contracts'"), ПараметрыТекста);

		Составляющие["АПСчетаПоВидамПлатежей"].ИсключенДО =
					СтроковыеФункцииКлиентСервер.ВставитьПараметрыВСтроку(НСтр("ru = '[ОсновнаяЧастьТекста] - по видам платежей';
																				|en = '[ОсновнаяЧастьТекста] - by payment kinds'"), ПараметрыТекста);

		Составляющие["АПСчетаПоРаботникам"].ИсключенДО =
					СтроковыеФункцииКлиентСервер.ВставитьПараметрыВСтроку(НСтр("ru = '[ОсновнаяЧастьТекста] - по работникам';
																				|en = '[ОсновнаяЧастьТекста] - by employees'"), ПараметрыТекста);

	КонецЕсли;

#КонецОбласти

#Область ИсключенКО
				
	Если (ИмяКолонки = "СписаноНоминал" И КонтекстРаздела.ВидЗадолженности = "ДебиторскаяЗадолженность")
		Или (ИмяКолонки = "ПоступилоНоминал" И КонтекстРаздела.ВидЗадолженности = "КредиторскаяЗадолженность")Тогда
		
		ПараметрыТекста = Новый Структура;
		ОсновнаяЧастьТекста = НСтр("ru = 'Исключен кредитовый оборот по [Счет], относящийся к обязательствам';
									|en = 'Credit turnover on [Счет] related to liabilities is excluded'");
		Если КонтекстРаздела.ВидЗадолженности = "КредиторскаяЗадолженность" Тогда
			ОсновнаяЧастьТекста = НСтр("ru = 'Исключен кредитовый оборот по [Счет], относящийся к дебиторской задолженности';
										|en = 'Credit turnover on [Счет] related to accounts receivable is excluded'");
		КонецЕсли;

		ПараметрыТекста.Вставить("ОсновнаяЧастьТекста", ОсновнаяЧастьТекста);
		
		Составляющие["Основной"].ИсключенКО = 
					СтроковыеФункцииКлиентСервер.ВставитьПараметрыВСтроку(НСтр("ru = '[ОсновнаяЧастьТекста]';
																				|en = '[ОсновнаяЧастьТекста]'"), ПараметрыТекста);

		Составляющие["АПСчетаПоСрочностиПоДоговорам"].ИсключенКО =
					СтроковыеФункцииКлиентСервер.ВставитьПараметрыВСтроку(НСтр("ru = '[ОсновнаяЧастьТекста] - по контрагентам и договорам';
																				|en = '[ОсновнаяЧастьТекста] - by counterparties and contracts'"), ПараметрыТекста);

		Составляющие["АПСчетаПоКонтрагентам"].ИсключенКО =
					СтроковыеФункцииКлиентСервер.ВставитьПараметрыВСтроку(НСтр("ru = '[ОсновнаяЧастьТекста] - по контрагентам';
																				|en = '[ОсновнаяЧастьТекста] - by counterparties'"), ПараметрыТекста);

		Составляющие["АПСчетаПоДоговорам"].ИсключенКО =
					СтроковыеФункцииКлиентСервер.ВставитьПараметрыВСтроку(НСтр("ru = '[ОсновнаяЧастьТекста] - по контрагентам и договорам';
																				|en = '[ОсновнаяЧастьТекста] - by counterparties and contracts'"), ПараметрыТекста);

		Составляющие["АПСчетаПоВидамПлатежей"].ИсключенКО =
					СтроковыеФункцииКлиентСервер.ВставитьПараметрыВСтроку(НСтр("ru = '[ОсновнаяЧастьТекста] - по видам платежей';
																				|en = '[ОсновнаяЧастьТекста] - by payment kinds'"), ПараметрыТекста);

		Составляющие["АПСчетаПоРаботникам"].ИсключенКО =
					СтроковыеФункцииКлиентСервер.ВставитьПараметрыВСтроку(НСтр("ru = '[ОсновнаяЧастьТекста] - по работникам';
																				|en = '[ОсновнаяЧастьТекста] - by employees'"), ПараметрыТекста);

	КонецЕсли;

#КонецОбласти

КонецПроцедуры

Процедура ПолучитьШаблоныЗаголовковГруппы(Шаблоны, ШаблоныРасшифровкиОбщие, Группа, МеткаШаблонПорядокРасчета, ДолгосрочнаяЗадолженность)
	
	Для Каждого Шаблон Из ШаблоныРасшифровкиОбщие Цикл
		ШаблонЗаголовковРасшифровки = ЗаполнениеБухгалтерскойОтчетностиТабличное.НовыйШаблонЗаголовковРасшифровки();
		
		ШаблонЗаголовокГруппы = Шаблон.Значение.ЗаголовокГруппы;
		ШаблоныПорядокРасчета = Шаблон.Значение.ПорядокРасчета;
		
		ПорядокРасчета = "";
		
		ПорядокРасчетаВид = ШаблоныПорядокРасчета.Общий;
		Если Группа.ОтражатьВДолгосрочной И Группа.ОтражатьВКраткосрочной Тогда
			ПорядокРасчетаВид = ШаблоныПорядокРасчета.Краткосрочная;
			Если ДолгосрочнаяЗадолженность Тогда
				ПорядокРасчетаВид = ШаблоныПорядокРасчета.Долгосрочная;
			КонецЕсли;
		КонецЕсли;
		
		Если Не ЗначениеЗаполнено(ПорядокРасчета) И ПорядокРасчетаВид.Свойство(МеткаШаблонПорядокРасчета) Тогда
			ПорядокРасчета = ПорядокРасчетаВид[МеткаШаблонПорядокРасчета];
		КонецЕсли;
		
		Если Не ЗначениеЗаполнено(ПорядокРасчета) И ПорядокРасчетаВид.Свойство("Основной") Тогда
			ПорядокРасчета = ПорядокРасчетаВид.Основной;
		КонецЕсли;
		
		Если Не ЗначениеЗаполнено(ПорядокРасчета) Тогда
			ПорядокРасчетаВид = ШаблоныПорядокРасчета.Общий;
			Если Не ЗначениеЗаполнено(ПорядокРасчета) И ПорядокРасчетаВид.Свойство(МеткаШаблонПорядокРасчета) Тогда
				ПорядокРасчета = ПорядокРасчетаВид[МеткаШаблонПорядокРасчета];
			КонецЕсли;
			
			Если Не ЗначениеЗаполнено(ПорядокРасчета) И ПорядокРасчетаВид.Свойство("Основной") Тогда
				ПорядокРасчета = ПорядокРасчетаВид.Основной;
			КонецЕсли;
		КонецЕсли;

		Если Шаблон.Ключ = "Переклассифицировано" И МеткаШаблонПорядокРасчета = "Аренда" Тогда
			ПорядокРасчета = "";
		КонецЕсли;

		ШаблонЗаголовковРасшифровки.ЗаголовокГруппы = ШаблонЗаголовокГруппы;
		ШаблонЗаголовковРасшифровки.ПорядокРасчета = ПорядокРасчета;
		
		Шаблоны.Вставить(Шаблон.Ключ, ШаблонЗаголовковРасшифровки);
	КонецЦикла;
	
КонецПроцедуры

Функция ОписаниеСлагаемогоИзШаблона(ИмяНабора, ШаблоныРасшифровкиОбщие, ИмяКолонки, ПараметрыТекста, ВидСоставляющей)
	
	Составляющие = ШаблоныРасшифровкиОбщие[ИмяКолонки].Составляющие;
	
	Если Составляющие.Свойство(ИмяНабора) И Составляющие[ИмяНабора][ВидСоставляющей] <> "" Тогда
		Возврат СтроковыеФункцииКлиентСервер.ВставитьПараметрыВСтроку(Составляющие[ИмяНабора][ВидСоставляющей], ПараметрыТекста);
	КонецЕсли;
	
	Возврат СтроковыеФункцииКлиентСервер.ВставитьПараметрыВСтроку(Составляющие.Основной[ВидСоставляющей], ПараметрыТекста);
		
КонецФункции

#КонецОбласти

#Область ТекстыЗапросов

#Область ТекстыЗапросовДебиторскаяЗадолженность

Функция ТекстЗапросаСчетаРасчетовДебиторская(НаборыСчетов, КонтекстРаздела)
	
	ТекстыЗапросов = Новый Массив;
	ТекстыЗапросов.Добавить(ТекстЗапросаСчетаРасчетовОстаткиИОбороты(НаборыСчетов, КонтекстРаздела.ВидЗадолженности));
	
	ТекстЗапроса =
	"ВЫБРАТЬ
	|	ОстальныеРасчеты.Организация КАК Организация,
	|	ОстальныеРасчеты.Счет КАК Счет,
	|	ОстальныеРасчеты.Субконто1 КАК Субконто1,
	|	ОстальныеРасчеты.Субконто2 КАК Субконто2,
	|	ОстальныеРасчеты.Субконто3 КАК Субконто3,
	|	ОстальныеРасчеты.ПоСрочности КАК ПоСрочности,
	|	ОстальныеРасчеты.СНД КАК СНД,
	|	ОстальныеРасчеты.ДО КАК ДО,
	|	ОстальныеРасчеты.КО КАК КО,
	|	ОстальныеРасчеты.СКД КАК СКД,
	|	ОстальныеРасчеты.Вычет КАК Вычет,
	|	ОстальныеРасчеты.ИсключенДО КАК ИсключенДО,
	|	ОстальныеРасчеты.ИсключенКО КАК ИсключенКО
	|ПОМЕСТИТЬ ВсеРасчеты
	|ИЗ
	|	ОстальныеРасчеты КАК ОстальныеРасчеты
	|ГДЕ
	|	ОстальныеРасчеты.ОтражатьВДебиторской
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	Авансы.Организация,
	|	Авансы.Счет,
	|	Авансы.Субконто1,
	|	Авансы.Субконто2,
	|	Авансы.Субконто3,
	|	Авансы.ПоСрочности,
	|	Авансы.СНД,
	|	Авансы.ДО,
	|	Авансы.КО,
	|	Авансы.СКД,
	|	Авансы.Вычет,
	|	Авансы.ИсключенДО,
	|	Авансы.ИсключенКО
	|ИЗ
	|	Авансы КАК Авансы
	|ГДЕ
	|	&РазделятьАвансыПоВидамАктива
	|	И Авансы.ОтражатьВДебиторской
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	РасходыБудущихПериодов.Организация,
	|	РасходыБудущихПериодов.Счет,
	|	РасходыБудущихПериодов.Субконто1,
	|	РасходыБудущихПериодов.Субконто2,
	|	РасходыБудущихПериодов.Субконто3,
	|	РасходыБудущихПериодов.ПоСрочности,
	|	РасходыБудущихПериодов.СНД,
	|	РасходыБудущихПериодов.ДО,
	|	РасходыБудущихПериодов.КО,
	|	РасходыБудущихПериодов.СКД,
	|	РасходыБудущихПериодов.Вычет,
	|	РасходыБудущихПериодов.ИсключенДО,
	|	РасходыБудущихПериодов.ИсключенКО
	|ИЗ
	|	РасходыБудущихПериодов КАК РасходыБудущихПериодов
	|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ ПланВидовХарактеристик.СтатьиРасходов КАК СправочникРБП
	|		ПО РасходыБудущихПериодов.Субконто1 = СправочникРБП.Ссылка
	|			И (СправочникРБП.ВидАктива = &ВидАктиваДебиторскаяЗадолженность)
	|ГДЕ
	|	РасходыБудущихПериодов.ОтражатьВДебиторской
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	РасчетыПоСтрахованию.Организация,
	|	РасчетыПоСтрахованию.Счет,
	|	РасчетыПоСтрахованию.Субконто1,
	|	РасчетыПоСтрахованию.Субконто2,
	|	РасчетыПоСтрахованию.Субконто3,
	|	РасчетыПоСтрахованию.ПоСрочности,
	|	РасчетыПоСтрахованию.СНД,
	|	РасчетыПоСтрахованию.ДО,
	|	РасчетыПоСтрахованию.КО,
	|	РасчетыПоСтрахованию.СКД,
	|	РасчетыПоСтрахованию.Вычет,
	|	РасчетыПоСтрахованию.ИсключенДО,
	|	РасчетыПоСтрахованию.ИсключенКО
	|ИЗ
	|	РасчетыПоСтрахованию КАК РасчетыПоСтрахованию
	|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ ПланВидовХарактеристик.СтатьиРасходов КАК СправочникРБП
	|		ПО РасчетыПоСтрахованию.Субконто2 = СправочникРБП.Ссылка
	|			И (СправочникРБП.ВидАктива = &ВидАктиваДебиторскаяЗадолженность)
	|ГДЕ
	|	РасчетыПоСтрахованию.ОтражатьВДебиторской
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	ВсеРасчеты.Организация КАК Организация,
	|	ВсеРасчеты.Счет КАК Счет,
	|	ВсеРасчеты.Субконто1 КАК Субконто1,
	|	ВсеРасчеты.Субконто2 КАК Субконто2,
	|	ВсеРасчеты.Субконто3 КАК Субконто3,
	|	ВсеРасчеты.ПоСрочности КАК ПоСрочности,
	|	ВсеРасчеты.СНД КАК СНД,
	|	ВсеРасчеты.ДО КАК ДО,
	|	ВсеРасчеты.КО КАК КО,
	|	ВсеРасчеты.СКД КАК СКД,
	|	ВсеРасчеты.Вычет КАК Вычет,
	|	ВсеРасчеты.ИсключенДО КАК ИсключенДО,
	|	ВсеРасчеты.ИсключенКО КАК ИсключенКО
	|ПОМЕСТИТЬ РасчетыПоСрочности
	|ИЗ
	|	ВсеРасчеты КАК ВсеРасчеты
	|ГДЕ
	|	ВсеРасчеты.ПоСрочности
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	РасчетыПоСрочности.Организация КАК Организация,
	|	РасчетыПоСрочности.Субконто1 КАК Субконто1,
	|	РасчетыПоСрочности.Субконто2 КАК Субконто2,
	|	РасчетыПоСрочности.Субконто3 КАК Субконто3
	|ПОМЕСТИТЬ АналитикаПоСрочности
	|ИЗ
	|	РасчетыПоСрочности КАК РасчетыПоСрочности";
	
	Если КонтекстРаздела.РазделятьАвансыПоВидамАктивов Тогда
		ТекстЗапроса = СтрЗаменить(ТекстЗапроса, "&РазделятьАвансыПоВидамАктива", "НЕ Авансы.Субконто2.ВидАктива В (&ИсключаемыеВидыАктиваАвансов)");
	Иначе
		ТекстЗапроса = СтрЗаменить(ТекстЗапроса, "&РазделятьАвансыПоВидамАктива", "ИСТИНА");
	КонецЕсли;
		
	ТекстыЗапросов.Добавить(ТекстЗапроса);

	Возврат СтрСоединить(ТекстыЗапросов, Общегоназначения.РазделительПакетаЗапросов());

КонецФункции

Функция ТекстЗапросаРазделениеЗадолженностиДебиторская()

	Возврат
	"ВЫБРАТЬ
	|	РасчетыПоСрочности.Организация КАК Организация,
	|	РасчетыПоСрочности.Счет КАК Счет,
	|	РасчетыПоСрочности.Субконто1 КАК Субконто1,
	|	РасчетыПоСрочности.Субконто2 КАК Субконто2,
	|	РасчетыПоСрочности.Субконто3 КАК Субконто3,
	|	РасчетыПоСрочности.ПоСрочности КАК ПоСрочности,
	|	РасчетыПоСрочности.СНД КАК СНД,
	|	РасчетыПоСрочности.ДО КАК ДО,
	|	РасчетыПоСрочности.КО КАК КО,
	|	РасчетыПоСрочности.СКД КАК СКД,
	|	РасчетыПоСрочности.Вычет КАК Вычет,
	|	РасчетыПоСрочности.ИсключенДО КАК ИсключенДО,
	|	РасчетыПоСрочности.ИсключенКО КАК ИсключенКО,
	|	ВЫБОР
	|		КОГДА ЕСТЬNULL(АналитикаПоСрокам.ДатаПогашения > &КраткосрочныйПериодОтНачала, ЛОЖЬ)
	|			ИЛИ РасчетыПоСрочности.Счет.Долгосрочный
	|			ТОГДА РасчетыПоСрочности.СНД
	|		ИНАЧЕ 0
	|	КОНЕЦ КАК СНД_ДС,
	|	ВЫБОР
	|		КОГДА ЕСТЬNULL(АналитикаПоСрокам.ДатаПогашения > &КраткосрочныйПериод, ЛОЖЬ)
	|			ИЛИ РасчетыПоСрочности.Счет.Долгосрочный
	|			ТОГДА РасчетыПоСрочности.СКД
	|		ИНАЧЕ 0
	|	КОНЕЦ КАК СКД_ДС,
	|	ВЫБОР
	|		КОГДА РасчетыПоСрочности.СНД < 0
	|			ТОГДА РасчетыПоСрочности.СНД
	|		КОГДА АналитикаПоСрокам.ДатаПогашения ЕСТЬ NULL
	|				ИЛИ АналитикаПоСрокам.ДатаПогашения = ДАТАВРЕМЯ(1, 1, 1)
	|			ТОГДА 0
	|		КОГДА АналитикаПоСрокам.ДатаПогашения < &НачалоПериода
	|				И РасчетыПоСрочности.СНД > 0
	|			ТОГДА РасчетыПоСрочности.СНД
	|		ИНАЧЕ 0
	|	КОНЕЦ КАК СНД_Просроченная,
	|	ВЫБОР
	|		КОГДА РасчетыПоСрочности.СКД < 0
	|			ТОГДА РасчетыПоСрочности.СКД
	|		КОГДА АналитикаПоСрокам.ДатаПогашения ЕСТЬ NULL
	|				ИЛИ АналитикаПоСрокам.ДатаПогашения = ДАТАВРЕМЯ(1, 1, 1)
	|			ТОГДА 0
	|		КОГДА АналитикаПоСрокам.ДатаПогашения < &КонецПериодаДата
	|				И РасчетыПоСрочности.СКД > 0
	|			ТОГДА РасчетыПоСрочности.СКД
	|		ИНАЧЕ 0
	|	КОНЕЦ КАК СКД_Просроченная,
	|	ВЫБОР
	|		КОГДА (ЕСТЬNULL(АналитикаПоСрокам.ДатаПогашения > &КраткосрочныйПериодОтНачала, ЛОЖЬ)
	|				И НЕ ЕСТЬNULL(АналитикаПоСрокам.ДатаПогашения > &КраткосрочныйПериод, ЛОЖЬ)
	|				ИЛИ РасчетыПоСрочности.Счет.Долгосрочный)
	|				И РасчетыПоСрочности.СНД <> 0
	|			ТОГДА РасчетыПоСрочности.СКД
	|		ИНАЧЕ 0
	|	КОНЕЦ КАК Переклассифицировано,
	|	ВЫБОР
	|		КОГДА РасчетыПоСрочности.СНД <> 0
	|				И ЕСТЬNULL(АналитикаПоСрокам.ДатаПогашения > &КраткосрочныйПериодОтНачала, ЛОЖЬ)
	|			ТОГДА РасчетыПоСрочности.ДО
	|		КОГДА ЕСТЬNULL(АналитикаПоСрокам.ДатаПогашения > &КраткосрочныйПериод, ЛОЖЬ)
	|			ТОГДА РасчетыПоСрочности.ДО
	|		КОГДА РасчетыПоСрочности.Счет.Долгосрочный
	|			ТОГДА РасчетыПоСрочности.ДО
	|		ИНАЧЕ 0
	|	КОНЕЦ КАК ДО_ДС,
	|	ВЫБОР
	|		КОГДА РасчетыПоСрочности.СНД <> 0
	|				И ЕСТЬNULL(АналитикаПоСрокам.ДатаПогашения > &КраткосрочныйПериодОтНачала, ЛОЖЬ)
	|			ТОГДА РасчетыПоСрочности.КО
	|		КОГДА ЕСТЬNULL(АналитикаПоСрокам.ДатаПогашения > &КраткосрочныйПериод, ЛОЖЬ)
	|			ТОГДА РасчетыПоСрочности.КО
	|		КОГДА РасчетыПоСрочности.Счет.Долгосрочный
	|			ТОГДА РасчетыПоСрочности.КО
	|		ИНАЧЕ 0
	|	КОНЕЦ КАК КО_ДС,
	|	ВЫБОР
	|		КОГДА РасчетыПоСрочности.СНД <> 0
	|				И ЕСТЬNULL(АналитикаПоСрокам.ДатаПогашения > &КраткосрочныйПериодОтНачала, ЛОЖЬ)
	|			ТОГДА РасчетыПоСрочности.Вычет
	|		КОГДА ЕСТЬNULL(АналитикаПоСрокам.ДатаПогашения > &КраткосрочныйПериод, ЛОЖЬ)
	|			ТОГДА РасчетыПоСрочности.Вычет
	|		КОГДА РасчетыПоСрочности.Счет.Долгосрочный
	|			ТОГДА РасчетыПоСрочности.Вычет
	|		ИНАЧЕ 0
	|	КОНЕЦ КАК Вычет_ДС,
	|	ВЫБОР
	|		КОГДА РасчетыПоСрочности.СНД <> 0
	|				И ЕСТЬNULL(АналитикаПоСрокам.ДатаПогашения > &КраткосрочныйПериодОтНачала, ЛОЖЬ)
	|			ТОГДА РасчетыПоСрочности.ИсключенДО
	|		КОГДА ЕСТЬNULL(АналитикаПоСрокам.ДатаПогашения > &КраткосрочныйПериод, ЛОЖЬ)
	|			ТОГДА РасчетыПоСрочности.ИсключенДО
	|		КОГДА РасчетыПоСрочности.Счет.Долгосрочный
	|			ТОГДА РасчетыПоСрочности.ИсключенДО
	|		ИНАЧЕ 0
	|	КОНЕЦ КАК ИсключенДО_ДС,
	|	ВЫБОР
	|		КОГДА РасчетыПоСрочности.СНД <> 0
	|				И ЕСТЬNULL(АналитикаПоСрокам.ДатаПогашения > &КраткосрочныйПериодОтНачала, ЛОЖЬ)
	|			ТОГДА РасчетыПоСрочности.ИсключенКО
	|		КОГДА ЕСТЬNULL(АналитикаПоСрокам.ДатаПогашения > &КраткосрочныйПериод, ЛОЖЬ)
	|			ТОГДА РасчетыПоСрочности.ИсключенКО
	|		КОГДА РасчетыПоСрочности.Счет.Долгосрочный
	|			ТОГДА РасчетыПоСрочности.ИсключенКО
	|		ИНАЧЕ 0
	|	КОНЕЦ КАК ИсключенКО_ДС,
	|	РасчетыПоСрочности.Счет.Долгосрочный КАК ДолгосрочнаяЗадолженность
	|ПОМЕСТИТЬ ДанныеРасчетовПоСрочности
	|ИЗ
	|	РасчетыПоСрочности КАК РасчетыПоСрочности
	|		ЛЕВОЕ СОЕДИНЕНИЕ АналитикаПоСрокам КАК АналитикаПоСрокам
	|		ПО РасчетыПоСрочности.Организация = АналитикаПоСрокам.Организация
	|			И РасчетыПоСрочности.Субконто1 = АналитикаПоСрокам.Субконто1
	|			И РасчетыПоСрочности.Субконто2 = АналитикаПоСрокам.Субконто2
	|			И РасчетыПоСрочности.Субконто3 = АналитикаПоСрокам.Субконто3
	|
	|ИНДЕКСИРОВАТЬ ПО
	|	Организация,
	|	Счет,
	|	Субконто1,
	|	Субконто2,
	|	Субконто3
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	ДанныеРасчетовПоСрочности.Организация КАК Организация,
	|	ДанныеРасчетовПоСрочности.Счет КАК СчетРасчетов,
	|	ДанныеРасчетовПоСрочности.Субконто1 КАК Субконто1,
	|	ДанныеРасчетовПоСрочности.Субконто2 КАК Субконто2,
	|	ДанныеРасчетовПоСрочности.Субконто3 КАК Субконто3,
	|	ДанныеРасчетовПоСрочности.ПоСрочности КАК ПоСрочности,
	|	ДанныеРасчетовПоСрочности.СНД_ДС КАК СНД,
	|	ДанныеРасчетовПоСрочности.ДО_ДС КАК ДО,
	|	ДанныеРасчетовПоСрочности.КО_ДС КАК КО,
	|	ДанныеРасчетовПоСрочности.СКД_ДС КАК СКД,
	|	ДанныеРасчетовПоСрочности.Вычет_ДС КАК Вычет,
	|	ДанныеРасчетовПоСрочности.ИсключенДО_ДС КАК ИсключенДО,
	|	ДанныеРасчетовПоСрочности.ИсключенКО_ДС КАК ИсключенКО,
	|	ДанныеРасчетовПоСрочности.Переклассифицировано КАК Переклассифицировано,
	|	0 КАК НачалоПросроченная,
	|	0 КАК КонецПросроченная,
	|	ДанныеРасчетовПоСрочности.ДолгосрочнаяЗадолженность КАК ДолгосрочнаяЗадолженность
	|ПОМЕСТИТЬ ДанныеРасчетов
	|ИЗ
	|	ДанныеРасчетовПоСрочности КАК ДанныеРасчетовПоСрочности
	|ГДЕ
	|	ДанныеРасчетовПоСрочности.ДолгосрочнаяЗадолженность
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ДанныеРасчетовПоСрочности.Организация,
	|	ДанныеРасчетовПоСрочности.Счет,
	|	ДанныеРасчетовПоСрочности.Субконто1,
	|	ДанныеРасчетовПоСрочности.Субконто2,
	|	ДанныеРасчетовПоСрочности.Субконто3,
	|	ДанныеРасчетовПоСрочности.ПоСрочности,
	|	ДанныеРасчетовПоСрочности.СНД - ДанныеРасчетовПоСрочности.СНД_ДС,
	|	ДанныеРасчетовПоСрочности.ДО - ДанныеРасчетовПоСрочности.ДО_ДС,
	|	ДанныеРасчетовПоСрочности.КО - ДанныеРасчетовПоСрочности.КО_ДС,
	|	ДанныеРасчетовПоСрочности.СКД - ДанныеРасчетовПоСрочности.СКД_ДС,
	|	ДанныеРасчетовПоСрочности.Вычет - ДанныеРасчетовПоСрочности.Вычет_ДС,
	|	ДанныеРасчетовПоСрочности.ИсключенДО - ДанныеРасчетовПоСрочности.ИсключенДО_ДС,
	|	ДанныеРасчетовПоСрочности.ИсключенКО - ДанныеРасчетовПоСрочности.ИсключенКО_ДС,
	|	ДанныеРасчетовПоСрочности.Переклассифицировано,
	|	ДанныеРасчетовПоСрочности.СНД_Просроченная,
	|	ДанныеРасчетовПоСрочности.СКД_Просроченная,
	|	ДанныеРасчетовПоСрочности.ДолгосрочнаяЗадолженность
	|ИЗ
	|	ДанныеРасчетовПоСрочности КАК ДанныеРасчетовПоСрочности
	|ГДЕ
	|	НЕ ДанныеРасчетовПоСрочности.ДолгосрочнаяЗадолженность
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ВсеРасчеты.Организация,
	|	ВсеРасчеты.Счет,
	|	ВсеРасчеты.Субконто1,
	|	ВсеРасчеты.Субконто2,
	|	ВсеРасчеты.Субконто3,
	|	ВсеРасчеты.ПоСрочности,
	|	ВсеРасчеты.СНД,
	|	ВсеРасчеты.ДО,
	|	ВсеРасчеты.КО,
	|	ВсеРасчеты.СКД,
	|	ВсеРасчеты.Вычет,
	|	ВсеРасчеты.ИсключенДО,
	|	ВсеРасчеты.ИсключенКО,
	|	0,
	|	0,
	|	0,
	|	ВЫБОР
	|		КОГДА ВсеРасчеты.Счет.Долгосрочный 
	|			ТОГДА ИСТИНА 
	|		ИНАЧЕ ЛОЖЬ
	|	КОНЕЦ
	|ИЗ
	|	ВсеРасчеты КАК ВсеРасчеты
	|ГДЕ
	|	НЕ ВсеРасчеты.ПоСрочности
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	Таблица.СчетРодитель КАК СчетРодитель,
	|	Таблица.Счет КАК Счет
	|ПОМЕСТИТЬ Счета
	|ИЗ
	|	&ТаблицаСчетовАренды КАК Таблица
	|
	|ИНДЕКСИРОВАТЬ ПО
	|	Счет
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	ХозрасчетныйОстаткиИОбороты.Организация КАК Организация,
	|	ХозрасчетныйОстаткиИОбороты.Счет КАК Счет,
	|	ХозрасчетныйОстаткиИОбороты.Субконто1 КАК Субконто1,
	|	ХозрасчетныйОстаткиИОбороты.Субконто2 КАК Субконто2,
	|	ХозрасчетныйОстаткиИОбороты.Субконто3 КАК Субконто3,
	|	ХозрасчетныйОстаткиИОбороты.СуммаНачальныйОстатокДт КАК СНД,
	|	ХозрасчетныйОстаткиИОбороты.СуммаОборотДт КАК ДО,
	|	ХозрасчетныйОстаткиИОбороты.СуммаОборотКт КАК КО,
	|	ХозрасчетныйОстаткиИОбороты.СуммаКонечныйОстатокДт КАК СКД,
	|	ВЫБОР
	|		КОГДА ХозрасчетныйОстаткиИОбороты.СуммаОборотДт > 0
	|				И ХозрасчетныйОстаткиИОбороты.СуммаОборотКт > 0
	|			ТОГДА ВЫБОР
	|					КОГДА ХозрасчетныйОстаткиИОбороты.СуммаОборотКт < ХозрасчетныйОстаткиИОбороты.СуммаОборотДт
	|						ТОГДА ХозрасчетныйОстаткиИОбороты.СуммаОборотКт
	|					ИНАЧЕ ХозрасчетныйОстаткиИОбороты.СуммаОборотДт
	|				КОНЕЦ
	|		ИНАЧЕ ВЫБОР
	|				КОГДА ХозрасчетныйОстаткиИОбороты.СуммаОборотДт < 0
	|						И ХозрасчетныйОстаткиИОбороты.СуммаОборотКт < 0
	|					ТОГДА ВЫБОР
	|							КОГДА ХозрасчетныйОстаткиИОбороты.СуммаОборотКт > ХозрасчетныйОстаткиИОбороты.СуммаОборотДт
	|								ТОГДА ХозрасчетныйОстаткиИОбороты.СуммаОборотКт
	|							ИНАЧЕ ХозрасчетныйОстаткиИОбороты.СуммаОборотДт
	|						КОНЕЦ
	|				ИНАЧЕ 0
	|			КОНЕЦ
	|	КОНЕЦ КАК Вычет
	|ПОМЕСТИТЬ АрендныеПлатежи
	|ИЗ
	|	РегистрБухгалтерии.Хозрасчетный.ОстаткиИОбороты(&НачалоПериода, &КонецПериода, Период, , Счет В (&СчетаАвансовПоАренде), &СубконтоКонтрагентыДоговорыДокументы, Организация В (&Организации)) КАК ХозрасчетныйОстаткиИОбороты
	|
	|ИНДЕКСИРОВАТЬ ПО
	|	Счет
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	ДанныеРасчетов.Организация КАК Организация,
	|	ДанныеРасчетов.СчетРасчетов КАК СчетРасчетов,
	|	ДанныеРасчетов.Субконто1 КАК Субконто1,
	|	ДанныеРасчетов.Субконто2 КАК Субконто2,
	|	ДанныеРасчетов.Субконто3 КАК Субконто3,
	|	ДанныеРасчетов.СНД КАК СН,
	|	ДанныеРасчетов.ДО КАК ДО,
	|	ДанныеРасчетов.КО КАК КО,
	|	ДанныеРасчетов.СКД КАК СК,
	|	ДанныеРасчетов.Вычет КАК Вычет,
	|	ДанныеРасчетов.ДолгосрочнаяЗадолженность КАК ДолгосрочнаяЗадолженность
	|ПОМЕСТИТЬ ВсеАвансы
	|ИЗ
	|	ДанныеРасчетов КАК ДанныеРасчетов
	|ГДЕ
	|	ДанныеРасчетов.СчетРасчетов В(&СчетаАвансов)
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	АрендныеПлатежи.Организация,
	|	Счета.СчетРодитель,
	|	АрендныеПлатежи.Субконто1,
	|	АрендныеПлатежи.Субконто2,
	|	АрендныеПлатежи.Субконто3,
	|	СУММА(АрендныеПлатежи.СНД),
	|	СУММА(АрендныеПлатежи.ДО),
	|	СУММА(АрендныеПлатежи.КО),
	|	СУММА(АрендныеПлатежи.СКД),
	|	СУММА(АрендныеПлатежи.Вычет),
	|	ЛОЖЬ
	|ИЗ
	|	Счета КАК Счета
	|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ АрендныеПлатежи КАК АрендныеПлатежи
	|		ПО Счета.Счет = АрендныеПлатежи.Счет
	|
	|СГРУППИРОВАТЬ ПО
	|	Счета.СчетРодитель,
	|	АрендныеПлатежи.Организация,
	|	АрендныеПлатежи.Субконто1,
	|	АрендныеПлатежи.Субконто2,
	|	АрендныеПлатежи.Субконто3
	|
	|ИНДЕКСИРОВАТЬ ПО
	|	Организация,
	|	Субконто1,
	|	Субконто2,
	|	Субконто3
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	СчетаГрупп.Счет КАК Счет,
	|	СчетаГрупп.Группа КАК Группа
	|ПОМЕСТИТЬ СчетаГрупп
	|ИЗ
	|	&СчетаГрупп КАК СчетаГрупп
	|
	|ИНДЕКСИРОВАТЬ ПО
	|	СчетаГрупп.Счет
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	Данные.Организация КАК Организация,
	|	Данные.Группа КАК Группа,
	|	Данные.СчетРасчетов КАК СчетРасчетов,
	|	СУММА(Данные.СНД) КАК СНД,
	|	СУММА(Данные.ДО) КАК ДО,
	|	СУММА(Данные.КО) КАК КО,
	|	СУММА(Данные.СКД) КАК СКД,
	|	СУММА(Данные.Вычет) КАК Вычет,
	|	СУММА(Данные.ИсключенДО) КАК ИсключенДО,
	|	СУММА(Данные.ИсключенКО) КАК ИсключенКО,
	|	СУММА(Данные.Переклассифицировано) КАК Переклассифицировано,
	|	ВЫБОР
	|		КОГДА СУММА(Данные.НачалоПросроченная) < 0
	|			ТОГДА 0
	|		КОГДА СУММА(Данные.НачалоПросроченная) > СУММА(Данные.СНД)
	|			ТОГДА СУММА(Данные.СНД)
	|		ИНАЧЕ СУММА(Данные.НачалоПросроченная)
	|	КОНЕЦ КАК НачалоПросроченная,
	|	ВЫБОР
	|		КОГДА СУММА(Данные.КонецПросроченная) < 0
	|			ТОГДА 0
	|		КОГДА СУММА(Данные.КонецПросроченная) > СУММА(Данные.СКД)
	|			ТОГДА СУММА(Данные.СКД)
	|		ИНАЧЕ СУММА(Данные.КонецПросроченная)
	|	КОНЕЦ КАК КонецПросроченная,
	|	Данные.ДолгосрочнаяЗадолженность КАК ДолгосрочнаяЗадолженность
	|ИЗ
	|	(ВЫБРАТЬ
	|		ДанныеРасчетов.Организация КАК Организация,
	|		ЕСТЬNULL(СчетаГрупп.Группа, -1) КАК Группа,
	|		ДанныеРасчетов.СчетРасчетов КАК СчетРасчетов,
	|		СУММА(ДанныеРасчетов.СНД) КАК СНД,
	|		СУММА(ДанныеРасчетов.ДО) КАК ДО,
	|		СУММА(ДанныеРасчетов.КО) КАК КО,
	|		СУММА(ДанныеРасчетов.СКД) КАК СКД,
	|		СУММА(ДанныеРасчетов.Вычет) КАК Вычет,
	|		СУММА(ДанныеРасчетов.ИсключенДО) КАК ИсключенДО,
	|		СУММА(ДанныеРасчетов.ИсключенКО) КАК ИсключенКО,
	|		СУММА(ДанныеРасчетов.Переклассифицировано) КАК Переклассифицировано,
	|		СУММА(ДанныеРасчетов.НачалоПросроченная) КАК НачалоПросроченная,
	|		СУММА(ДанныеРасчетов.КонецПросроченная) КАК КонецПросроченная,
	|		ДанныеРасчетов.ДолгосрочнаяЗадолженность КАК ДолгосрочнаяЗадолженность
	|	ИЗ
	|		ДанныеРасчетов КАК ДанныеРасчетов
	|			ЛЕВОЕ СОЕДИНЕНИЕ СчетаГрупп КАК СчетаГрупп
	|			ПО ДанныеРасчетов.СчетРасчетов = СчетаГрупп.Счет
	|	
	|	СГРУППИРОВАТЬ ПО
	|		ДанныеРасчетов.Организация,
	|		СчетаГрупп.Группа,
	|		ДанныеРасчетов.СчетРасчетов,
	|		ДанныеРасчетов.ДолгосрочнаяЗадолженность
	|	
	|	ОБЪЕДИНИТЬ ВСЕ
	|	
	|	ВЫБРАТЬ
	|		ДанныеРасчетов.Организация,
	|		ЕСТЬNULL(СчетаГрупп.Группа, -1),
	|		ДанныеРасчетов.СчетРасчетов,
	|		0,
	|		0,
	|		0,
	|		СУММА(ДанныеРасчетов.Переклассифицировано),
	|		0,
	|		0,
	|		0,
	|		СУММА(ДанныеРасчетов.Переклассифицировано),
	|		0,
	|		0,
	|		ДанныеРасчетов.СчетРасчетов.Долгосрочный
	|	ИЗ
	|		ДанныеРасчетов КАК ДанныеРасчетов
	|			ЛЕВОЕ СОЕДИНЕНИЕ СчетаГрупп КАК СчетаГрупп
	|			ПО ДанныеРасчетов.СчетРасчетов = СчетаГрупп.Счет
	|	ГДЕ
	|		ДанныеРасчетов.ДолгосрочнаяЗадолженность
	|	
	|	СГРУППИРОВАТЬ ПО
	|		ДанныеРасчетов.Организация,
	|		СчетаГрупп.Группа,
	|		ДанныеРасчетов.СчетРасчетов,
	|		ДанныеРасчетов.ДолгосрочнаяЗадолженность) КАК Данные
	|
	|СГРУППИРОВАТЬ ПО
	|	Данные.Организация,
	|	Данные.Группа,
	|	Данные.СчетРасчетов,
	|	Данные.ДолгосрочнаяЗадолженность";

КонецФункции

Функция ТекстЗапросаРезервыПоСомнительнымДолгам()
	Возврат
	"ВЫБРАТЬ
	|	ХозрасчетныйОстаткиИОбороты.Организация КАК Организация,
	|	ХозрасчетныйОстаткиИОбороты.Счет КАК Счет,
	|	ВЫРАЗИТЬ(ХозрасчетныйОстаткиИОбороты.Субконто1 КАК Справочник.Контрагенты) КАК Субконто1,
	|	ВЫРАЗИТЬ(ХозрасчетныйОстаткиИОбороты.Субконто2 КАК Справочник.ДоговорыКонтрагентов) КАК Субконто2,
	|	НЕОПРЕДЕЛЕНО КАК Субконто3,
	|	-1 * ХозрасчетныйОстаткиИОбороты.СуммаНачальныйОстаток КАК СНК,
	|	ХозрасчетныйОстаткиИОбороты.СуммаОборотДт КАК ДО,
	|	ХозрасчетныйОстаткиИОбороты.СуммаОборотКт КАК КО,
	|	-1 * ХозрасчетныйОстаткиИОбороты.СуммаКонечныйОстаток КАК СКК,
	|	(ВЫРАЗИТЬ(ХозрасчетныйОстаткиИОбороты.Субконто1 КАК Справочник.Контрагенты)) = ЗНАЧЕНИЕ(Справочник.Контрагенты.ПустаяСсылка) КАК Субконто1ПустаяСсылка,
	|	(ВЫРАЗИТЬ(ХозрасчетныйОстаткиИОбороты.Субконто2 КАК Справочник.ДоговорыКонтрагентов)) = ЗНАЧЕНИЕ(Справочник.ДоговорыКонтрагентов.ПустаяСсылка) КАК Субконто2ПустаяСсылка,
	|	ИСТИНА КАК Субконто3ПустаяСсылка
	|ПОМЕСТИТЬ ВсеРезервы
	|ИЗ
	|	РегистрБухгалтерии.Хозрасчетный.ОстаткиИОбороты(&НачалоПериода, &КонецПериода, Период, , Счет В (&СчетаРезервов), &СубконтоКонтрагентыДоговоры, Организация В (&Организации)) КАК ХозрасчетныйОстаткиИОбороты
	|
	|ИНДЕКСИРОВАТЬ ПО
	|	Организация,
	|	Субконто1,
	|	Субконто2,
	|	Субконто3
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	ДанныеРасчетов.Организация КАК Организация,
	|	ДанныеРасчетов.СчетРасчетов КАК СчетРасчетов,
	|	ДанныеРасчетов.Субконто1 КАК Субконто1,
	|	ДанныеРасчетов.Субконто2 КАК Субконто2,
	|	ДанныеРасчетов.Субконто3 КАК Субконто3,
	|	ДанныеРасчетов.ДолгосрочнаяЗадолженность КАК ДолгосрочнаяЗадолженность,
	|	ВЫБОР
	|		КОГДА ДанныеРасчетов.СНД > 0
	|			ТОГДА ДанныеРасчетов.СНД
	|		ИНАЧЕ 0
	|	КОНЕЦ КАК СН,
	|	ВЫБОР
	|		КОГДА ДанныеРасчетов.ДО > 0
	|			ТОГДА ДанныеРасчетов.ДО
	|		ИНАЧЕ 0
	|	КОНЕЦ КАК ДО,
	|	ВЫБОР
	|		КОГДА ДанныеРасчетов.КО > 0
	|			ТОГДА ДанныеРасчетов.КО
	|		ИНАЧЕ 0
	|	КОНЕЦ КАК КО,
	|	ВЫБОР
	|		КОГДА ДанныеРасчетов.СКД > 0
	|			ТОГДА ДанныеРасчетов.СКД
	|		ИНАЧЕ 0
	|	КОНЕЦ КАК СК
	|ПОМЕСТИТЬ РасчетыПоОбъектамРезервов
	|ИЗ
	|	ДанныеРасчетов КАК ДанныеРасчетов
	|ГДЕ
	|	ДанныеРасчетов.СчетРасчетов В(&СчетаОбъектовРезервов)
	|
	|ИНДЕКСИРОВАТЬ ПО
	|	Организация,
	|	Субконто1,
	|	Субконто2,
	|	Субконто3
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	ВсеРезервы.Организация КАК Организация,
	|	ВсеРезервы.Счет КАК Счет,
	|	ВсеРезервы.Субконто1 КАК Субконто1,
	|	ВсеРезервы.Субконто2 КАК Субконто2,
	|	ВсеРезервы.Субконто3 КАК Субконто3,
	|	Расчеты.СчетРасчетов КАК СчетРасчетов,
	|	Расчеты.ДолгосрочнаяЗадолженность КАК ДолгосрочнаяЗадолженность,
	|	СУММА(Расчеты.СН) КАК Расчет_СН,
	|	СУММА(Расчеты.ДО) КАК Расчет_ДО,
	|	СУММА(Расчеты.КО) КАК Расчет_КО,
	|	СУММА(Расчеты.СК) КАК Расчет_СК
	|ПОМЕСТИТЬ РезервыПоСчетамРасчетов
	|ИЗ
	|	ВсеРезервы КАК ВсеРезервы
	|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РасчетыПоОбъектамРезервов КАК Расчеты
	|		ПО ВсеРезервы.Организация = Расчеты.Организация
	|			И ВсеРезервы.Субконто1 = Расчеты.Субконто1
	|			И ВсеРезервы.Субконто2 = Расчеты.Субконто2
	|			И ВсеРезервы.Субконто3 = Расчеты.Субконто3
	|			И (НЕ ВсеРезервы.Субконто1ПустаяСсылка)
	|			И (НЕ ВсеРезервы.Субконто2ПустаяСсылка)
	|			И (НЕ ВсеРезервы.Субконто3ПустаяСсылка)
	|
	|СГРУППИРОВАТЬ ПО
	|	ВсеРезервы.Организация,
	|	ВсеРезервы.Счет,
	|	ВсеРезервы.Субконто1,
	|	ВсеРезервы.Субконто2,
	|	ВсеРезервы.Субконто3,
	|	Расчеты.СчетРасчетов,
	|	Расчеты.ДолгосрочнаяЗадолженность
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ВсеРезервы.Организация,
	|	ВсеРезервы.Счет,
	|	ВсеРезервы.Субконто1,
	|	ВсеРезервы.Субконто2,
	|	ВсеРезервы.Субконто3,
	|	Расчеты.СчетРасчетов,
	|	Расчеты.ДолгосрочнаяЗадолженность,
	|	СУММА(Расчеты.СН),
	|	СУММА(Расчеты.ДО),
	|	СУММА(Расчеты.КО),
	|	СУММА(Расчеты.СК)
	|ИЗ
	|	ВсеРезервы КАК ВсеРезервы
	|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РасчетыПоОбъектамРезервов КАК Расчеты
	|		ПО ВсеРезервы.Организация = Расчеты.Организация
	|			И ВсеРезервы.Субконто1 = Расчеты.Субконто1
	|			И ВсеРезервы.Субконто2 = Расчеты.Субконто2
	|			И (НЕ ВсеРезервы.Субконто1ПустаяСсылка)
	|			И (НЕ ВсеРезервы.Субконто2ПустаяСсылка)
	|			И (ВсеРезервы.Субконто3ПустаяСсылка)
	|
	|СГРУППИРОВАТЬ ПО
	|	ВсеРезервы.Организация,
	|	ВсеРезервы.Счет,
	|	ВсеРезервы.Субконто1,
	|	ВсеРезервы.Субконто2,
	|	ВсеРезервы.Субконто3,
	|	Расчеты.СчетРасчетов,
	|	Расчеты.ДолгосрочнаяЗадолженность
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ВсеРезервы.Организация,
	|	ВсеРезервы.Счет,
	|	ВсеРезервы.Субконто1,
	|	ВсеРезервы.Субконто2,
	|	ВсеРезервы.Субконто3,
	|	Расчеты.СчетРасчетов,
	|	Расчеты.ДолгосрочнаяЗадолженность,
	|	СУММА(Расчеты.СН),
	|	СУММА(Расчеты.ДО),
	|	СУММА(Расчеты.КО),
	|	СУММА(Расчеты.СК)
	|ИЗ
	|	ВсеРезервы КАК ВсеРезервы
	|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РасчетыПоОбъектамРезервов КАК Расчеты
	|		ПО ВсеРезервы.Организация = Расчеты.Организация
	|			И ВсеРезервы.Субконто1 = Расчеты.Субконто1
	|			И (НЕ ВсеРезервы.Субконто1ПустаяСсылка)
	|			И (ВсеРезервы.Субконто2ПустаяСсылка)
	|			И (ВсеРезервы.Субконто3ПустаяСсылка)
	|
	|СГРУППИРОВАТЬ ПО
	|	ВсеРезервы.Организация,
	|	ВсеРезервы.Счет,
	|	ВсеРезервы.Субконто1,
	|	ВсеРезервы.Субконто2,
	|	ВсеРезервы.Субконто3,
	|	Расчеты.СчетРасчетов,
	|	Расчеты.ДолгосрочнаяЗадолженность
	|
	|ИНДЕКСИРОВАТЬ ПО
	|	Организация,
	|	Счет,
	|	Субконто1,
	|	Субконто2,
	|	Субконто3
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	РезервыПоСчетамРасчетов.Организация КАК Организация,
	|	РезервыПоСчетамРасчетов.Субконто1 КАК Субконто1,
	|	РезервыПоСчетамРасчетов.Субконто2 КАК Субконто2,
	|	РезервыПоСчетамРасчетов.Субконто3 КАК Субконто3,
	|	СУММА(1) КАК КоличествоЗаписей
	|ПОМЕСТИТЬ СовпадающаяАналитикаРезервы
	|ИЗ
	|	РезервыПоСчетамРасчетов КАК РезервыПоСчетамРасчетов
	|
	|СГРУППИРОВАТЬ ПО
	|	РезервыПоСчетамРасчетов.Организация,
	|	РезервыПоСчетамРасчетов.Субконто1,
	|	РезервыПоСчетамРасчетов.Субконто2,
	|	РезервыПоСчетамРасчетов.Субконто3
	|
	|ИМЕЮЩИЕ
	|	(КОЛИЧЕСТВО(РАЗЛИЧНЫЕ РезервыПоСчетамРасчетов.СчетРасчетов) > 1
	|		ИЛИ КОЛИЧЕСТВО(РАЗЛИЧНЫЕ РезервыПоСчетамРасчетов.ДолгосрочнаяЗадолженность) > 1)
	|
	|ИНДЕКСИРОВАТЬ ПО
	|	Организация,
	|	Субконто1,
	|	Субконто2,
	|	Субконто3
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	ВсеРезервы.Организация КАК Организация,
	|	ВсеРезервы.Счет КАК Счет,
	|	ВЫБОР
	|		КОГДА НЕ СовпадающаяАналитика.КоличествоЗаписей ЕСТЬ NULL
	|			ТОГДА ВсеРезервы.Субконто1
	|		ИНАЧЕ ЗНАЧЕНИЕ(Справочник.Контрагенты.ПустаяСсылка)
	|	КОНЕЦ КАК Субконто1,
	|	ВЫБОР
	|		КОГДА НЕ СовпадающаяАналитика.КоличествоЗаписей ЕСТЬ NULL
	|			ТОГДА ВсеРезервы.Субконто2
	|		ИНАЧЕ ЗНАЧЕНИЕ(Справочник.ДоговорыКонтрагентов.ПустаяСсылка)
	|	КОНЕЦ КАК Субконто2,
	|	ВЫБОР
	|		КОГДА НЕ СовпадающаяАналитика.КоличествоЗаписей ЕСТЬ NULL
	|			ТОГДА ВсеРезервы.Субконто3
	|		ИНАЧЕ НЕОПРЕДЕЛЕНО
	|	КОНЕЦ КАК Субконто3,
	|	СУММА(ВсеРезервы.СНК) КАК СНК,
	|	СУММА(ВсеРезервы.ДО) КАК ДО,
	|	СУММА(ВсеРезервы.КО) КАК КО,
	|	СУММА(ВсеРезервы.СКК) КАК СКК,
	|	ЕСТЬNULL(РезервыПоСчетамРасчетов.СчетРасчетов, ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.ПустаяСсылка)) КАК СчетРасчетов,
	|	ЕСТЬNULL(РезервыПоСчетамРасчетов.ДолгосрочнаяЗадолженность, ЛОЖЬ) КАК ДолгосрочнаяЗадолженность,
	|	СУММА(ЕСТЬNULL(РезервыПоСчетамРасчетов.Расчет_СН, 0)) КАК Расчет_СН,
	|	СУММА(ЕСТЬNULL(РезервыПоСчетамРасчетов.Расчет_КО, 0)) КАК Расчет_КО,
	|	СУММА(ЕСТЬNULL(РезервыПоСчетамРасчетов.Расчет_СК, 0)) КАК Расчет_СК,
	|	НЕ СовпадающаяАналитика.КоличествоЗаписей ЕСТЬ NULL КАК СовпадающиеЗаписи
	|ПОМЕСТИТЬ РезервыПоСчетамРасчетовСгруппированные
	|ИЗ
	|	ВсеРезервы КАК ВсеРезервы
	|		ЛЕВОЕ СОЕДИНЕНИЕ РезервыПоСчетамРасчетов КАК РезервыПоСчетамРасчетов
	|			ЛЕВОЕ СОЕДИНЕНИЕ СовпадающаяАналитикаРезервы КАК СовпадающаяАналитика
	|			ПО РезервыПоСчетамРасчетов.Организация = СовпадающаяАналитика.Организация
	|				И РезервыПоСчетамРасчетов.Субконто1 = СовпадающаяАналитика.Субконто1
	|				И РезервыПоСчетамРасчетов.Субконто2 = СовпадающаяАналитика.Субконто2
	|				И РезервыПоСчетамРасчетов.Субконто3 = СовпадающаяАналитика.Субконто3
	|		ПО ВсеРезервы.Организация = РезервыПоСчетамРасчетов.Организация
	|			И ВсеРезервы.Счет = РезервыПоСчетамРасчетов.Счет
	|			И ВсеРезервы.Субконто1 = РезервыПоСчетамРасчетов.Субконто1
	|			И ВсеРезервы.Субконто2 = РезервыПоСчетамРасчетов.Субконто2
	|			И ВсеРезервы.Субконто3 = РезервыПоСчетамРасчетов.Субконто3
	|
	|СГРУППИРОВАТЬ ПО
	|	ВсеРезервы.Организация,
	|	ВсеРезервы.Счет,
	|	ВЫБОР
	|		КОГДА НЕ СовпадающаяАналитика.КоличествоЗаписей ЕСТЬ NULL
	|			ТОГДА ВсеРезервы.Субконто1
	|		ИНАЧЕ ЗНАЧЕНИЕ(Справочник.Контрагенты.ПустаяСсылка)
	|	КОНЕЦ,
	|	ВЫБОР
	|		КОГДА НЕ СовпадающаяАналитика.КоличествоЗаписей ЕСТЬ NULL
	|			ТОГДА ВсеРезервы.Субконто2
	|		ИНАЧЕ ЗНАЧЕНИЕ(Справочник.ДоговорыКонтрагентов.ПустаяСсылка)
	|	КОНЕЦ,
	|	ВЫБОР
	|		КОГДА НЕ СовпадающаяАналитика.КоличествоЗаписей ЕСТЬ NULL
	|			ТОГДА ВсеРезервы.Субконто3
	|		ИНАЧЕ НЕОПРЕДЕЛЕНО
	|	КОНЕЦ,
	|	ЕСТЬNULL(РезервыПоСчетамРасчетов.СчетРасчетов, ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.ПустаяСсылка)),
	|	ЕСТЬNULL(РезервыПоСчетамРасчетов.ДолгосрочнаяЗадолженность, ЛОЖЬ),
	|	НЕ СовпадающаяАналитика.КоличествоЗаписей ЕСТЬ NULL
	|
	|ИНДЕКСИРОВАТЬ ПО
	|	Организация,
	|	Субконто1,
	|	Субконто2,
	|	Субконто3
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	РезервыПоСчетамРасчетовСгруппированные.Организация КАК Организация,
	|	РезервыПоСчетамРасчетовСгруппированные.Счет КАК Счет,
	|	РезервыПоСчетамРасчетовСгруппированные.Субконто1 КАК Субконто1,
	|	РезервыПоСчетамРасчетовСгруппированные.Субконто2 КАК Субконто2,
	|	РезервыПоСчетамРасчетовСгруппированные.Субконто3 КАК Субконто3,
	|	СУММА(РезервыПоСчетамРасчетовСгруппированные.Расчет_СН) КАК ИтогоРасчет_СН,
	|	СУММА(РезервыПоСчетамРасчетовСгруппированные.Расчет_КО) КАК ИтогоРасчет_КО,
	|	СУММА(РезервыПоСчетамРасчетовСгруппированные.Расчет_СК) КАК ИтогоРасчет_СК
	|ПОМЕСТИТЬ ИтогоРасчетыПоАналитике
	|ИЗ
	|	РезервыПоСчетамРасчетовСгруппированные КАК РезервыПоСчетамРасчетовСгруппированные
	|
	|СГРУППИРОВАТЬ ПО
	|	РезервыПоСчетамРасчетовСгруппированные.Организация,
	|	РезервыПоСчетамРасчетовСгруппированные.Счет,
	|	РезервыПоСчетамРасчетовСгруппированные.Субконто1,
	|	РезервыПоСчетамРасчетовСгруппированные.Субконто2,
	|	РезервыПоСчетамРасчетовСгруппированные.Субконто3
	|
	|ИНДЕКСИРОВАТЬ ПО
	|	Организация,
	|	Субконто1,
	|	Субконто2,
	|	Субконто3
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	РезервыПоСчетамРасчетовСгруппированные.Организация КАК Организация,
	|	РезервыПоСчетамРасчетовСгруппированные.Счет КАК Счет,
	|	РезервыПоСчетамРасчетовСгруппированные.Субконто1 КАК Субконто1,
	|	РезервыПоСчетамРасчетовСгруппированные.Субконто2 КАК Субконто2,
	|	РезервыПоСчетамРасчетовСгруппированные.Субконто3 КАК Субконто3,
	|	РезервыПоСчетамРасчетовСгруппированные.СНК КАК СНК,
	|	РезервыПоСчетамРасчетовСгруппированные.ДО КАК ДО,
	|	РезервыПоСчетамРасчетовСгруппированные.КО КАК КО,
	|	РезервыПоСчетамРасчетовСгруппированные.СКК КАК СКК,
	|	РезервыПоСчетамРасчетовСгруппированные.СчетРасчетов КАК СчетРасчетов,
	|	РезервыПоСчетамРасчетовСгруппированные.ДолгосрочнаяЗадолженность КАК ДолгосрочнаяЗадолженность,
	|	РезервыПоСчетамРасчетовСгруппированные.Расчет_СН КАК Расчет_СН,
	|	РезервыПоСчетамРасчетовСгруппированные.Расчет_КО КАК Расчет_КО,
	|	РезервыПоСчетамРасчетовСгруппированные.Расчет_СК КАК Расчет_СК,
	|	РезервыПоСчетамРасчетовСгруппированные.СовпадающиеЗаписи КАК СовпадающиеЗаписи,
	|	ИтогоРасчетыПоАналитике.ИтогоРасчет_СН КАК ИтогоРасчет_СН,
	|	ИтогоРасчетыПоАналитике.ИтогоРасчет_КО КАК ИтогоРасчет_КО,
	|	ИтогоРасчетыПоАналитике.ИтогоРасчет_СК КАК ИтогоРасчет_СК
	|ИЗ
	|	РезервыПоСчетамРасчетовСгруппированные КАК РезервыПоСчетамРасчетовСгруппированные
	|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ ИтогоРасчетыПоАналитике КАК ИтогоРасчетыПоАналитике
	|		ПО РезервыПоСчетамРасчетовСгруппированные.Организация = ИтогоРасчетыПоАналитике.Организация
	|			И РезервыПоСчетамРасчетовСгруппированные.Счет = ИтогоРасчетыПоАналитике.Счет
	|			И РезервыПоСчетамРасчетовСгруппированные.Субконто1 = ИтогоРасчетыПоАналитике.Субконто1
	|			И РезервыПоСчетамРасчетовСгруппированные.Субконто2 = ИтогоРасчетыПоАналитике.Субконто2
	|			И РезервыПоСчетамРасчетовСгруппированные.Субконто3 = ИтогоРасчетыПоАналитике.Субконто3";
	
КонецФункции

Функция ТекстЗапросаСписаниеНаРасходы(НаборыСчетов, КонтекстРаздела)
	
	ШаблонТекстаЗапроса =
	"ВЫБРАТЬ
	|	ХозрасчетныйОборотыДтКт.Организация КАК Организация,
	|	ХозрасчетныйОборотыДтКт.СчетДт КАК СчетДт,
	|	ХозрасчетныйОборотыДтКт.СчетКт КАК СчетКт,
	|	ЛОЖЬ КАК ПоСрочности,
	|	ХозрасчетныйОборотыДтКт.СубконтоКт1 КАК Субконто1,
	|	ХозрасчетныйОборотыДтКт.СубконтоКт2 КАК Субконто2,
	|	ХозрасчетныйОборотыДтКт.СубконтоКт3 КАК Субконто3,
	|	ХозрасчетныйОборотыДтКт.СубконтоДт1 КАК СубконтоОтбора,
	|	ХозрасчетныйОборотыДтКт.СуммаОборот КАК СуммаОборот
	|ИЗ
	|	РегистрБухгалтерии.Хозрасчетный.ОборотыДтКт(&НачалоПериода, &КонецПериода, Период, СчетДт В (&СчетаРасходов), &СубконтоПрочиеДоходыРасходы, СчетКт В (&СписокСчетов), , Организация В (&Организации)) КАК ХозрасчетныйОборотыДтКт";
	
	ТекстыЗапросов = Новый Массив;
	ТекстыЗапросов.Добавить(ТекстЗапросаОборотыДтКт(НаборыСчетов, ШаблонТекстаЗапроса, "ПрочиеРасходы"));
	
	ТекстЗапроса =
	"ВЫБРАТЬ
	|	ДанныеПоСрочности.Организация КАК Организация,
	|	ДанныеПоСрочности.СчетДт КАК СчетРасходов,
	|	ДанныеПоСрочности.СчетКт КАК СчетРасчетов,
	|	ДанныеПоСрочности.ПоСрочности КАК ПоСрочности,
	|	ДанныеПоСрочности.Субконто1 КАК Субконто1,
	|	ДанныеПоСрочности.Субконто2 КАК Субконто2,
	|	ДанныеПоСрочности.Субконто3 КАК Субконто3,
	|	ДанныеПоСрочности.СуммаОборот КАК СуммаОборот
	|ПОМЕСТИТЬ ВсеСписания
	|ИЗ
	|	ДанныеПоСрочности КАК ДанныеПоСрочности
	|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ ПланВидовХарактеристик.СтатьиРасходов КАК ПрочиеДоходыИРасходы
	|		ПО ДанныеПоСрочности.СубконтоОтбора = ПрочиеДоходыИРасходы.Ссылка
	|ГДЕ
	|	ПрочиеДоходыИРасходы.ВидПрочихДоходовИРасходов = &ВидПДРСписание
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ДанныеПоСрочности.Организация КАК Организация,
	|	ДанныеПоСрочности.СчетДт КАК СчетРасходов,
	|	ДанныеПоСрочности.СчетКт КАК СчетРасчетов,
	|	ДанныеПоСрочности.ПоСрочности КАК ПоСрочности,
	|	ДанныеПоСрочности.Субконто1 КАК Субконто1,
	|	ДанныеПоСрочности.Субконто2 КАК Субконто2,
	|	ДанныеПоСрочности.Субконто3 КАК Субконто3,
	|	ДанныеПоСрочности.СуммаОборот КАК СуммаОборот
	|ИЗ
	|	ДанныеПоСрочности КАК ДанныеПоСрочности
	|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ ПланВидовХарактеристик.СтатьиДоходов КАК ПрочиеДоходыИРасходы
	|		ПО ДанныеПоСрочности.СубконтоОтбора = ПрочиеДоходыИРасходы.Ссылка
	|ГДЕ
	|	ПрочиеДоходыИРасходы.ВидПрочихДоходовИРасходов = &ВидПДРСписание
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	Авансы.Организация,
	|	Авансы.СчетДт,
	|	Авансы.СчетКт,
	|	Авансы.ПоСрочности,
	|	Авансы.Субконто1,
	|	Авансы.Субконто2,
	|	Авансы.Субконто3,
	|	Авансы.СуммаОборот
	|ИЗ
	|	Авансы КАК Авансы
	|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ ПланВидовХарактеристик.СтатьиРасходов КАК ПрочиеДоходыИРасходы
	|		ПО Авансы.СубконтоОтбора = ПрочиеДоходыИРасходы.Ссылка
	|ГДЕ
	|	ПрочиеДоходыИРасходы.ВидПрочихДоходовИРасходов = &ВидПДРСписание
	|	И &РазделятьАвансыПоВидамАктива
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	Авансы.Организация,
	|	Авансы.СчетДт,
	|	Авансы.СчетКт,
	|	Авансы.ПоСрочности,
	|	Авансы.Субконто1,
	|	Авансы.Субконто2,
	|	Авансы.Субконто3,
	|	Авансы.СуммаОборот
	|ИЗ
	|	Авансы КАК Авансы
	|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ ПланВидовХарактеристик.СтатьиДоходов КАК ПрочиеДоходыИРасходы
	|		ПО Авансы.СубконтоОтбора = ПрочиеДоходыИРасходы.Ссылка
	|ГДЕ
	|	ПрочиеДоходыИРасходы.ВидПрочихДоходовИРасходов = &ВидПДРСписание
	|	И &РазделятьАвансыПоВидамАктива
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	РасчетыПоСтрахованию.Организация,
	|	РасчетыПоСтрахованию.СчетДт,
	|	РасчетыПоСтрахованию.СчетКт,
	|	РасчетыПоСтрахованию.ПоСрочности,
	|	РасчетыПоСтрахованию.Субконто1,
	|	РасчетыПоСтрахованию.Субконто2,
	|	РасчетыПоСтрахованию.Субконто3,
	|	РасчетыПоСтрахованию.СуммаОборот
	|ИЗ
	|	РасчетыПоСтрахованию КАК РасчетыПоСтрахованию
	|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ ПланВидовХарактеристик.СтатьиРасходов КАК ПрочиеДоходыИРасходы
	|		ПО РасчетыПоСтрахованию.СубконтоОтбора = ПрочиеДоходыИРасходы.Ссылка
	|			И РасчетыПоСтрахованию.Субконто2 = ПрочиеДоходыИРасходы.Ссылка
	|ГДЕ
	|	ПрочиеДоходыИРасходы.ВидПрочихДоходовИРасходов = &ВидПДРСписание
	|	И ПрочиеДоходыИРасходы.ВидАктива = &ВидАктиваДебиторскаяЗадолженность
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	РасходыБудущихПериодов.Организация,
	|	РасходыБудущихПериодов.СчетДт,
	|	РасходыБудущихПериодов.СчетКт,
	|	РасходыБудущихПериодов.ПоСрочности,
	|	РасходыБудущихПериодов.Субконто1,
	|	РасходыБудущихПериодов.Субконто2,
	|	РасходыБудущихПериодов.Субконто3,
	|	РасходыБудущихПериодов.СуммаОборот
	|ИЗ
	|	РасходыБудущихПериодов КАК РасходыБудущихПериодов
	|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ ПланВидовХарактеристик.СтатьиРасходов КАК ПрочиеДоходыИРасходы
	|		ПО РасходыБудущихПериодов.СубконтоОтбора = ПрочиеДоходыИРасходы.Ссылка
	|			И РасходыБудущихПериодов.Субконто1 = ПрочиеДоходыИРасходы.Ссылка
	|ГДЕ
	|	ПрочиеДоходыИРасходы.ВидПрочихДоходовИРасходов = &ВидПДРСписание
	|	И ПрочиеДоходыИРасходы.ВидАктива = &ВидАктиваДебиторскаяЗадолженность
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ДанныеБезСрочности.Организация,
	|	ДанныеБезСрочности.СчетДт,
	|	ДанныеБезСрочности.СчетКт,
	|	ДанныеБезСрочности.ПоСрочности,
	|	ДанныеБезСрочности.Субконто1,
	|	ДанныеБезСрочности.Субконто2,
	|	ДанныеБезСрочности.Субконто3,
	|	ДанныеБезСрочности.СуммаОборот
	|ИЗ
	|	ДанныеБезСрочности КАК ДанныеБезСрочности
	|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ ПланВидовХарактеристик.СтатьиРасходов КАК ПрочиеДоходыИРасходы
	|		ПО ДанныеБезСрочности.СубконтоОтбора = ПрочиеДоходыИРасходы.Ссылка
	|ГДЕ
	|	ПрочиеДоходыИРасходы.ВидПрочихДоходовИРасходов = &ВидПДРСписание
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ДанныеБезСрочности.Организация,
	|	ДанныеБезСрочности.СчетДт,
	|	ДанныеБезСрочности.СчетКт,
	|	ДанныеБезСрочности.ПоСрочности,
	|	ДанныеБезСрочности.Субконто1,
	|	ДанныеБезСрочности.Субконто2,
	|	ДанныеБезСрочности.Субконто3,
	|	ДанныеБезСрочности.СуммаОборот
	|ИЗ
	|	ДанныеБезСрочности КАК ДанныеБезСрочности
	|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ ПланВидовХарактеристик.СтатьиДоходов КАК ПрочиеДоходыИРасходы
	|		ПО ДанныеБезСрочности.СубконтоОтбора = ПрочиеДоходыИРасходы.Ссылка
	|ГДЕ
	|	ПрочиеДоходыИРасходы.ВидПрочихДоходовИРасходов = &ВидПДРСписание
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	ВсеСписания.Организация КАК Организация,
	|	ВсеСписания.СчетРасходов КАК СчетРасходов,
	|	ВсеСписания.СчетРасчетов КАК СчетРасчетов,
	|	(ЕСТЬNULL(ДанныеРасчетовПоСрочности.ДолгосрочнаяЗадолженность, ЛОЖЬ)
	|		ИЛИ ВсеСписания.СчетРасчетов.Долгосрочный) КАК ДолгосрочнаяЗадолженность,
	|	СУММА(ВсеСписания.СуммаОборот) КАК СуммаСписаний
	|ИЗ
	|	ВсеСписания КАК ВсеСписания
	|		ЛЕВОЕ СОЕДИНЕНИЕ ДанныеРасчетовПоСрочности КАК ДанныеРасчетовПоСрочности
	|		ПО ВсеСписания.Организация = ДанныеРасчетовПоСрочности.Организация
	|			И ВсеСписания.СчетРасчетов = ДанныеРасчетовПоСрочности.Счет
	|			И ВсеСписания.Субконто1 = ДанныеРасчетовПоСрочности.Субконто1
	|			И ВсеСписания.Субконто2 = ДанныеРасчетовПоСрочности.Субконто2
	|			И ВсеСписания.Субконто3 = ДанныеРасчетовПоСрочности.Субконто3
	|ГДЕ
	|	ВсеСписания.ПоСрочности
	|
	|СГРУППИРОВАТЬ ПО
	|	ВсеСписания.Организация,
	|	ВсеСписания.СчетРасходов,
	|	ВсеСписания.СчетРасчетов,
	|	(ЕСТЬNULL(ДанныеРасчетовПоСрочности.ДолгосрочнаяЗадолженность, ЛОЖЬ)
	|		ИЛИ ВсеСписания.СчетРасчетов.Долгосрочный)
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ВсеСписания.Организация,
	|	ВсеСписания.СчетРасходов,
	|	ВсеСписания.СчетРасчетов,
	|	ВсеСписания.СчетРасчетов.Долгосрочный,
	|	СУММА(ВсеСписания.СуммаОборот)
	|ИЗ
	|	ВсеСписания КАК ВсеСписания
	|ГДЕ
	|	НЕ ВсеСписания.ПоСрочности
	|
	|СГРУППИРОВАТЬ ПО
	|	ВсеСписания.Организация,
	|	ВсеСписания.СчетРасходов,
	|	ВсеСписания.СчетРасчетов";
	
	Если КонтекстРаздела.РазделятьАвансыПоВидамАктивов Тогда
		ТекстЗапроса = СтрЗаменить(ТекстЗапроса, "&РазделятьАвансыПоВидамАктива", "НЕ Авансы.Субконто2.ВидАктива В (&ИсключаемыеВидыАктиваАвансов)");
	Иначе
		ТекстЗапроса = СтрЗаменить(ТекстЗапроса, "&РазделятьАвансыПоВидамАктива", "ИСТИНА");
	КонецЕсли;
	
	ТекстыЗапросов.Добавить(ТекстЗапроса);
	
	Возврат СтрСоединить(ТекстыЗапросов, Общегоназначения.РазделительПакетаЗапросов());

КонецФункции

Функция ТекстЗапросаНачислениеПроцентовШтрафовДебиторская(НаборыСчетов, КонтекстРаздела)
	
	ШаблонТекстаЗапроса =
	"ВЫБРАТЬ
	|	ХозрасчетныйОборотыДтКт.Организация КАК Организация,
	|	ХозрасчетныйОборотыДтКт.СчетДт КАК СчетДт,
	|	ХозрасчетныйОборотыДтКт.СчетКт КАК СчетКт,
	|	ЛОЖЬ КАК ПоСрочности,
	|	ХозрасчетныйОборотыДтКт.СубконтоДт1 КАК Субконто1,
	|	ХозрасчетныйОборотыДтКт.СубконтоДт2 КАК Субконто2,
	|	ХозрасчетныйОборотыДтКт.СубконтоДт3 КАК Субконто3,
	|	ХозрасчетныйОборотыДтКт.СубконтоКт1 КАК СубконтоОтбора,
	|	ХозрасчетныйОборотыДтКт.СуммаОборот КАК СуммаОборот
	|ПОМЕСТИТЬ ПрочиеДоходыПоСрочности
	|ИЗ
	|	РегистрБухгалтерии.Хозрасчетный.ОборотыДтКт(&НачалоПериода, &КонецПериода, Период, СчетДт В (&СписокСчетов), , СчетКт В (&СчетаДоходов), &СубконтоПрочиеДоходыРасходы, Организация В (&Организации)) КАК ХозрасчетныйОборотыДтКт";
	
	ТекстыЗапросов = Новый Массив;
	ТекстыЗапросов.Добавить(ТекстЗапросаОборотыДтКт(НаборыСчетов, ШаблонТекстаЗапроса, "ПрочиеДоходы"));
	ТекстЗапроса = 
	"ВЫБРАТЬ
	|	ДанныеПоСрочности.Организация КАК Организация,
	|	ДанныеПоСрочности.СчетДт КАК СчетРасчетов,
	|	ДанныеПоСрочности.СчетКт КАК СчетДоходов,
	|	ДанныеПоСрочности.ПоСрочности КАК ПоСрочности,
	|	ДанныеПоСрочности.Субконто1 КАК Субконто1,
	|	ДанныеПоСрочности.Субконто2 КАК Субконто2,
	|	ДанныеПоСрочности.Субконто3 КАК Субконто3,
	|	ДанныеПоСрочности.СуммаОборот КАК СуммаОборот
	|ПОМЕСТИТЬ ВсеНачисления
	|ИЗ
	|	ДанныеПоСрочности КАК ДанныеПоСрочности
	|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ ПланВидовХарактеристик.СтатьиРасходов КАК ПрочиеДоходыИРасходы
	|		ПО ДанныеПоСрочности.СубконтоОтбора = ПрочиеДоходыИРасходы.Ссылка
	|ГДЕ
	|	ПрочиеДоходыИРасходы.ВидПрочихДоходовИРасходов = &ВидПДРНачисление
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ДанныеПоСрочности.Организация КАК Организация,
	|	ДанныеПоСрочности.СчетДт КАК СчетРасчетов,
	|	ДанныеПоСрочности.СчетКт КАК СчетДоходов,
	|	ДанныеПоСрочности.ПоСрочности КАК ПоСрочности,
	|	ДанныеПоСрочности.Субконто1 КАК Субконто1,
	|	ДанныеПоСрочности.Субконто2 КАК Субконто2,
	|	ДанныеПоСрочности.Субконто3 КАК Субконто3,
	|	ДанныеПоСрочности.СуммаОборот КАК СуммаОборот
	|ИЗ
	|	ДанныеПоСрочности КАК ДанныеПоСрочности
	|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ ПланВидовХарактеристик.СтатьиДоходов КАК ПрочиеДоходыИРасходы
	|		ПО ДанныеПоСрочности.СубконтоОтбора = ПрочиеДоходыИРасходы.Ссылка
	|ГДЕ
	|	ПрочиеДоходыИРасходы.ВидПрочихДоходовИРасходов = &ВидПДРНачисление
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	Авансы.Организация,
	|	Авансы.СчетДт,
	|	Авансы.СчетКт,
	|	Авансы.ПоСрочности,
	|	Авансы.Субконто1,
	|	Авансы.Субконто2,
	|	Авансы.Субконто3,
	|	Авансы.СуммаОборот
	|ИЗ
	|	Авансы КАК Авансы
	|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ ПланВидовХарактеристик.СтатьиРасходов КАК ПрочиеДоходыИРасходы
	|		ПО Авансы.СубконтоОтбора = ПрочиеДоходыИРасходы.Ссылка
	|ГДЕ
	|	ПрочиеДоходыИРасходы.ВидПрочихДоходовИРасходов = &ВидПДРНачисление
	|	И &РазделятьАвансыПоВидамАктива
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	Авансы.Организация,
	|	Авансы.СчетДт,
	|	Авансы.СчетКт,
	|	Авансы.ПоСрочности,
	|	Авансы.Субконто1,
	|	Авансы.Субконто2,
	|	Авансы.Субконто3,
	|	Авансы.СуммаОборот
	|ИЗ
	|	Авансы КАК Авансы
	|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ ПланВидовХарактеристик.СтатьиДоходов КАК ПрочиеДоходыИРасходы
	|		ПО Авансы.СубконтоОтбора = ПрочиеДоходыИРасходы.Ссылка
	|ГДЕ
	|	ПрочиеДоходыИРасходы.ВидПрочихДоходовИРасходов = &ВидПДРНачисление
	|	И &РазделятьАвансыПоВидамАктива
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	РасчетыПоСтрахованию.Организация,
	|	РасчетыПоСтрахованию.СчетДт,
	|	РасчетыПоСтрахованию.СчетКт,
	|	РасчетыПоСтрахованию.ПоСрочности,
	|	РасчетыПоСтрахованию.Субконто1,
	|	РасчетыПоСтрахованию.Субконто2,
	|	РасчетыПоСтрахованию.Субконто3,
	|	РасчетыПоСтрахованию.СуммаОборот
	|ИЗ
	|	РасчетыПоСтрахованию КАК РасчетыПоСтрахованию
	|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ ПланВидовХарактеристик.СтатьиРасходов КАК ПрочиеДоходыИРасходы
	|		ПО РасчетыПоСтрахованию.Субконто2 = ПрочиеДоходыИРасходы.Ссылка
	|ГДЕ
	|	ПрочиеДоходыИРасходы.ВидПрочихДоходовИРасходов = &ВидПДРНачисление
	|	И ПрочиеДоходыИРасходы.ВидАктива = &ВидАктиваДебиторскаяЗадолженность
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	РасходыБудущихПериодов.Организация,
	|	РасходыБудущихПериодов.СчетДт,
	|	РасходыБудущихПериодов.СчетКт,
	|	РасходыБудущихПериодов.ПоСрочности,
	|	РасходыБудущихПериодов.Субконто1,
	|	РасходыБудущихПериодов.Субконто2,
	|	РасходыБудущихПериодов.Субконто3,
	|	РасходыБудущихПериодов.СуммаОборот
	|ИЗ
	|	РасходыБудущихПериодов КАК РасходыБудущихПериодов
	|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ ПланВидовХарактеристик.СтатьиРасходов КАК ПрочиеДоходыИРасходы
	|			ПО РасходыБудущихПериодов.Субконто1 = ПрочиеДоходыИРасходы.Ссылка
	|ГДЕ
	|	ПрочиеДоходыИРасходы.ВидПрочихДоходовИРасходов = &ВидПДРНачисление
	|	И ПрочиеДоходыИРасходы.ВидАктива = &ВидАктиваДебиторскаяЗадолженность
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ДанныеБезСрочности.Организация,
	|	ДанныеБезСрочности.СчетДт,
	|	ДанныеБезСрочности.СчетКт,
	|	ДанныеБезСрочности.ПоСрочности,
	|	ДанныеБезСрочности.Субконто1,
	|	ДанныеБезСрочности.Субконто2,
	|	ДанныеБезСрочности.Субконто3,
	|	ДанныеБезСрочности.СуммаОборот
	|ИЗ
	|	ДанныеБезСрочности КАК ДанныеБезСрочности
	|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ ПланВидовХарактеристик.СтатьиРасходов КАК ПрочиеДоходыИРасходы
	|		ПО ДанныеБезСрочности.СубконтоОтбора = ПрочиеДоходыИРасходы.Ссылка
	|ГДЕ
	|	ПрочиеДоходыИРасходы.ВидПрочихДоходовИРасходов = &ВидПДРНачисление
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ДанныеБезСрочности.Организация,
	|	ДанныеБезСрочности.СчетДт,
	|	ДанныеБезСрочности.СчетКт,
	|	ДанныеБезСрочности.ПоСрочности,
	|	ДанныеБезСрочности.Субконто1,
	|	ДанныеБезСрочности.Субконто2,
	|	ДанныеБезСрочности.Субконто3,
	|	ДанныеБезСрочности.СуммаОборот
	|ИЗ
	|	ДанныеБезСрочности КАК ДанныеБезСрочности
	|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ ПланВидовХарактеристик.СтатьиДоходов КАК ПрочиеДоходыИРасходы
	|		ПО ДанныеБезСрочности.СубконтоОтбора = ПрочиеДоходыИРасходы.Ссылка
	|ГДЕ
	|	ПрочиеДоходыИРасходы.ВидПрочихДоходовИРасходов = &ВидПДРНачисление
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	ВсеНачисления.Организация КАК Организация,
	|	ВсеНачисления.СчетДоходов КАК СчетДоходов,
	|	ВсеНачисления.СчетРасчетов КАК СчетРасчетов,
	|	(ЕСТЬNULL(ДанныеРасчетовПоСрочности.ДолгосрочнаяЗадолженность, ЛОЖЬ)
	|		ИЛИ ВсеНачисления.СчетРасчетов.Долгосрочный) КАК ДолгосрочнаяЗадолженность,
	|	СУММА(ВсеНачисления.СуммаОборот) КАК СуммаНачислений
	|ИЗ
	|	ВсеНачисления КАК ВсеНачисления
	|		ЛЕВОЕ СОЕДИНЕНИЕ ДанныеРасчетовПоСрочности КАК ДанныеРасчетовПоСрочности
	|		ПО ВсеНачисления.Организация = ДанныеРасчетовПоСрочности.Организация
	|			И ВсеНачисления.СчетРасчетов = ДанныеРасчетовПоСрочности.Счет
	|			И ВсеНачисления.Субконто1 = ДанныеРасчетовПоСрочности.Субконто1
	|			И ВсеНачисления.Субконто2 = ДанныеРасчетовПоСрочности.Субконто2
	|			И ВсеНачисления.Субконто3 = ДанныеРасчетовПоСрочности.Субконто3
	|ГДЕ
	|	ВсеНачисления.ПоСрочности
	|
	|СГРУППИРОВАТЬ ПО
	|	ВсеНачисления.Организация,
	|	ВсеНачисления.СчетДоходов,
	|	ВсеНачисления.СчетРасчетов,
	|	(ЕСТЬNULL(ДанныеРасчетовПоСрочности.ДолгосрочнаяЗадолженность, ЛОЖЬ)
	|		ИЛИ ВсеНачисления.СчетРасчетов.Долгосрочный)
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ВсеНачисления.Организация,
	|	ВсеНачисления.СчетДоходов,
	|	ВсеНачисления.СчетРасчетов,
	|	ВсеНачисления.СчетРасчетов.Долгосрочный,
	|	СУММА(ВсеНачисления.СуммаОборот)
	|ИЗ
	|	ВсеНачисления КАК ВсеНачисления
	|ГДЕ
	|	НЕ ВсеНачисления.ПоСрочности
	|
	|СГРУППИРОВАТЬ ПО
	|	ВсеНачисления.Организация,
	|	ВсеНачисления.СчетДоходов,
	|	ВсеНачисления.СчетРасчетов";

	Если КонтекстРаздела.РазделятьАвансыПоВидамАктивов Тогда
		ТекстЗапроса = СтрЗаменить(ТекстЗапроса, "&РазделятьАвансыПоВидамАктива", "НЕ Авансы.Субконто2.ВидАктива В (&ИсключаемыеВидыАктиваАвансов)");
	Иначе
		ТекстЗапроса = СтрЗаменить(ТекстЗапроса, "&РазделятьАвансыПоВидамАктива", "ИСТИНА");
	КонецЕсли;
	
	ТекстыЗапросов.Добавить(ТекстЗапроса);

	Возврат СтрСоединить(ТекстыЗапросов, Общегоназначения.РазделительПакетаЗапросов());

КонецФункции

#КонецОбласти

#Область ТекстыЗапросовКредиторскаяЗадолженность

Функция ТекстЗапросаСчетаРасчетовКредиторская(НаборыСчетов, ВидЗадолженности)
	
	ТекстыЗапросов = Новый Массив;
	ТекстыЗапросов.Добавить(ТекстЗапросаСчетаРасчетовОстаткиИОбороты(НаборыСчетов, ВидЗадолженности));
	
	ТекстыЗапросов.Добавить(
	"ВЫБРАТЬ
	|	ОстальныеРасчеты.Организация КАК Организация,
	|	ОстальныеРасчеты.Счет КАК Счет,
	|	ОстальныеРасчеты.Субконто1 КАК Субконто1,
	|	ОстальныеРасчеты.Субконто2 КАК Субконто2,
	|	ОстальныеРасчеты.Субконто3 КАК Субконто3,
	|	ОстальныеРасчеты.ПоСрочности КАК ПоСрочности,
	|	ОстальныеРасчеты.СНК КАК СНК,
	|	ОстальныеРасчеты.ДО КАК ДО,
	|	ОстальныеРасчеты.КО КАК КО,
	|	ОстальныеРасчеты.СКК КАК СКК,
	|	ОстальныеРасчеты.Вычет КАК Вычет,
	|	ОстальныеРасчеты.ИсключенДО КАК ИсключенДО,
	|	ОстальныеРасчеты.ИсключенКО КАК ИсключенКО
	|ПОМЕСТИТЬ ВсеРасчеты
	|ИЗ
	|	ОстальныеРасчеты КАК ОстальныеРасчеты
	|ГДЕ
	|	ОстальныеРасчеты.ОтражатьВКредиторской
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	ВсеРасчеты.Организация КАК Организация,
	|	ВсеРасчеты.Счет КАК Счет,
	|	ВсеРасчеты.Субконто1 КАК Субконто1,
	|	ВсеРасчеты.Субконто2 КАК Субконто2,
	|	ВсеРасчеты.Субконто3 КАК Субконто3,
	|	ВсеРасчеты.ПоСрочности КАК ПоСрочности,
	|	ВсеРасчеты.СНК КАК СНК,
	|	ВсеРасчеты.ДО КАК ДО,
	|	ВсеРасчеты.КО КАК КО,
	|	ВсеРасчеты.СКК КАК СКК,
	|	ВсеРасчеты.Вычет КАК Вычет,
	|	ВсеРасчеты.ИсключенДО КАК ИсключенДО,
	|	ВсеРасчеты.ИсключенКО КАК ИсключенКО
	|ПОМЕСТИТЬ РасчетыПоСрочности
	|ИЗ
	|	ВсеРасчеты КАК ВсеРасчеты
	|ГДЕ
	|	ВсеРасчеты.ПоСрочности
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	РасчетыПоСрочности.Организация КАК Организация,
	|	РасчетыПоСрочности.Субконто1 КАК Субконто1,
	|	РасчетыПоСрочности.Субконто2 КАК Субконто2,
	|	РасчетыПоСрочности.Субконто3 КАК Субконто3
	|ПОМЕСТИТЬ АналитикаПоСрочности
	|ИЗ
	|	РасчетыПоСрочности КАК РасчетыПоСрочности");
	
	Возврат СтрСоединить(ТекстыЗапросов, Общегоназначения.РазделительПакетаЗапросов());

КонецФункции

Функция ТекстЗапросаРазделениеЗадолженностиКредиторская()

	Возврат
	"ВЫБРАТЬ
	|	РасчетыПоСрочности.Организация КАК Организация,
	|	РасчетыПоСрочности.Счет КАК Счет,
	|	РасчетыПоСрочности.Субконто1 КАК Субконто1,
	|	РасчетыПоСрочности.Субконто2 КАК Субконто2,
	|	РасчетыПоСрочности.Субконто3 КАК Субконто3,
	|	РасчетыПоСрочности.ПоСрочности КАК ПоСрочности,
	|	РасчетыПоСрочности.СНК КАК СНК,
	|	РасчетыПоСрочности.ДО КАК ДО,
	|	РасчетыПоСрочности.КО КАК КО,
	|	РасчетыПоСрочности.СКК КАК СКК,
	|	РасчетыПоСрочности.Вычет КАК Вычет,
	|	РасчетыПоСрочности.ИсключенДО КАК ИсключенДО,
	|	РасчетыПоСрочности.ИсключенКО КАК ИсключенКО,
	|	ВЫБОР
	|		КОГДА ЕСТЬNULL(АналитикаПоСрокам.ДатаПогашения > &КраткосрочныйПериодОтНачала, ЛОЖЬ)
	|			ИЛИ РасчетыПоСрочности.Счет.Долгосрочный
	|			ТОГДА РасчетыПоСрочности.СНК
	|		ИНАЧЕ 0
	|	КОНЕЦ КАК СНК_ДС,
	|	ВЫБОР
	|		КОГДА ЕСТЬNULL(АналитикаПоСрокам.ДатаПогашения > &КраткосрочныйПериод, ЛОЖЬ)
	|			ИЛИ РасчетыПоСрочности.Счет.Долгосрочный
	|			ТОГДА РасчетыПоСрочности.СКК
	|		ИНАЧЕ 0
	|	КОНЕЦ КАК СКК_ДС,
	|	ВЫБОР
	|		КОГДА РасчетыПоСрочности.СНК < 0
	|			ТОГДА РасчетыПоСрочности.СНК
	|		КОГДА АналитикаПоСрокам.ДатаПогашения ЕСТЬ NULL
	|				ИЛИ АналитикаПоСрокам.ДатаПогашения = ДАТАВРЕМЯ(1, 1, 1)
	|			ТОГДА 0
	|		КОГДА АналитикаПоСрокам.ДатаПогашения < &НачалоПериода
	|				И РасчетыПоСрочности.СНК > 0
	|			ТОГДА РасчетыПоСрочности.СНК
	|		ИНАЧЕ 0
	|	КОНЕЦ КАК СНК_Просроченная,
	|	ВЫБОР
	|		КОГДА РасчетыПоСрочности.СКК < 0
	|			ТОГДА РасчетыПоСрочности.СКК
	|		КОГДА АналитикаПоСрокам.ДатаПогашения ЕСТЬ NULL
	|				ИЛИ АналитикаПоСрокам.ДатаПогашения = ДАТАВРЕМЯ(1, 1, 1)
	|			ТОГДА 0
	|		КОГДА АналитикаПоСрокам.ДатаПогашения < &КонецПериодаДата
	|				И РасчетыПоСрочности.СКК > 0
	|			ТОГДА РасчетыПоСрочности.СКК
	|		ИНАЧЕ 0
	|	КОНЕЦ КАК СКК_Просроченная,
	|	ВЫБОР
	|		КОГДА (ЕСТЬNULL(АналитикаПоСрокам.ДатаПогашения > &КраткосрочныйПериодОтНачала, ЛОЖЬ)
	|				И НЕ ЕСТЬNULL(АналитикаПоСрокам.ДатаПогашения > &КраткосрочныйПериод, ЛОЖЬ)
	|				ИЛИ РасчетыПоСрочности.Счет.Долгосрочный)
	|				И РасчетыПоСрочности.СНК <> 0
	|			ТОГДА РасчетыПоСрочности.СКК
	|		ИНАЧЕ 0
	|	КОНЕЦ КАК Переклассифицировано,
	|	ВЫБОР
	|		КОГДА РасчетыПоСрочности.СНК <> 0
	|				И ЕСТЬNULL(АналитикаПоСрокам.ДатаПогашения > &КраткосрочныйПериодОтНачала, ЛОЖЬ)
	|			ТОГДА РасчетыПоСрочности.ДО
	|		КОГДА ЕСТЬNULL(АналитикаПоСрокам.ДатаПогашения > &КраткосрочныйПериод, ЛОЖЬ)
	|			ТОГДА РасчетыПоСрочности.ДО
	|		КОГДА РасчетыПоСрочности.Счет.Долгосрочный
	|			ТОГДА РасчетыПоСрочности.ДО
	|		ИНАЧЕ 0
	|	КОНЕЦ КАК ДО_ДС,
	|	ВЫБОР
	|		КОГДА РасчетыПоСрочности.СНК <> 0
	|				И ЕСТЬNULL(АналитикаПоСрокам.ДатаПогашения > &КраткосрочныйПериодОтНачала, ЛОЖЬ)
	|			ТОГДА РасчетыПоСрочности.КО
	|		КОГДА ЕСТЬNULL(АналитикаПоСрокам.ДатаПогашения > &КраткосрочныйПериод, ЛОЖЬ)
	|			ТОГДА РасчетыПоСрочности.КО
	|		КОГДА РасчетыПоСрочности.Счет.Долгосрочный
	|			ТОГДА РасчетыПоСрочности.КО
	|		ИНАЧЕ 0
	|	КОНЕЦ КАК КО_ДС,
	|	ВЫБОР
	|		КОГДА РасчетыПоСрочности.СНК <> 0
	|				И ЕСТЬNULL(АналитикаПоСрокам.ДатаПогашения > &КраткосрочныйПериодОтНачала, ЛОЖЬ)
	|			ТОГДА РасчетыПоСрочности.Вычет
	|		КОГДА ЕСТЬNULL(АналитикаПоСрокам.ДатаПогашения > &КраткосрочныйПериод, ЛОЖЬ)
	|			ТОГДА РасчетыПоСрочности.Вычет
	|		КОГДА РасчетыПоСрочности.Счет.Долгосрочный
	|			ТОГДА РасчетыПоСрочности.Вычет
	|		ИНАЧЕ 0
	|	КОНЕЦ КАК Вычет_ДС,
	|	ВЫБОР
	|		КОГДА РасчетыПоСрочности.СНК <> 0
	|				И ЕСТЬNULL(АналитикаПоСрокам.ДатаПогашения > &КраткосрочныйПериодОтНачала, ЛОЖЬ)
	|			ТОГДА РасчетыПоСрочности.ИсключенДО
	|		КОГДА ЕСТЬNULL(АналитикаПоСрокам.ДатаПогашения > &КраткосрочныйПериод, ЛОЖЬ)
	|			ТОГДА РасчетыПоСрочности.ИсключенДО
	|		КОГДА РасчетыПоСрочности.Счет.Долгосрочный
	|			ТОГДА РасчетыПоСрочности.ИсключенДО
	|		ИНАЧЕ 0
	|	КОНЕЦ КАК ИсключенДО_ДС,
	|	ВЫБОР
	|		КОГДА РасчетыПоСрочности.СНК <> 0
	|				И ЕСТЬNULL(АналитикаПоСрокам.ДатаПогашения > &КраткосрочныйПериодОтНачала, ЛОЖЬ)
	|			ТОГДА РасчетыПоСрочности.ИсключенКО
	|		КОГДА ЕСТЬNULL(АналитикаПоСрокам.ДатаПогашения > &КраткосрочныйПериод, ЛОЖЬ)
	|			ТОГДА РасчетыПоСрочности.ИсключенКО
	|		КОГДА РасчетыПоСрочности.Счет.Долгосрочный
	|			ТОГДА РасчетыПоСрочности.ИсключенКО
	|		ИНАЧЕ 0
	|	КОНЕЦ КАК ИсключенКО_ДС,
	|	РасчетыПоСрочности.Счет.Долгосрочный КАК ДолгосрочнаяЗадолженность
	|ПОМЕСТИТЬ ДанныеРасчетовПоСрочности
	|ИЗ
	|	РасчетыПоСрочности КАК РасчетыПоСрочности
	|		ЛЕВОЕ СОЕДИНЕНИЕ АналитикаПоСрокам КАК АналитикаПоСрокам
	|		ПО РасчетыПоСрочности.Организация = АналитикаПоСрокам.Организация
	|			И РасчетыПоСрочности.Субконто1 = АналитикаПоСрокам.Субконто1
	|			И РасчетыПоСрочности.Субконто2 = АналитикаПоСрокам.Субконто2
	|			И РасчетыПоСрочности.Субконто3 = АналитикаПоСрокам.Субконто3
	|
	|ИНДЕКСИРОВАТЬ ПО
	|	Организация,
	|	Счет,
	|	Субконто1,
	|	Субконто2,
	|	Субконто3
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	ДанныеРасчетовПоСрочности.Организация КАК Организация,
	|	ДанныеРасчетовПоСрочности.Счет КАК СчетРасчетов,
	|	ДанныеРасчетовПоСрочности.Субконто1 КАК Субконто1,
	|	ДанныеРасчетовПоСрочности.Субконто2 КАК Субконто2,
	|	ДанныеРасчетовПоСрочности.Субконто3 КАК Субконто3,
	|	ДанныеРасчетовПоСрочности.ПоСрочности КАК ПоСрочности,
	|	ДанныеРасчетовПоСрочности.СНК_ДС КАК СНК,
	|	ДанныеРасчетовПоСрочности.ДО_ДС КАК ДО,
	|	ДанныеРасчетовПоСрочности.КО_ДС КАК КО,
	|	ДанныеРасчетовПоСрочности.СКК_ДС КАК СКК,
	|	ДанныеРасчетовПоСрочности.Вычет_ДС КАК Вычет,
	|	ДанныеРасчетовПоСрочности.ИсключенДО_ДС КАК ИсключенДО,
	|	ДанныеРасчетовПоСрочности.ИсключенКО_ДС КАК ИсключенКО,
	|	ДанныеРасчетовПоСрочности.Переклассифицировано КАК Переклассифицировано,
	|	0 КАК НачалоПросроченная,
	|	0 КАК КонецПросроченная,
	|	ДанныеРасчетовПоСрочности.ДолгосрочнаяЗадолженность КАК ДолгосрочнаяЗадолженность
	|ПОМЕСТИТЬ ДанныеРасчетов
	|ИЗ
	|	ДанныеРасчетовПоСрочности КАК ДанныеРасчетовПоСрочности
	|ГДЕ
	|	ДанныеРасчетовПоСрочности.ДолгосрочнаяЗадолженность
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ДанныеРасчетовПоСрочности.Организация,
	|	ДанныеРасчетовПоСрочности.Счет,
	|	ДанныеРасчетовПоСрочности.Субконто1,
	|	ДанныеРасчетовПоСрочности.Субконто2,
	|	ДанныеРасчетовПоСрочности.Субконто3,
	|	ДанныеРасчетовПоСрочности.ПоСрочности,
	|	ДанныеРасчетовПоСрочности.СНК - ДанныеРасчетовПоСрочности.СНК_ДС,
	|	ДанныеРасчетовПоСрочности.ДО - ДанныеРасчетовПоСрочности.ДО_ДС,
	|	ДанныеРасчетовПоСрочности.КО - ДанныеРасчетовПоСрочности.КО_ДС,
	|	ДанныеРасчетовПоСрочности.СКК - ДанныеРасчетовПоСрочности.СКК_ДС,
	|	ДанныеРасчетовПоСрочности.Вычет - ДанныеРасчетовПоСрочности.Вычет_ДС,
	|	ДанныеРасчетовПоСрочности.ИсключенДО - ДанныеРасчетовПоСрочности.ИсключенДО_ДС,
	|	ДанныеРасчетовПоСрочности.ИсключенКО - ДанныеРасчетовПоСрочности.ИсключенКО_ДС,
	|	ДанныеРасчетовПоСрочности.Переклассифицировано,
	|	ДанныеРасчетовПоСрочности.СНК_Просроченная,
	|	ДанныеРасчетовПоСрочности.СКК_Просроченная,
	|	ДанныеРасчетовПоСрочности.ДолгосрочнаяЗадолженность
	|ИЗ
	|	ДанныеРасчетовПоСрочности КАК ДанныеРасчетовПоСрочности
	|ГДЕ
	|	НЕ ДанныеРасчетовПоСрочности.ДолгосрочнаяЗадолженность
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ВсеРасчеты.Организация,
	|	ВсеРасчеты.Счет,
	|	ВсеРасчеты.Субконто1,
	|	ВсеРасчеты.Субконто2,
	|	ВсеРасчеты.Субконто3,
	|	ВсеРасчеты.ПоСрочности,
	|	ВсеРасчеты.СНК,
	|	ВсеРасчеты.ДО,
	|	ВсеРасчеты.КО,
	|	ВсеРасчеты.СКК,
	|	ВсеРасчеты.Вычет,
	|	ВсеРасчеты.ИсключенДО,
	|	ВсеРасчеты.ИсключенКО,
	|	0,
	|	0,
	|	0,
	|	ЛОЖЬ
	|ИЗ
	|	ВсеРасчеты КАК ВсеРасчеты
	|ГДЕ
	|	НЕ ВсеРасчеты.ПоСрочности
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	ДанныеРасчетов.Организация КАК Организация,
	|	ДанныеРасчетов.СчетРасчетов КАК СчетРасчетов,
	|	ДанныеРасчетов.Субконто1 КАК Субконто1,
	|	ДанныеРасчетов.Субконто2 КАК Субконто2,
	|	ДанныеРасчетов.Субконто3 КАК Субконто3,
	|	ДанныеРасчетов.СНК КАК СН,
	|	ДанныеРасчетов.ДО КАК ДО,
	|	ДанныеРасчетов.КО КАК КО,
	|	ДанныеРасчетов.СКК КАК СК,
	|	ДанныеРасчетов.Вычет КАК Вычет,
	|	ДанныеРасчетов.ДолгосрочнаяЗадолженность КАК ДолгосрочнаяЗадолженность
	|ПОМЕСТИТЬ ВсеАвансы
	|ИЗ
	|	ДанныеРасчетов КАК ДанныеРасчетов
	|ГДЕ
	|	ДанныеРасчетов.СчетРасчетов В(&СчетаАвансов)
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	СчетаГрупп.Счет КАК Счет,
	|	СчетаГрупп.Группа КАК Группа,
	|	СчетаГрупп.ПоСрочности КАК ПоСрочности,
	|	СчетаГрупп.ОтражатьВДолгосрочной КАК ОтражатьВДолгосрочной
	|ПОМЕСТИТЬ СчетаГрупп
	|ИЗ
	|	&СчетаГрупп КАК СчетаГрупп
	|
	|ИНДЕКСИРОВАТЬ ПО
	|	СчетаГрупп.Счет
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	Данные.Организация КАК Организация,
	|	Данные.Группа КАК Группа,
	|	Данные.СчетРасчетов КАК СчетРасчетов,
	|	СУММА(Данные.СНК) КАК СНК,
	|	СУММА(Данные.ДО) КАК ДО,
	|	СУММА(Данные.КО) КАК КО,
	|	СУММА(Данные.СКК) КАК СКК,
	|	СУММА(Данные.Вычет) КАК Вычет,
	|	СУММА(Данные.ИсключенДО) КАК ИсключенДО,
	|	СУММА(Данные.ИсключенКО) КАК ИсключенКО,
	|	СУММА(Данные.Переклассифицировано) КАК Переклассифицировано,
	|	ВЫБОР
	|		КОГДА СУММА(Данные.НачалоПросроченная) < 0
	|			ТОГДА 0
	|		КОГДА СУММА(Данные.НачалоПросроченная) > СУММА(Данные.СНК)
	|			ТОГДА СУММА(Данные.СНК)
	|		ИНАЧЕ СУММА(Данные.НачалоПросроченная)
	|	КОНЕЦ КАК НачалоПросроченная,
	|	ВЫБОР
	|		КОГДА СУММА(Данные.КонецПросроченная) < 0
	|			ТОГДА 0
	|		КОГДА СУММА(Данные.КонецПросроченная) > СУММА(Данные.СКК)
	|			ТОГДА СУММА(Данные.СКК)
	|		ИНАЧЕ СУММА(Данные.КонецПросроченная)
	|	КОНЕЦ КАК КонецПросроченная,
	|	Данные.ДолгосрочнаяЗадолженность КАК ДолгосрочнаяЗадолженность
	|ИЗ
	|	(ВЫБРАТЬ
	|		ДанныеРасчетов.Организация КАК Организация,
	|		СчетаГрупп.Группа КАК Группа,
	|		ДанныеРасчетов.СчетРасчетов КАК СчетРасчетов,
	|		СУММА(ДанныеРасчетов.СНК) КАК СНК,
	|		СУММА(ДанныеРасчетов.ДО) КАК ДО,
	|		СУММА(ДанныеРасчетов.КО) КАК КО,
	|		СУММА(ДанныеРасчетов.СКК) КАК СКК,
	|		СУММА(ДанныеРасчетов.Вычет) КАК Вычет,
	|		СУММА(ДанныеРасчетов.ИсключенДО) КАК ИсключенДО,
	|		СУММА(ДанныеРасчетов.ИсключенКО) КАК ИсключенКО,
	|		СУММА(ДанныеРасчетов.Переклассифицировано) КАК Переклассифицировано,
	|		СУММА(ДанныеРасчетов.НачалоПросроченная) КАК НачалоПросроченная,
	|		СУММА(ДанныеРасчетов.КонецПросроченная) КАК КонецПросроченная,
	|		ВЫБОР
	|			КОГДА СчетаГрупп.ПоСрочности = ЛОЖЬ
	|				ТОГДА СчетаГрупп.ОтражатьВДолгосрочной
	|			ИНАЧЕ ДанныеРасчетов.ДолгосрочнаяЗадолженность
	|		КОНЕЦ КАК ДолгосрочнаяЗадолженность
	|	ИЗ
	|		ДанныеРасчетов КАК ДанныеРасчетов
	|			ВНУТРЕННЕЕ СОЕДИНЕНИЕ СчетаГрупп КАК СчетаГрупп
	|			ПО ДанныеРасчетов.СчетРасчетов = СчетаГрупп.Счет
	|	
	|	СГРУППИРОВАТЬ ПО
	|		ДанныеРасчетов.Организация,
	|		СчетаГрупп.Группа,
	|		ДанныеРасчетов.СчетРасчетов,
	|		ВЫБОР
	|			КОГДА СчетаГрупп.ПоСрочности = ЛОЖЬ
	|				ТОГДА СчетаГрупп.ОтражатьВДолгосрочной
	|			ИНАЧЕ ДанныеРасчетов.ДолгосрочнаяЗадолженность
	|		КОНЕЦ
	|	
	|	ОБЪЕДИНИТЬ ВСЕ
	|	
	|	ВЫБРАТЬ
	|		ДанныеРасчетов.Организация,
	|		СчетаГрупп.Группа,
	|		ДанныеРасчетов.СчетРасчетов,
	|		0,
	|		0,
	|		0,
	|		СУММА(ДанныеРасчетов.Переклассифицировано),
	|		0,
	|		0,
	|		0,
	|		СУММА(ДанныеРасчетов.Переклассифицировано),
	|		0,
	|		0,
	|		ЛОЖЬ
	|	ИЗ
	|		ДанныеРасчетов КАК ДанныеРасчетов
	|			ВНУТРЕННЕЕ СОЕДИНЕНИЕ СчетаГрупп КАК СчетаГрупп
	|			ПО ДанныеРасчетов.СчетРасчетов = СчетаГрупп.Счет
	|	ГДЕ
	|		ДанныеРасчетов.ДолгосрочнаяЗадолженность
	|	
	|	СГРУППИРОВАТЬ ПО
	|		ДанныеРасчетов.Организация,
	|		СчетаГрупп.Группа,
	|		ДанныеРасчетов.СчетРасчетов,
	|		ДанныеРасчетов.ДолгосрочнаяЗадолженность) КАК Данные
	|
	|СГРУППИРОВАТЬ ПО
	|	Данные.Организация,
	|	Данные.Группа,
	|	Данные.СчетРасчетов,
	|	Данные.ДолгосрочнаяЗадолженность";

КонецФункции

Функция ТекстЗапросаСписаниеНаДоходы(НаборыСчетов)
	
	ШаблонТекстаЗапроса =
	"ВЫБРАТЬ
	|	ХозрасчетныйОборотыДтКт.Организация КАК Организация,
	|	ХозрасчетныйОборотыДтКт.СчетДт КАК СчетДт,
	|	ХозрасчетныйОборотыДтКт.СчетКт КАК СчетКт,
	|	ЛОЖЬ КАК ПоСрочности,
	|	ХозрасчетныйОборотыДтКт.СубконтоДт1 КАК Субконто1,
	|	ХозрасчетныйОборотыДтКт.СубконтоДт2 КАК Субконто2,
	|	ХозрасчетныйОборотыДтКт.СубконтоДт3 КАК Субконто3,
	|	ХозрасчетныйОборотыДтКт.СубконтоКт1 КАК СубконтоОтбора,
	|	ХозрасчетныйОборотыДтКт.СуммаОборот КАК СуммаОборот
	|ИЗ
	|	РегистрБухгалтерии.Хозрасчетный.ОборотыДтКт(&НачалоПериода, &КонецПериода, Период, СчетДт В (&СписокСчетов), , СчетКт В (&СчетаДоходов), &СубконтоПрочиеДоходыРасходы, Организация В (&Организации)) КАК ХозрасчетныйОборотыДтКт";
	
	ТекстыЗапросов = Новый Массив;
	ТекстыЗапросов.Добавить(ТекстЗапросаОборотыДтКт(НаборыСчетов, ШаблонТекстаЗапроса, "ПрочиеДоходы"));
	ТекстыЗапросов.Добавить(
	"ВЫБРАТЬ
	|	ДанныеПоСрочности.Организация КАК Организация,
	|	ДанныеПоСрочности.СчетДт КАК СчетРасчетов,
	|	ДанныеПоСрочности.СчетКт КАК СчетДоходов,
	|	ЕСТЬNULL(ДанныеРасчетовПоСрочности.ДолгосрочнаяЗадолженность, ЛОЖЬ) КАК ДолгосрочнаяЗадолженность,
	|	СУММА(ДанныеПоСрочности.СуммаОборот) КАК СуммаСписаний
	|ИЗ
	|	ДанныеПоСрочности КАК ДанныеПоСрочности
	|		ЛЕВОЕ СОЕДИНЕНИЕ ДанныеРасчетовПоСрочности КАК ДанныеРасчетовПоСрочности
	|		ПО ДанныеПоСрочности.Организация = ДанныеРасчетовПоСрочности.Организация
	|			И ДанныеПоСрочности.СчетДт = ДанныеРасчетовПоСрочности.Счет
	|			И ДанныеПоСрочности.Субконто1 = ДанныеРасчетовПоСрочности.Субконто1
	|			И ДанныеПоСрочности.Субконто2 = ДанныеРасчетовПоСрочности.Субконто2
	|			И ДанныеПоСрочности.Субконто3 = ДанныеРасчетовПоСрочности.Субконто3
	|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ ПланВидовХарактеристик.СтатьиРасходов КАК ПрочиеДоходыИРасходы
	|		ПО ДанныеПоСрочности.СубконтоОтбора = ПрочиеДоходыИРасходы.Ссылка
	|ГДЕ
	|	ПрочиеДоходыИРасходы.ВидПрочихДоходовИРасходов = &ВидПДРСписание
	|
	|СГРУППИРОВАТЬ ПО
	|	ДанныеПоСрочности.Организация,
	|	ДанныеПоСрочности.СчетДт,
	|	ДанныеПоСрочности.СчетКт,
	|	ЕСТЬNULL(ДанныеРасчетовПоСрочности.ДолгосрочнаяЗадолженность, ЛОЖЬ)
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ДанныеПоСрочности.Организация КАК Организация,
	|	ДанныеПоСрочности.СчетДт КАК СчетРасчетов,
	|	ДанныеПоСрочности.СчетКт КАК СчетДоходов,
	|	ЕСТЬNULL(ДанныеРасчетовПоСрочности.ДолгосрочнаяЗадолженность, ЛОЖЬ) КАК ДолгосрочнаяЗадолженность,
	|	СУММА(ДанныеПоСрочности.СуммаОборот) КАК СуммаСписаний
	|ИЗ
	|	ДанныеПоСрочности КАК ДанныеПоСрочности
	|		ЛЕВОЕ СОЕДИНЕНИЕ ДанныеРасчетовПоСрочности КАК ДанныеРасчетовПоСрочности
	|		ПО ДанныеПоСрочности.Организация = ДанныеРасчетовПоСрочности.Организация
	|			И ДанныеПоСрочности.СчетДт = ДанныеРасчетовПоСрочности.Счет
	|			И ДанныеПоСрочности.Субконто1 = ДанныеРасчетовПоСрочности.Субконто1
	|			И ДанныеПоСрочности.Субконто2 = ДанныеРасчетовПоСрочности.Субконто2
	|			И ДанныеПоСрочности.Субконто3 = ДанныеРасчетовПоСрочности.Субконто3
	|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ ПланВидовХарактеристик.СтатьиДоходов КАК ПрочиеДоходыИРасходы
	|		ПО ДанныеПоСрочности.СубконтоОтбора = ПрочиеДоходыИРасходы.Ссылка
	|ГДЕ
	|	ПрочиеДоходыИРасходы.ВидПрочихДоходовИРасходов = &ВидПДРСписание
	|
	|СГРУППИРОВАТЬ ПО
	|	ДанныеПоСрочности.Организация,
	|	ДанныеПоСрочности.СчетДт,
	|	ДанныеПоСрочности.СчетКт,
	|	ЕСТЬNULL(ДанныеРасчетовПоСрочности.ДолгосрочнаяЗадолженность, ЛОЖЬ)
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ДанныеБезСрочности.Организация,
	|	ДанныеБезСрочности.СчетДт,
	|	ДанныеБезСрочности.СчетКт,
	|	СчетаГрупп.ОтражатьВДолгосрочной,
	|	СУММА(ДанныеБезСрочности.СуммаОборот)
	|ИЗ
	|	ДанныеБезСрочности КАК ДанныеБезСрочности
	|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ ПланВидовХарактеристик.СтатьиДоходов КАК ПрочиеДоходыИРасходы
	|		ПО ДанныеБезСрочности.СубконтоОтбора = ПрочиеДоходыИРасходы.Ссылка
	|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ СчетаГрупп КАК СчетаГрупп
	|		ПО ДанныеБезСрочности.СчетДт = СчетаГрупп.Счет
	|ГДЕ
	|	ПрочиеДоходыИРасходы.ВидПрочихДоходовИРасходов = &ВидПДРСписание
	|
	|СГРУППИРОВАТЬ ПО
	|	ДанныеБезСрочности.Организация,
	|	ДанныеБезСрочности.СчетДт,
	|	ДанныеБезСрочности.СчетКт,
	|	СчетаГрупп.ОтражатьВДолгосрочной
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ДанныеБезСрочности.Организация,
	|	ДанныеБезСрочности.СчетДт,
	|	ДанныеБезСрочности.СчетКт,
	|	СчетаГрупп.ОтражатьВДолгосрочной,
	|	СУММА(ДанныеБезСрочности.СуммаОборот)
	|ИЗ
	|	ДанныеБезСрочности КАК ДанныеБезСрочности
	|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ ПланВидовХарактеристик.СтатьиРасходов КАК ПрочиеДоходыИРасходы
	|		ПО ДанныеБезСрочности.СубконтоОтбора = ПрочиеДоходыИРасходы.Ссылка
	|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ СчетаГрупп КАК СчетаГрупп
	|		ПО ДанныеБезСрочности.СчетДт = СчетаГрупп.Счет
	|ГДЕ
	|	ПрочиеДоходыИРасходы.ВидПрочихДоходовИРасходов = &ВидПДРСписание
	|
	|СГРУППИРОВАТЬ ПО
	|	ДанныеБезСрочности.Организация,
	|	ДанныеБезСрочности.СчетДт,
	|	ДанныеБезСрочности.СчетКт,
	|	СчетаГрупп.ОтражатьВДолгосрочной");
	
	Возврат СтрСоединить(ТекстыЗапросов, Общегоназначения.РазделительПакетаЗапросов());

КонецФункции

Функция ТекстЗапросаНачислениеПроцентовШтрафовКредиторская(НаборыСчетов)
	
	ШаблонТекстаЗапроса =
	"ВЫБРАТЬ
	|	ХозрасчетныйОборотыДтКт.Организация КАК Организация,
	|	ХозрасчетныйОборотыДтКт.СчетДт КАК СчетДт,
	|	ХозрасчетныйОборотыДтКт.СчетКт КАК СчетКт,
	|	ЛОЖЬ КАК ПоСрочности,
	|	ХозрасчетныйОборотыДтКт.СубконтоКт1 КАК Субконто1,
	|	ХозрасчетныйОборотыДтКт.СубконтоКт2 КАК Субконто2,
	|	ХозрасчетныйОборотыДтКт.СубконтоКт3 КАК Субконто3,
	|	ХозрасчетныйОборотыДтКт.СубконтоДт1 КАК СубконтоОтбора,
	|	ХозрасчетныйОборотыДтКт.СуммаОборот КАК СуммаОборот
	|ИЗ
	|	РегистрБухгалтерии.Хозрасчетный.ОборотыДтКт(&НачалоПериода, &КонецПериода, Период, СчетДт В (&СчетаРасходов), &СубконтоПрочиеДоходыРасходы, СчетКт В (&СписокСчетов), , Организация В (&Организации)) КАК ХозрасчетныйОборотыДтКт";
	
	ТекстыЗапросов = Новый Массив;
	ТекстыЗапросов.Добавить(ТекстЗапросаОборотыДтКт(НаборыСчетов, ШаблонТекстаЗапроса, "ПрочиеРасходы"));
	
	ТекстыЗапросов.Добавить(
	"ВЫБРАТЬ
	|	ДанныеПоСрочности.Организация КАК Организация,
	|	ДанныеПоСрочности.СчетДт КАК СчетРасходов,
	|	ДанныеПоСрочности.СчетКт КАК СчетРасчетов,
	|	ЕСТЬNULL(ДанныеРасчетовПоСрочности.ДолгосрочнаяЗадолженность, ЛОЖЬ) КАК ДолгосрочнаяЗадолженность,
	|	СУММА(ДанныеПоСрочности.СуммаОборот) КАК СуммаНачислений
	|ИЗ
	|	ДанныеПоСрочности КАК ДанныеПоСрочности
	|		ЛЕВОЕ СОЕДИНЕНИЕ ДанныеРасчетовПоСрочности КАК ДанныеРасчетовПоСрочности
	|		ПО ДанныеПоСрочности.Организация = ДанныеРасчетовПоСрочности.Организация
	|			И ДанныеПоСрочности.СчетКт = ДанныеРасчетовПоСрочности.Счет
	|			И ДанныеПоСрочности.Субконто1 = ДанныеРасчетовПоСрочности.Субконто1
	|			И ДанныеПоСрочности.Субконто2 = ДанныеРасчетовПоСрочности.Субконто2
	|			И ДанныеПоСрочности.Субконто3 = ДанныеРасчетовПоСрочности.Субконто3
	|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ ПланВидовХарактеристик.СтатьиРасходов КАК ПрочиеДоходыИРасходы
	|		ПО ДанныеПоСрочности.СубконтоОтбора = ПрочиеДоходыИРасходы.Ссылка
	|ГДЕ
	|	ПрочиеДоходыИРасходы.ВидПрочихДоходовИРасходов = &ВидПДРНачисление
	|
	|СГРУППИРОВАТЬ ПО
	|	ДанныеПоСрочности.Организация,
	|	ДанныеПоСрочности.СчетДт,
	|	ДанныеПоСрочности.СчетКт,
	|	ЕСТЬNULL(ДанныеРасчетовПоСрочности.ДолгосрочнаяЗадолженность, ЛОЖЬ)
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ДанныеПоСрочности.Организация КАК Организация,
	|	ДанныеПоСрочности.СчетДт КАК СчетРасходов,
	|	ДанныеПоСрочности.СчетКт КАК СчетРасчетов,
	|	ЕСТЬNULL(ДанныеРасчетовПоСрочности.ДолгосрочнаяЗадолженность, ЛОЖЬ) КАК ДолгосрочнаяЗадолженность,
	|	СУММА(ДанныеПоСрочности.СуммаОборот) КАК СуммаНачислений
	|ИЗ
	|	ДанныеПоСрочности КАК ДанныеПоСрочности
	|		ЛЕВОЕ СОЕДИНЕНИЕ ДанныеРасчетовПоСрочности КАК ДанныеРасчетовПоСрочности
	|		ПО ДанныеПоСрочности.Организация = ДанныеРасчетовПоСрочности.Организация
	|			И ДанныеПоСрочности.СчетКт = ДанныеРасчетовПоСрочности.Счет
	|			И ДанныеПоСрочности.Субконто1 = ДанныеРасчетовПоСрочности.Субконто1
	|			И ДанныеПоСрочности.Субконто2 = ДанныеРасчетовПоСрочности.Субконто2
	|			И ДанныеПоСрочности.Субконто3 = ДанныеРасчетовПоСрочности.Субконто3
	|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ ПланВидовХарактеристик.СтатьиДоходов КАК ПрочиеДоходыИРасходы
	|		ПО ДанныеПоСрочности.СубконтоОтбора = ПрочиеДоходыИРасходы.Ссылка
	|ГДЕ
	|	ПрочиеДоходыИРасходы.ВидПрочихДоходовИРасходов = &ВидПДРНачисление
	|
	|СГРУППИРОВАТЬ ПО
	|	ДанныеПоСрочности.Организация,
	|	ДанныеПоСрочности.СчетДт,
	|	ДанныеПоСрочности.СчетКт,
	|	ЕСТЬNULL(ДанныеРасчетовПоСрочности.ДолгосрочнаяЗадолженность, ЛОЖЬ)
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ДанныеБезСрочности.Организация,
	|	ДанныеБезСрочности.СчетДт,
	|	ДанныеБезСрочности.СчетКт,
	|	СчетаГрупп.ОтражатьВДолгосрочной,
	|	СУММА(ДанныеБезСрочности.СуммаОборот)
	|ИЗ
	|	ДанныеБезСрочности КАК ДанныеБезСрочности
	|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ ПланВидовХарактеристик.СтатьиДоходов КАК ПрочиеДоходыИРасходы
	|		ПО ДанныеБезСрочности.СубконтоОтбора = ПрочиеДоходыИРасходы.Ссылка
	|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ СчетаГрупп КАК СчетаГрупп
	|		ПО ДанныеБезСрочности.СчетКт = СчетаГрупп.Счет
	|ГДЕ
	|	ПрочиеДоходыИРасходы.ВидПрочихДоходовИРасходов = &ВидПДРНачисление
	|
	|СГРУППИРОВАТЬ ПО
	|	ДанныеБезСрочности.Организация,
	|	ДанныеБезСрочности.СчетДт,
	|	ДанныеБезСрочности.СчетКт,
	|	СчетаГрупп.ОтражатьВДолгосрочной
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ДанныеБезСрочности.Организация,
	|	ДанныеБезСрочности.СчетДт,
	|	ДанныеБезСрочности.СчетКт,
	|	СчетаГрупп.ОтражатьВДолгосрочной,
	|	СУММА(ДанныеБезСрочности.СуммаОборот)
	|ИЗ
	|	ДанныеБезСрочности КАК ДанныеБезСрочности
	|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ ПланВидовХарактеристик.СтатьиРасходов КАК ПрочиеДоходыИРасходы
	|		ПО ДанныеБезСрочности.СубконтоОтбора = ПрочиеДоходыИРасходы.Ссылка
	|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ СчетаГрупп КАК СчетаГрупп
	|		ПО ДанныеБезСрочности.СчетКт = СчетаГрупп.Счет
	|ГДЕ
	|	ПрочиеДоходыИРасходы.ВидПрочихДоходовИРасходов = &ВидПДРНачисление
	|
	|СГРУППИРОВАТЬ ПО
	|	ДанныеБезСрочности.Организация,
	|	ДанныеБезСрочности.СчетДт,
	|	ДанныеБезСрочности.СчетКт,
	|	СчетаГрупп.ОтражатьВДолгосрочной");
	
	Возврат СтрСоединить(ТекстыЗапросов, Общегоназначения.РазделительПакетаЗапросов());

КонецФункции

Функция ТекстЗапросаПроцентыПоРассрочке()
	Возврат
	"ВЫБРАТЬ
	|	ХозрасчетныйОстаткиИОбороты.Организация КАК Организация,
	|	ХозрасчетныйОстаткиИОбороты.Счет КАК Счет,
	|	ХозрасчетныйОстаткиИОбороты.Субконто1 КАК Субконто1,
	|	ХозрасчетныйОстаткиИОбороты.Субконто2 КАК Субконто2,
	|	ХозрасчетныйОстаткиИОбороты.СуммаНачальныйОстаток КАК СНД,
	|	ХозрасчетныйОстаткиИОбороты.СуммаОборотДт КАК ДО,
	|	ХозрасчетныйОстаткиИОбороты.СуммаОборотКт КАК КО,
	|	ХозрасчетныйОстаткиИОбороты.СуммаКонечныйОстаток КАК СКД,
	|	ВЫБОР
	|		КОГДА ХозрасчетныйОстаткиИОбороты.СуммаОборотКт > 0
	|				И ХозрасчетныйОстаткиИОбороты.СуммаОборотДт > 0
	|			ТОГДА ВЫБОР
	|					КОГДА ХозрасчетныйОстаткиИОбороты.СуммаОборотДт < ХозрасчетныйОстаткиИОбороты.СуммаОборотКт
	|						ТОГДА ХозрасчетныйОстаткиИОбороты.СуммаОборотДт
	|					ИНАЧЕ ХозрасчетныйОстаткиИОбороты.СуммаОборотКт
	|				КОНЕЦ
	|		ИНАЧЕ ВЫБОР
	|				КОГДА ХозрасчетныйОстаткиИОбороты.СуммаОборотКт < 0
	|						И ХозрасчетныйОстаткиИОбороты.СуммаОборотДт < 0
	|					ТОГДА ВЫБОР
	|							КОГДА ХозрасчетныйОстаткиИОбороты.СуммаОборотДт > ХозрасчетныйОстаткиИОбороты.СуммаОборотКт
	|								ТОГДА ХозрасчетныйОстаткиИОбороты.СуммаОборотДт
	|							ИНАЧЕ ХозрасчетныйОстаткиИОбороты.СуммаОборотКт
	|						КОНЕЦ
	|				ИНАЧЕ 0
	|			КОНЕЦ
	|	КОНЕЦ КАК Вычет
	|ПОМЕСТИТЬ ВсеПроцентыПоРассрочке
	|ИЗ
	|	РегистрБухгалтерии.Хозрасчетный.ОстаткиИОбороты(&НачалоПериода, &КонецПериода, Период, , Счет В (&СчетаПроцентовПоРассрочке), &СубконтоКонтрагентыДоговоры, Организация В (&Организации)) КАК ХозрасчетныйОстаткиИОбороты
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	ДанныеРасчетов.Организация КАК Организация,
	|	ДанныеРасчетов.Субконто1 КАК Субконто1,
	|	ДанныеРасчетов.Субконто2 КАК Субконто2,
	|	МАКСИМУМ(ДанныеРасчетов.ДолгосрочнаяЗадолженность) КАК ДолгосрочнаяЗадолженность
	|ПОМЕСТИТЬ РасчетыПоРассрочке
	|ИЗ
	|	ДанныеРасчетов КАК ДанныеРасчетов
	|ГДЕ
	|	ДанныеРасчетов.СчетРасчетов В(&СчетаОбъектовПоРассрочке)
	|
	|СГРУППИРОВАТЬ ПО
	|	ДанныеРасчетов.Организация,
	|	ДанныеРасчетов.Субконто1,
	|	ДанныеРасчетов.Субконто2
	|
	|ИНДЕКСИРОВАТЬ ПО
	|	Организация,
	|	Субконто1,
	|	Субконто2
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	ВсеПроцентыПоРассрочке.Организация КАК Организация,
	|	ВсеПроцентыПоРассрочке.Счет КАК Счет,
	|	ВсеПроцентыПоРассрочке.Субконто1 КАК Субконто1,
	|	ВсеПроцентыПоРассрочке.Субконто2 КАК Субконто2,
	|	ВсеПроцентыПоРассрочке.СНД КАК СНД,
	|	ВсеПроцентыПоРассрочке.ДО КАК ДО,
	|	ВсеПроцентыПоРассрочке.КО КАК КО,
	|	ВсеПроцентыПоРассрочке.СКД КАК СКД,
	|	ВсеПроцентыПоРассрочке.Вычет КАК Вычет,
	|	ЕСТЬNULL(РасчетыПоРассрочке.ДолгосрочнаяЗадолженность, ЛОЖЬ) КАК ДолгосрочнаяЗадолженность
	|ИЗ
	|	ВсеПроцентыПоРассрочке КАК ВсеПроцентыПоРассрочке
	|		ЛЕВОЕ СОЕДИНЕНИЕ РасчетыПоРассрочке КАК РасчетыПоРассрочке
	|		ПО ВсеПроцентыПоРассрочке.Организация = РасчетыПоРассрочке.Организация
	|			И ВсеПроцентыПоРассрочке.Субконто1 = РасчетыПоРассрочке.Субконто1
	|			И ВсеПроцентыПоРассрочке.Субконто2 = РасчетыПоРассрочке.Субконто2";
	
КонецФункции

#КонецОбласти

Функция ТекстЗапросаОрганизации()
	Возврат
	"ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	Организации.Ссылка КАК Организация,
	|	Организации.Представление КАК НаименованиеОрганизации,
	|	Организации.ГоловнаяОрганизация = Организации.Ссылка КАК ЭтоГоловнаяОрганизация
	|ИЗ
	|	Справочник.Организации КАК Организации
	|ГДЕ
	|	Организации.Ссылка В(&Организации)
	|
	|УПОРЯДОЧИТЬ ПО
	|	ЭтоГоловнаяОрганизация УБЫВ,
	|	НаименованиеОрганизации";
	
КонецФункции

Функция ТекстЗапросаСрокиПогашения()
	
	Возврат
	"ВЫБРАТЬ
	|	Аналитика.Организация КАК Организация,
	|	Аналитика.Субконто1 КАК Субконто1,
	|	Аналитика.Субконто2 КАК Субконто2,
	|	Аналитика.Субконто3 КАК Субконто3,
	|	ВЫБОР
	|		КОГДА ЕСТЬNULL(ДоговорыКонтрагентов.УстановленСрокОплаты, ЛОЖЬ)
	|			ТОГДА ЕСТЬNULL(ДоговорыКонтрагентов.СрокОплаты, 0)
	|		КОГДА ЕСТЬNULL(ДоговорыКонтрагентов.ТипДоговора, ЗНАЧЕНИЕ(Перечисление.ТипыДоговоров.ПустаяСсылка)) В (&ВидыДоговоровПоставщиков)
	|				И &ИспользуютсяСрокиОплатыПоставщики
	|			ТОГДА &СрокОплатыПоставщикам
	|		КОГДА ЕСТЬNULL(ДоговорыКонтрагентов.ТипДоговора, ЗНАЧЕНИЕ(Перечисление.ТипыДоговоров.ПустаяСсылка)) В (&ВидыДоговоровПокупатели)
	|				И &ИспользуютсяСрокиОплатыПокупатели
	|			ТОГДА &СрокОплатыПокупателей
	|		ИНАЧЕ 0
	|	КОНЕЦ КАК СрокОплаты,
	|	ВЫБОР
	|		КОГДА ДоговорыКонтрагентов.УстановленСрокОплаты <> ИСТИНА
	|				И (ДоговорыКонтрагентов.ТипДоговора В (&ВидыДоговоровПоставщиков)
	|						И НЕ &ИспользуютсяСрокиОплатыПоставщики
	|					ИЛИ ДоговорыКонтрагентов.ТипДОговора В (&ВидыДоговоровПокупатели)
	|						И НЕ &ИспользуютсяСрокиОплатыПокупатели)
	|			ТОГДА ДАТАВРЕМЯ(1, 1, 1)
	|		ИНАЧЕ ДОБАВИТЬКДАТЕ(ЕСТЬNULL(ДанныеПервичныхДокументов.ДатаРегистратора, ДАТАВРЕМЯ(1, 1, 1)), ДЕНЬ, ВЫБОР
	|					КОГДА ЕСТЬNULL(ДоговорыКонтрагентов.УстановленСрокОплаты, ЛОЖЬ)
	|						ТОГДА ЕСТЬNULL(ДоговорыКонтрагентов.СрокОплаты, 0)
	|					КОГДА ЕСТЬNULL(ДоговорыКонтрагентов.ТипДоговора, ЗНАЧЕНИЕ(Перечисление.ТипыДоговоров.ПустаяСсылка)) В (&ВидыДоговоровПоставщиков)
	|							И &ИспользуютсяСрокиОплатыПоставщики
	|						ТОГДА &СрокОплатыПоставщикам
	|					КОГДА ЕСТЬNULL(ДоговорыКонтрагентов.ТипДоговора, ЗНАЧЕНИЕ(Перечисление.ТипыДоговоров.ПустаяСсылка)) В (&ВидыДоговоровПокупатели)
	|							И &ИспользуютсяСрокиОплатыПокупатели
	|						ТОГДА &СрокОплатыПокупателей
	|					ИНАЧЕ 0
	|				КОНЕЦ)
	|	КОНЕЦ КАК ДатаПогашения
	|ПОМЕСТИТЬ АналитикаПоСрокам
	|ИЗ
	|	АналитикаПоСрочности КАК Аналитика
	|		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.ДоговорыКонтрагентов КАК ДоговорыКонтрагентов
	|		ПО Аналитика.Субконто2 = ДоговорыКонтрагентов.Ссылка
	|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.ДанныеПервичныхДокументов КАК ДанныеПервичныхДокументов
	|		ПО Аналитика.Организация = ДанныеПервичныхДокументов.Организация
	|			И Аналитика.Субконто3 = ДанныеПервичныхДокументов.Документ
	|
	|ИНДЕКСИРОВАТЬ ПО
	|	Организация,
	|	Субконто1,
	|	Субконто2,
	|	Субконто3";
		
КонецФункции

Функция ТекстЗапросаСчетаРасчетовОстаткиИОбороты(НаборыСчетов, ВидЗадолженности)
	
	СхемаЗапроса = Новый СхемаЗапроса;
	
	Если ВидЗадолженности = "ДебиторскаяЗадолженность" Тогда
		ШаблонТекстаЗапроса =
			"ВЫБРАТЬ
			|	ХозрасчетныйОстаткиИОбороты.Организация КАК Организация,
			|	ХозрасчетныйОстаткиИОбороты.Счет КАК Счет,
			|	ХозрасчетныйОстаткиИОбороты.Субконто1 КАК Субконто1,
			|	ХозрасчетныйОстаткиИОбороты.Субконто2 КАК Субконто2,
			|	ХозрасчетныйОстаткиИОбороты.Субконто3 КАК Субконто3,
			|	ЛОЖЬ КАК ПоСрочности,
			|	ХозрасчетныйОстаткиИОбороты.СуммаНачальныйОстатокДт КАК СНД,
			|	ХозрасчетныйОстаткиИОбороты.СуммаОборотДт КАК ДО,
			|	ХозрасчетныйОстаткиИОбороты.СуммаОборотКт КАК КО,
			|	ХозрасчетныйОстаткиИОбороты.СуммаКонечныйОстатокДт КАК СКД,
			|	ВЫБОР
			|		КОГДА ХозрасчетныйОстаткиИОбороты.СуммаОборотДт > 0
			|				И ХозрасчетныйОстаткиИОбороты.СуммаОборотКт > 0
			|			ТОГДА ВЫБОР
			|					КОГДА ХозрасчетныйОстаткиИОбороты.СуммаОборотКт < ХозрасчетныйОстаткиИОбороты.СуммаОборотДт
			|						ТОГДА ХозрасчетныйОстаткиИОбороты.СуммаОборотКт
			|					ИНАЧЕ ХозрасчетныйОстаткиИОбороты.СуммаОборотДт
			|				КОНЕЦ
			|		ИНАЧЕ ВЫБОР
			|				КОГДА ХозрасчетныйОстаткиИОбороты.СуммаОборотДт < 0
			|						И ХозрасчетныйОстаткиИОбороты.СуммаОборотКт < 0
			|					ТОГДА ВЫБОР
			|							КОГДА ХозрасчетныйОстаткиИОбороты.СуммаОборотКт > ХозрасчетныйОстаткиИОбороты.СуммаОборотДт
			|								ТОГДА ХозрасчетныйОстаткиИОбороты.СуммаОборотКт
			|							ИНАЧЕ ХозрасчетныйОстаткиИОбороты.СуммаОборотДт
			|						КОНЕЦ
			|				ИНАЧЕ 0
			|			КОНЕЦ
			|	КОНЕЦ КАК Вычет,
			|	ВЫБОР
			|		КОГДА ХозрасчетныйОстаткиИОбороты.СуммаОборотДт > 0
			|				И ХозрасчетныйОстаткиИОбороты.СуммаОборотКт > 0
			|			ТОГДА ХозрасчетныйОстаткиИОбороты.СуммаНачальныйОстатокКт
			|		КОГДА ХозрасчетныйОстаткиИОбороты.СуммаОборотДт > 0
			|				И ХозрасчетныйОстаткиИОбороты.СуммаОборотКт < 0
			|			ТОГДА ВЫБОР
			|					КОГДА ХозрасчетныйОстаткиИОбороты.СуммаОборотДт > ХозрасчетныйОстаткиИОбороты.СуммаНачальныйОстатокКт
			|						ТОГДА ХозрасчетныйОстаткиИОбороты.СуммаНачальныйОстатокКт
			|					ИНАЧЕ ХозрасчетныйОстаткиИОбороты.СуммаОборотДт
			|				КОНЕЦ
			|		КОГДА ХозрасчетныйОстаткиИОбороты.СуммаОборотДт < 0
			|				И ХозрасчетныйОстаткиИОбороты.СуммаОборотКт > 0
			|			ТОГДА ВЫБОР
			|					КОГДА ХозрасчетныйОстаткиИОбороты.СуммаОборотКт > ХозрасчетныйОстаткиИОбороты.СуммаКонечныйОстатокКт
			|						ТОГДА 0
			|					ИНАЧЕ -1 * (ХозрасчетныйОстаткиИОбороты.СуммаКонечныйОстатокКт - ХозрасчетныйОстаткиИОбороты.СуммаОборотКт)
			|				КОНЕЦ
			|		КОГДА ХозрасчетныйОстаткиИОбороты.СуммаОборотДт < 0
			|				И ХозрасчетныйОстаткиИОбороты.СуммаОборотКт < 0
			|			ТОГДА -1 * ХозрасчетныйОстаткиИОбороты.СуммаКонечныйОстатокКт
			|		ИНАЧЕ 0
			|	КОНЕЦ КАК ИсключенДО,
			|	ВЫБОР
			|		КОГДА ХозрасчетныйОстаткиИОбороты.СуммаОборотДт > 0
			|				И ХозрасчетныйОстаткиИОбороты.СуммаОборотКт > 0
			|			ТОГДА ХозрасчетныйОстаткиИОбороты.СуммаКонечныйОстатокКт
			|		КОГДА ХозрасчетныйОстаткиИОбороты.СуммаОборотДт > 0
			|				И ХозрасчетныйОстаткиИОбороты.СуммаОборотКт < 0
			|			ТОГДА ВЫБОР
			|					КОГДА ХозрасчетныйОстаткиИОбороты.СуммаОборотДт > ХозрасчетныйОстаткиИОбороты.СуммаНачальныйОстатокКт
			|						ТОГДА 0
			|					ИНАЧЕ -1 * (ХозрасчетныйОстаткиИОбороты.СуммаНачальныйОстатокКт - ХозрасчетныйОстаткиИОбороты.СуммаОборотДт)
			|				КОНЕЦ
			|		КОГДА ХозрасчетныйОстаткиИОбороты.СуммаОборотДт < 0
			|				И ХозрасчетныйОстаткиИОбороты.СуммаОборотКт > 0
			|			ТОГДА ВЫБОР
			|					КОГДА ХозрасчетныйОстаткиИОбороты.СуммаОборотКт > ХозрасчетныйОстаткиИОбороты.СуммаКонечныйОстатокКт
			|						ТОГДА ХозрасчетныйОстаткиИОбороты.СуммаКонечныйОстатокКт
			|					ИНАЧЕ ХозрасчетныйОстаткиИОбороты.СуммаОборотКт
			|				КОНЕЦ
			|		КОГДА ХозрасчетныйОстаткиИОбороты.СуммаОборотДт < 0
			|				И ХозрасчетныйОстаткиИОбороты.СуммаОборотКт < 0
			|			ТОГДА -1 * ХозрасчетныйОстаткиИОбороты.СуммаНачальныйОстатокКт
			|		ИНАЧЕ 0
			|	КОНЕЦ КАК ИсключенКО,
			|	ХозрасчетныйОстаткиИОбороты.СуммаНачальныйОстатокДт <> 0
			|		ИЛИ ХозрасчетныйОстаткиИОбороты.СуммаКонечныйОстатокДт <> 0 КАК ОтражатьВДебиторской
			|ИЗ
			|	РегистрБухгалтерии.Хозрасчетный.ОстаткиИОбороты(&НачалоПериода, &КонецПериода, Период, , Счет В (&СписокСчетов), &ВидыСубконто, Организация В (&Организации)) КАК ХозрасчетныйОстаткиИОбороты";
	ИначеЕсли ВидЗадолженности = "КредиторскаяЗадолженность" Тогда
		ШаблонТекстаЗапроса =
			"ВЫБРАТЬ
			|	ХозрасчетныйОстаткиИОбороты.Организация КАК Организация,
			|	ХозрасчетныйОстаткиИОбороты.Счет КАК Счет,
			|	ХозрасчетныйОстаткиИОбороты.Субконто1 КАК Субконто1,
			|	ХозрасчетныйОстаткиИОбороты.Субконто2 КАК Субконто2,
			|	ХозрасчетныйОстаткиИОбороты.Субконто3 КАК Субконто3,
			|	ЛОЖЬ КАК ПоСрочности,
			|	ХозрасчетныйОстаткиИОбороты.СуммаНачальныйОстатокКт КАК СНК,
			|	ХозрасчетныйОстаткиИОбороты.СуммаОборотДт КАК ДО,
			|	ХозрасчетныйОстаткиИОбороты.СуммаОборотКт КАК КО,
			|	ХозрасчетныйОстаткиИОбороты.СуммаКонечныйОстатокКт КАК СКК,
			|	ВЫБОР
			|		КОГДА ХозрасчетныйОстаткиИОбороты.СуммаОборотДт > 0
			|				И ХозрасчетныйОстаткиИОбороты.СуммаОборотКт > 0
			|			ТОГДА ВЫБОР
			|					КОГДА ХозрасчетныйОстаткиИОбороты.СуммаОборотДт < ХозрасчетныйОстаткиИОбороты.СуммаОборотКт
			|						ТОГДА ХозрасчетныйОстаткиИОбороты.СуммаОборотДт
			|					ИНАЧЕ ХозрасчетныйОстаткиИОбороты.СуммаОборотКт
			|				КОНЕЦ
			|		ИНАЧЕ ВЫБОР
			|				КОГДА ХозрасчетныйОстаткиИОбороты.СуммаОборотДт < 0
			|						И ХозрасчетныйОстаткиИОбороты.СуммаОборотКт < 0
			|					ТОГДА ВЫБОР
			|							КОГДА ХозрасчетныйОстаткиИОбороты.СуммаОборотДт > ХозрасчетныйОстаткиИОбороты.СуммаОборотКт
			|								ТОГДА ХозрасчетныйОстаткиИОбороты.СуммаОборотДт
			|							ИНАЧЕ ХозрасчетныйОстаткиИОбороты.СуммаОборотКт
			|						КОНЕЦ
			|				ИНАЧЕ 0
			|			КОНЕЦ
			|	КОНЕЦ КАК Вычет,
			|	ВЫБОР
			|		КОГДА ХозрасчетныйОстаткиИОбороты.СуммаОборотДт > 0
			|				И ХозрасчетныйОстаткиИОбороты.СуммаОборотКт > 0
			|			ТОГДА ХозрасчетныйОстаткиИОбороты.СуммаКонечныйОстатокДт
			|		КОГДА ХозрасчетныйОстаткиИОбороты.СуммаОборотДт > 0
			|				И ХозрасчетныйОстаткиИОбороты.СуммаОборотКт < 0
			|			ТОГДА ВЫБОР
			|					КОГДА ХозрасчетныйОстаткиИОбороты.СуммаОборотДт > ХозрасчетныйОстаткиИОбороты.СуммаКонечныйОстатокДт
			|						ТОГДА ХозрасчетныйОстаткиИОбороты.СуммаКонечныйОстатокДт
			|					ИНАЧЕ ХозрасчетныйОстаткиИОбороты.СуммаОборотДт
			|				КОНЕЦ
			|		КОГДА ХозрасчетныйОстаткиИОбороты.СуммаОборотДт < 0
			|				И ХозрасчетныйОстаткиИОбороты.СуммаОборотКт > 0
			|			ТОГДА ВЫБОР
			|					КОГДА ХозрасчетныйОстаткиИОбороты.СуммаОборотКт > ХозрасчетныйОстаткиИОбороты.СуммаНачальныйОстатокДт
			|						ТОГДА 0
			|					ИНАЧЕ -1 * (ХозрасчетныйОстаткиИОбороты.СуммаНачальныйОстатокДт - ХозрасчетныйОстаткиИОбороты.СуммаОборотКт)
			|				КОНЕЦ
			|		КОГДА ХозрасчетныйОстаткиИОбороты.СуммаОборотДт < 0
			|				И ХозрасчетныйОстаткиИОбороты.СуммаОборотКт < 0
			|			ТОГДА -1 * ХозрасчетныйОстаткиИОбороты.СуммаНачальныйОстатокДт
			|		ИНАЧЕ 0
			|	КОНЕЦ КАК ИсключенДО,
			|	ВЫБОР
			|		КОГДА ХозрасчетныйОстаткиИОбороты.СуммаОборотДт > 0
			|				И ХозрасчетныйОстаткиИОбороты.СуммаОборотКт > 0
			|			ТОГДА ХозрасчетныйОстаткиИОбороты.СуммаНачальныйОстатокДт
			|		КОГДА ХозрасчетныйОстаткиИОбороты.СуммаОборотДт > 0
			|				И ХозрасчетныйОстаткиИОбороты.СуммаОборотКт < 0
			|			ТОГДА ВЫБОР
			|					КОГДА ХозрасчетныйОстаткиИОбороты.СуммаОборотДт > ХозрасчетныйОстаткиИОбороты.СуммаКонечныйОстатокДт
			|						ТОГДА 0
			|					ИНАЧЕ -1 * (ХозрасчетныйОстаткиИОбороты.СуммаКонечныйОстатокДт - ХозрасчетныйОстаткиИОбороты.СуммаОборотДт)
			|				КОНЕЦ
			|		КОГДА ХозрасчетныйОстаткиИОбороты.СуммаОборотДт < 0
			|				И ХозрасчетныйОстаткиИОбороты.СуммаОборотКт > 0
			|			ТОГДА ВЫБОР
			|					КОГДА ХозрасчетныйОстаткиИОбороты.СуммаОборотКт > ХозрасчетныйОстаткиИОбороты.СуммаНачальныйОстатокДт
			|						ТОГДА ХозрасчетныйОстаткиИОбороты.СуммаНачальныйОстатокДт
			|					ИНАЧЕ ХозрасчетныйОстаткиИОбороты.СуммаОборотКт
			|				КОНЕЦ
			|		КОГДА ХозрасчетныйОстаткиИОбороты.СуммаОборотДт < 0
			|				И ХозрасчетныйОстаткиИОбороты.СуммаОборотКт < 0
			|			ТОГДА -1 * ХозрасчетныйОстаткиИОбороты.СуммаКонечныйОстатокДт
			|		ИНАЧЕ 0
			|	КОНЕЦ КАК ИсключенКО,
			|	ХозрасчетныйОстаткиИОбороты.СуммаНачальныйОстатокКт <> 0
			|		ИЛИ ХозрасчетныйОстаткиИОбороты.СуммаКонечныйОстатокКт <> 0 КАК ОтражатьВКредиторской
			|ИЗ
			|	РегистрБухгалтерии.Хозрасчетный.ОстаткиИОбороты(&НачалоПериода, &КонецПериода, Период, , Счет В (&СписокСчетов), &ВидыСубконто, Организация В (&Организации)) КАК ХозрасчетныйОстаткиИОбороты";
	КонецЕсли;

	ЗапросЭталон = СхемаЗапроса.ПакетЗапросов[0];
	ЗапросЭталон.УстановитьТекстЗапроса(ШаблонТекстаЗапроса);

	Отбор = Новый Структура("ДополнительныйОтбор", Истина);
	НаборыСДопУсловием = НаборыСчетов.НайтиСтроки(Отбор);

	Для Каждого Набор Из НаборыСДопУсловием Цикл
		
		ТочкаЗапроса = СхемыЗапросов.НайтиЗапросСозданияТаблицы(СхемаЗапроса,Набор.ИмяВТ);
		Если ТочкаЗапроса = Неопределено Тогда
			
			Запрос = СхемаЗапроса.ПакетЗапросов.Добавить();
			
			Запрос.УстановитьТекстЗапроса(ШаблонТекстаЗапроса);
			Запрос.ТаблицаДляПомещения = Набор.ИмяВТ;
			Оператор = Запрос.Операторы.Добавить(ЗапросЭталон.Операторы[0]);
			Источник = Оператор.Источники[0];
			
			ТочкаЗапроса = СхемыЗапросов.НовыйТочкаЗапроса(СхемаЗапроса, Запрос, Оператор, Источник);
			
			Если ЗначениеЗаполнено(Набор.ИндексироватьПо) Тогда
				Колонка = ТочкаЗапроса.Запрос.Колонки.Найти(Набор.ИндексироватьПо);
				Если Колонка <> Неопределено Тогда
					ТочкаЗапроса.Запрос.Индекс.Добавить(Колонка);
				КонецЕсли;
			КонецЕсли;
			
		Иначе
			ТочкаЗапроса.Вставить("Оператор", ТочкаЗапроса.Запрос.Операторы.Добавить(ЗапросЭталон.Операторы[0]));
			ТочкаЗапроса.Вставить("Источник", ТочкаЗапроса.Оператор.Источники[0]);
		КонецЕсли;
		
		УстановитьПараметрыИПоляОстаткиИОбороты(Набор, ВидЗадолженности, ТочкаЗапроса);
	КонецЦикла;
	
	Отбор = Новый Структура("ДополнительныйОтбор", Ложь);
	НаборыБезДопУсловий = НаборыСчетов.НайтиСтроки(Отбор);
	
	Запрос = СхемаЗапроса.ПакетЗапросов.Добавить();
	Запрос.УстановитьТекстЗапроса(ШаблонТекстаЗапроса);
	Запрос.ТаблицаДляПомещения = "ОстальныеРасчеты";
	
	Для Каждого Набор Из НаборыБезДопУсловий Цикл

		Оператор = Запрос.Операторы.Добавить(ЗапросЭталон.Операторы[0]);
		Источник = Оператор.Источники[0];
		ТочкаЗапроса = СхемыЗапросов.НовыйТочкаЗапроса(СхемаЗапроса, Запрос, Оператор, Источник);
		УстановитьПараметрыИПоляОстаткиИОбороты(Набор, ВидЗадолженности, ТочкаЗапроса)
	КонецЦикла;
	
	// Удалим первый (эталонный) пакет запросов
	СхемаЗапроса.ПакетЗапросов.Удалить(0);
	// Удалим первый оператор
	Для Каждого ПакетЗапроса Из СхемаЗапроса.ПакетЗапросов Цикл
		ПакетЗапроса.Операторы.Удалить(0);
	КонецЦикла;
		
	Возврат СхемаЗапроса.ПолучитьТекстЗапроса();
КонецФункции

Процедура УстановитьПараметрыИПоляОстаткиИОбороты(Набор, ВидЗадолженности, ТочкаЗапроса)

	ПараметрыТекстовВыражений = Новый Структура;
	ПараметрыТекстовВыражений.Вставить("ИмяСпискаСчетов", СтрШаблон("&%1", Набор.ИмяНабора));
	ПараметрыТекстовВыражений.Вставить("ИмяВидовСубконто",  "");
	Если ЗначениеЗаполнено(Набор.ИмяПараметраВидыСубконто) Тогда
		ПараметрыТекстовВыражений.Вставить("ИмяВидовСубконто",  СтрШаблон("&%1",  Набор.ИмяПараметраВидыСубконто));
	КонецЕсли;
	
	ИндексПараметраУсловиеСчета = 4;
	ИндексПараметраСубконто = 5;
	
	Если ЗначениеЗаполнено(ПараметрыТекстовВыражений.ИмяСпискаСчетов) Тогда
		ИмяПараметраСчет = СтроковыеФункцииКлиентСервер.ВставитьПараметрыВСтроку("Счет В ([ИмяСпискаСчетов])", ПараметрыТекстовВыражений);
		ТочкаЗапроса.Источник.Источник.Параметры[ИндексПараметраУсловиеСчета].Выражение = Новый ВыражениеСхемыЗапроса(ИмяПараметраСчет);
	КонецЕсли;
	
	ИмяПараметраВидыСубконто = СтроковыеФункцииКлиентСервер.ВставитьПараметрыВСтроку("[ИмяВидовСубконто]", ПараметрыТекстовВыражений);
	ТочкаЗапроса.Источник.Источник.Параметры[ИндексПараметраСубконто].Выражение = Новый ВыражениеСхемыЗапроса(ИмяПараметраВидыСубконто);

	Выражение = "НЕОПРЕДЕЛЕНО";
	Если ЗначениеЗаполнено(Набор.ВидСубконто1) Тогда
		Выражение = "ХозрасчетныйОстаткиИОбороты.Субконто1";
	КонецЕсли;
	СхемыЗапросов.УстановитьВыражение(ТочкаЗапроса, "Субконто1", Выражение);
	
	Выражение = "НЕОПРЕДЕЛЕНО";
	Если ЗначениеЗаполнено(Набор.ВидСубконто2) Тогда
		Выражение = "ХозрасчетныйОстаткиИОбороты.Субконто2";
	КонецЕсли;
	СхемыЗапросов.УстановитьВыражение(ТочкаЗапроса, "Субконто2", Выражение);
	
	Выражение = "НЕОПРЕДЕЛЕНО";
	Если ЗначениеЗаполнено(Набор.ВидСубконто3) Тогда
		Выражение = "ХозрасчетныйОстаткиИОбороты.Субконто3";
	КонецЕсли;
	СхемыЗапросов.УстановитьВыражение(ТочкаЗапроса, "Субконто3", Выражение);

	СхемыЗапросов.УстановитьВыражение(ТочкаЗапроса, "ПоСрочности", XMLСтрока(Набор.ПоСрочности));
	
	Если ВидЗадолженности = "ДебиторскаяЗадолженность" Тогда
		
		Выражение = "ХозрасчетныйОстаткиИОбороты.СуммаНачальныйОстатокДт";
		Если Набор.ВидСчета = ВидСчета.Активный Тогда
			Выражение = "ХозрасчетныйОстаткиИОбороты.СуммаНачальныйОстаток";
		ИначеЕсли Набор.ИмяНабора = "АПСчетаНА" Тогда
			Выражение = "ХозрасчетныйОстаткиИОбороты.СуммаНачальныйОстатокДт - ХозрасчетныйОстаткиИОбороты.СуммаНачальныйОстатокКт";
		КонецЕсли;
		СхемыЗапросов.УстановитьВыражение(ТочкаЗапроса, "СНД", Выражение);
		
		Выражение = "ХозрасчетныйОстаткиИОбороты.СуммаКонечныйОстатокДт";
		Если Набор.ВидСчета = ВидСчета.Активный Тогда
			Выражение = "ХозрасчетныйОстаткиИОбороты.СуммаКонечныйОстаток";
		ИначеЕсли Набор.ИмяНабора = "АПСчетаНА" Тогда
			Выражение = "ХозрасчетныйОстаткиИОбороты.СуммаКонечныйОстатокДт - ХозрасчетныйОстаткиИОбороты.СуммаКонечныйОстатокКт";
		КонецЕсли;
		СхемыЗапросов.УстановитьВыражение(ТочкаЗапроса, "СКД", Выражение);
		
		Если Набор.ИмяНабора = "АПСчетаНА" Или Набор.ВидСчета <> ВидСчета.АктивноПассивный  Тогда
			СхемыЗапросов.УстановитьВыражение(ТочкаЗапроса, "ИсключенДО", "0");
		КонецЕсли;
		
		Если Набор.ИмяНабора = "АПСчетаНА" Или Набор.ВидСчета <> ВидСчета.АктивноПассивный  Тогда
			СхемыЗапросов.УстановитьВыражение(ТочкаЗапроса, "ИсключенКО", "0");
		КонецЕсли;
		
		Если Набор.ИмяНабора = "АПСчетаНА" Или Набор.ВидСчета <> ВидСчета.АктивноПассивный Тогда
			СхемыЗапросов.УстановитьВыражение(ТочкаЗапроса, "ОтражатьВДебиторской", "ИСТИНА");
		КонецЕсли;
		
	ИначеЕсли ВидЗадолженности = "КредиторскаяЗадолженность" Тогда
		
		Выражение = "ХозрасчетныйОстаткиИОбороты.СуммаНачальныйОстатокКт";
		Если Набор.ВидСчета = ВидСчета.Пассивный Тогда
			Выражение = "-1 * ХозрасчетныйОстаткиИОбороты.СуммаНачальныйОстаток";
		КонецЕсли;
		СхемыЗапросов.УстановитьВыражение(ТочкаЗапроса, "СНК", Выражение);
		
		Выражение = "ХозрасчетныйОстаткиИОбороты.СуммаКонечныйОстатокКт";
		Если Набор.ВидСчета = ВидСчета.Пассивный Тогда
			Выражение = "-1 * ХозрасчетныйОстаткиИОбороты.СуммаКонечныйОстаток";
		КонецЕсли;
		СхемыЗапросов.УстановитьВыражение(ТочкаЗапроса, "СКК", Выражение);
		
		Если Набор.ВидСчета <> ВидСчета.АктивноПассивный Тогда
			СхемыЗапросов.УстановитьВыражение(ТочкаЗапроса, "ИсключенДО", "0");
		КонецЕсли;
		
		Если Набор.ВидСчета <> ВидСчета.АктивноПассивный Тогда
			СхемыЗапросов.УстановитьВыражение(ТочкаЗапроса, "ИсключенКО", "0");
		КонецЕсли;

		Если Набор.ВидСчета <> ВидСчета.АктивноПассивный Тогда
			СхемыЗапросов.УстановитьВыражение(ТочкаЗапроса, "ОтражатьВКредиторской", "ИСТИНА");
		КонецЕсли;

	КонецЕсли;
	
КонецПроцедуры

Функция ТекстЗапросаОборотыДтКт(НаборыСчетов, ШаблонТекстаЗапроса, ВидОперации)
	
	СхемаЗапроса = Новый СхемаЗапроса;

	ЗапросЭталон = СхемаЗапроса.ПакетЗапросов[0];
	ЗапросЭталон.УстановитьТекстЗапроса(ШаблонТекстаЗапроса);
	
	// Наборы с отбором
	Отбор = Новый Структура("ДополнительныйОтбор", Истина);
	НаборыСДопУсловием = НаборыСчетов.НайтиСтроки(Отбор);
	
	Для Каждого Набор Из НаборыСДопУсловием Цикл
		
		ТочкаЗапроса = СхемыЗапросов.НайтиЗапросСозданияТаблицы(СхемаЗапроса,Набор.ИмяВТ);
		Если ТочкаЗапроса = Неопределено Тогда
			
			Запрос = СхемаЗапроса.ПакетЗапросов.Добавить();
			
			Запрос.УстановитьТекстЗапроса(ШаблонТекстаЗапроса);
			Запрос.ТаблицаДляПомещения = Набор.ИмяВТ;
			Оператор = Запрос.Операторы.Добавить(ЗапросЭталон.Операторы[0]);
			Источник = Оператор.Источники[0];
			
			ТочкаЗапроса = СхемыЗапросов.НовыйТочкаЗапроса(СхемаЗапроса, Запрос, Оператор, Источник);
			
			Колонка = ТочкаЗапроса.Запрос.Колонки.Найти("СубконтоОтбора");
			Если Колонка <> Неопределено Тогда
				ТочкаЗапроса.Запрос.Индекс.Добавить(Колонка);
			КонецЕсли;
			
			Если ЗначениеЗаполнено(Набор.ИндексироватьПо) Тогда
				Колонка = ТочкаЗапроса.Запрос.Колонки.Найти(Набор.ИндексироватьПо);
				Если Колонка <> Неопределено Тогда
					ТочкаЗапроса.Запрос.Индекс.Добавить(Колонка);
				КонецЕсли;
			КонецЕсли;
			
		Иначе
			ТочкаЗапроса.Вставить("Оператор", ТочкаЗапроса.Запрос.Операторы.Добавить(ЗапросЭталон.Операторы[0]));
			ТочкаЗапроса.Вставить("Источник", ТочкаЗапроса.Оператор.Источники[0]);
		КонецЕсли;
		
		ТекстыВыражений = Новый Структура;
		ТекстыВыражений.Вставить("ИменаСписковСчетов", СтрШаблон("&%1", Набор.ИмяНабора));
		ТекстыВыражений.Вставить("ИмяВидовСубконто",  "");
		Если ЗначениеЗаполнено(Набор.ИмяПараметраВидыСубконто) Тогда
			ТекстыВыражений.Вставить("ИмяВидовСубконто",  СтрШаблон("&%1",  Набор.ИмяПараметраВидыСубконто));
		КонецЕсли;
		
		УстановитьПараметрыИПоляОборотыДтКт(Набор, ТочкаЗапроса, ТекстыВыражений, ВидОперации);
	КонецЦикла;
	
	// Наборы по срочности
	Отбор = Новый Структура("ПоСрочности, ДополнительныйОтбор", Истина, Ложь);
	НаборыПоСрочности = НаборыСчетов.Скопировать(Отбор);
	ГруппировкаВидСубконто = НаборыПоСрочности.Скопировать(,"ИмяПараметраВидыСубконто");
	ГруппировкаВидСубконто.Свернуть("ИмяПараметраВидыСубконто");
	
	Запрос = СхемаЗапроса.ПакетЗапросов.Добавить();
	Запрос.УстановитьТекстЗапроса(ШаблонТекстаЗапроса);
	Запрос.ТаблицаДляПомещения = "ДанныеПоСрочности";
	
	Колонка = Запрос.Колонки.Найти("СубконтоОтбора");
	Если Колонка <> Неопределено Тогда
		Запрос.Индекс.Добавить(Колонка);
	КонецЕсли;
	
	Для Каждого ЭлементГруппировки Из ГруппировкаВидСубконто Цикл
		МассивНаборы = НаборыПоСрочности.НайтиСтроки(Новый Структура("ИмяПараметраВидыСубконто", ЭлементГруппировки.ИмяПараметраВидыСубконто));
		
		Если Не ЗначениеЗаполнено(МассивНаборы) Тогда
			Продолжить;
		КонецЕсли; 
		
		Набор = МассивНаборы[0];
		 
		Оператор = Запрос.Операторы.Добавить(ЗапросЭталон.Операторы[0]);
		Источник = Оператор.Источники[0];
		ТочкаЗапроса = СхемыЗапросов.НовыйТочкаЗапроса(СхемаЗапроса, Запрос, Оператор, Источник);
		
		СписокИменНаборов = Новый Массив;
		Для Каждого СтрокаНабора Из МассивНаборы Цикл
			СписокИменНаборов.Добавить(СтрШаблон("&%1", СтрокаНабора.ИмяНабора));
		КонецЦикла;
		
		ИменаСписковСчетов = СтрСоединить(СписокИменНаборов, ",");
		
		ТекстыВыражений = Новый Структура;
		ТекстыВыражений.Вставить("ИменаСписковСчетов", ИменаСписковСчетов);
		ТекстыВыражений.Вставить("ИмяВидовСубконто",  "");
		Если ЗначениеЗаполнено(Набор.ИмяПараметраВидыСубконто) Тогда
			ТекстыВыражений.Вставить("ИмяВидовСубконто",  СтрШаблон("&%1",  Набор.ИмяПараметраВидыСубконто));
		КонецЕсли;
			
		УстановитьПараметрыИПоляОборотыДтКт(Набор, ТочкаЗапроса, ТекстыВыражений, ВидОперации);
	КонецЦикла;
	
	// Наборы без срочности
	Запрос = СхемаЗапроса.ПакетЗапросов.Добавить();
	Запрос.УстановитьТекстЗапроса(ШаблонТекстаЗапроса);
	Запрос.ТаблицаДляПомещения = "ДанныеБезСрочности";
	
	Колонка = Запрос.Колонки.Найти("СубконтоОтбора");
	Если Колонка <> Неопределено Тогда
		Запрос.Индекс.Добавить(Колонка);
	КонецЕсли;
	
	Оператор = Запрос.Операторы.Добавить(ЗапросЭталон.Операторы[0]);
	Источник = Оператор.Источники[0];
	ТочкаЗапроса = СхемыЗапросов.НовыйТочкаЗапроса(СхемаЗапроса, Запрос, Оператор, Источник);
	
	ТекстыВыражений = Новый Структура;
	ТекстыВыражений.Вставить("ИменаСписковСчетов", "&СчетаБезСрочности");
	ТекстыВыражений.Вставить("ИмяВидовСубконто",   "");
	
	УстановитьПараметрыИПоляОборотыДтКт(Неопределено, ТочкаЗапроса, ТекстыВыражений, ВидОперации);
	
	// Удалим первый (эталонный) пакет запросов
	СхемаЗапроса.ПакетЗапросов.Удалить(0);
	
	// Удалим первый оператор
	Для Каждого ПакетЗапроса Из СхемаЗапроса.ПакетЗапросов Цикл
		ПакетЗапроса.Операторы.Удалить(0);
	КонецЦикла;
	
	Возврат СхемаЗапроса.ПолучитьТекстЗапроса();
	
КонецФункции

Процедура УстановитьПараметрыИПоляОборотыДтКт(Набор, ТочкаЗапроса, ТекстыВыражений, ВидОперации)
	
	// Параметры
	Если ВидОперации = "ПрочиеРасходы" Тогда
		ИндексПараметраУсловиеСчетаКт = 5;
		ИндексПараметраСубконтоКт = 6;

		Если ЗначениеЗаполнено(ТекстыВыражений.ИменаСписковСчетов) Тогда
			ИмяПараметраСчет = СтроковыеФункцииКлиентСервер.ВставитьПараметрыВСтроку("СчетКт В ([ИменаСписковСчетов])", ТекстыВыражений);
			ТочкаЗапроса.Источник.Источник.Параметры[ИндексПараметраУсловиеСчетаКт].Выражение = Новый ВыражениеСхемыЗапроса(ИмяПараметраСчет);
		КонецЕсли;
		ИмяПараметраВидыСубконто = СтроковыеФункцииКлиентСервер.ВставитьПараметрыВСтроку("[ИмяВидовСубконто]", ТекстыВыражений);
		ТочкаЗапроса.Источник.Источник.Параметры[ИндексПараметраСубконтоКт].Выражение = Новый ВыражениеСхемыЗапроса(ИмяПараметраВидыСубконто);
		
	ИначеЕсли ВидОперации = "ПрочиеДоходы" Тогда
		ИндексПараметраУсловиеСчетаДт = 3;
		ИндексПараметраСубконтоДт = 4;
		
		Если ЗначениеЗаполнено(ТекстыВыражений.ИменаСписковСчетов) Тогда
			ИмяПараметраСчет = СтроковыеФункцииКлиентСервер.ВставитьПараметрыВСтроку("СчетДт В ([ИменаСписковСчетов])", ТекстыВыражений);
			ТочкаЗапроса.Источник.Источник.Параметры[ИндексПараметраУсловиеСчетаДт].Выражение = Новый ВыражениеСхемыЗапроса(ИмяПараметраСчет);
		КонецЕсли;
		ИмяПараметраВидыСубконто = СтроковыеФункцииКлиентСервер.ВставитьПараметрыВСтроку("[ИмяВидовСубконто]", ТекстыВыражений);
		ТочкаЗапроса.Источник.Источник.Параметры[ИндексПараметраСубконтоДт].Выражение = Новый ВыражениеСхемыЗапроса(ИмяПараметраВидыСубконто);  
		
	КонецЕсли;
	
	// Поля
	Если Набор = Неопределено Тогда
		СхемыЗапросов.УстановитьВыражение(ТочкаЗапроса, "Субконто1", "НЕОПРЕДЕЛЕНО");
		СхемыЗапросов.УстановитьВыражение(ТочкаЗапроса, "Субконто2", "НЕОПРЕДЕЛЕНО");
		СхемыЗапросов.УстановитьВыражение(ТочкаЗапроса, "Субконто3", "НЕОПРЕДЕЛЕНО");
		СхемыЗапросов.УстановитьВыражение(ТочкаЗапроса, "ПоСрочности", "ЛОЖЬ");
	Иначе
		Если Не ЗначениеЗаполнено(Набор.ВидСубконто1) Тогда
			СхемыЗапросов.УстановитьВыражение(ТочкаЗапроса, "Субконто1", "НЕОПРЕДЕЛЕНО");
		КонецЕсли;
		Если Не ЗначениеЗаполнено(Набор.ВидСубконто2) Тогда
			СхемыЗапросов.УстановитьВыражение(ТочкаЗапроса, "Субконто2", "НЕОПРЕДЕЛЕНО");
		КонецЕсли;
		Если Не ЗначениеЗаполнено(Набор.ВидСубконто3) Тогда
			СхемыЗапросов.УстановитьВыражение(ТочкаЗапроса, "Субконто3", "НЕОПРЕДЕЛЕНО");
		КонецЕсли;
		СхемыЗапросов.УстановитьВыражение(ТочкаЗапроса, "ПоСрочности", XMLСтрока(Набор.ПоСрочности));
	КонецЕсли;

КонецПроцедуры

#Область НДСАвансов

Функция ТекстЗапросаНДСАвансов(Запрос, ВидСчетовФактур, КонтекстРаздела)
	
	ТекстЗапроса =
	"ВЫБРАТЬ
	|	ХозрасчетныйОстаткиИОбороты.Счет КАК Счет,
	|	ХозрасчетныйОстаткиИОбороты.Организация КАК Организация,
	|	ВЫРАЗИТЬ(ХозрасчетныйОстаткиИОбороты.Субконто1 КАК Справочник.Контрагенты) КАК Контрагент,
	|	ХозрасчетныйОстаткиИОбороты.Субконто2 КАК СчетФактура,
	|	ХозрасчетныйОстаткиИОбороты.СуммаНачальныйОстаток КАК СНД,
	|	-1 * ХозрасчетныйОстаткиИОбороты.СуммаНачальныйОстаток КАК СНК,
	|	ХозрасчетныйОстаткиИОбороты.СуммаОборотДт КАК ДО,
	|	ХозрасчетныйОстаткиИОбороты.СуммаОборотКт КАК КО,
	|	ХозрасчетныйОстаткиИОбороты.СуммаКонечныйОстаток КАК СКД,
	|	-1 * ХозрасчетныйОстаткиИОбороты.СуммаКонечныйОстаток КАК СКК,
	|	ВЫБОР
	|		КОГДА ХозрасчетныйОстаткиИОбороты.СуммаОборотКт > 0
	|				И ХозрасчетныйОстаткиИОбороты.СуммаОборотДт > 0
	|			ТОГДА ВЫБОР
	|					КОГДА ХозрасчетныйОстаткиИОбороты.СуммаОборотДт < ХозрасчетныйОстаткиИОбороты.СуммаОборотКт
	|						ТОГДА ХозрасчетныйОстаткиИОбороты.СуммаОборотДт
	|					ИНАЧЕ ХозрасчетныйОстаткиИОбороты.СуммаОборотКт
	|				КОНЕЦ
	|		ИНАЧЕ ВЫБОР
	|				КОГДА ХозрасчетныйОстаткиИОбороты.СуммаОборотКт < 0
	|						И ХозрасчетныйОстаткиИОбороты.СуммаОборотДт < 0
	|					ТОГДА ВЫБОР
	|							КОГДА ХозрасчетныйОстаткиИОбороты.СуммаОборотДт > ХозрасчетныйОстаткиИОбороты.СуммаОборотКт
	|								ТОГДА ХозрасчетныйОстаткиИОбороты.СуммаОборотДт
	|							ИНАЧЕ ХозрасчетныйОстаткиИОбороты.СуммаОборотКт
	|						КОНЕЦ
	|				ИНАЧЕ 0
	|			КОНЕЦ
	|	КОНЕЦ КАК Вычет
	|ПОМЕСТИТЬ ВсеНДСАвансов
	|ИЗ
	|	РегистрБухгалтерии.Хозрасчетный.ОстаткиИОбороты(&НачалоПериода, &КонецПериода, Период, , Счет В (&СчетаНДСАвансов), &СубконтоКонтрагентыСФ, Организация В (&Организации)) КАК ХозрасчетныйОстаткиИОбороты
	|
	|ИНДЕКСИРОВАТЬ ПО
	|	СчетФактура
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	ВсеАвансы.Организация КАК Организация,
	|	ВсеАвансы.Субконто1 КАК Субконто1,
	|	ВсеАвансы.Субконто2 КАК Субконто2,
	|	ВсеАвансы.Субконто3 КАК Субконто3,
	|	ВсеАвансы.ДолгосрочнаяЗадолженность КАК ДолгосрочнаяЗадолженность,
	|	СУММА(1) КАК КоличествоЗаписей
	|ПОМЕСТИТЬ СовпадающаяАналитикаНДС
	|ИЗ
	|	ВсеАвансы КАК ВсеАвансы
	|
	|СГРУППИРОВАТЬ ПО
	|	ВсеАвансы.Организация,
	|	ВсеАвансы.Субконто1,
	|	ВсеАвансы.Субконто2,
	|	ВсеАвансы.Субконто3,
	|	ВсеАвансы.ДолгосрочнаяЗадолженность
	|
	|ИМЕЮЩИЕ
	|	(КОЛИЧЕСТВО(РАЗЛИЧНЫЕ ВсеАвансы.СчетРасчетов) > 1
	|		ИЛИ КОЛИЧЕСТВО(РАЗЛИЧНЫЕ ВсеАвансы.ДолгосрочнаяЗадолженность) > 1)
	|
	|ИНДЕКСИРОВАТЬ ПО
	|	Организация,
	|	Субконто1,
	|	Субконто2,
	|	Субконто3
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	ВсеНДСАвансов.Организация КАК Организация,
	|	ВсеНДСАвансов.Контрагент КАК Контрагент,
	|	ЕСТЬNULL(КонтрагентыДоговорыСФ.Договор, ЗНАЧЕНИЕ(Справочник.ДоговорыКонтрагентов.ПустаяСсылка)) КАК Договор,
	|	ВсеНДСАвансов.СчетФактура КАК СчетФактура,
	|	ВсеНДСАвансов.Счет КАК Счет,
	|	СУММА(ВсеНДСАвансов.СНД) КАК СНД,
	|	СУММА(ВсеНДСАвансов.СНК) КАК СНК,
	|	СУММА(ВсеНДСАвансов.ДО) КАК ДО,
	|	СУММА(ВсеНДСАвансов.КО) КАК КО,
	|	СУММА(ВсеНДСАвансов.СКД) КАК СКД,
	|	СУММА(ВсеНДСАвансов.СКК) КАК СКК,
	|	СУММА(ВсеНДСАвансов.Вычет) КАК Вычет
	|ПОМЕСТИТЬ НДСАвансов
	|ИЗ
	|	ВсеНДСАвансов КАК ВсеНДСАвансов
	|		ЛЕВОЕ СОЕДИНЕНИЕ КонтрагентыДоговорыСФ КАК КонтрагентыДоговорыСФ
	|		ПО ВсеНДСАвансов.СчетФактура = КонтрагентыДоговорыСФ.Ссылка
	|ГДЕ
	|	&РазделятьАвансыПоВидамАктива
	|
	|СГРУППИРОВАТЬ ПО
	|	ВсеНДСАвансов.Организация,
	|	ВсеНДСАвансов.Контрагент,
	|	ЕСТЬNULL(КонтрагентыДоговорыСФ.Договор, ЗНАЧЕНИЕ(Справочник.ДоговорыКонтрагентов.ПустаяСсылка)),
	|	ВсеНДСАвансов.СчетФактура,
	|	ВсеНДСАвансов.Счет
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	НДСАвансов.Организация КАК Организация,
	|	ВЫБОР
	|		КОГДА СовпадающаяАналитика.КоличествоЗаписей ЕСТЬ NULL
	|			ТОГДА ЗНАЧЕНИЕ(Справочник.Контрагенты.ПустаяСсылка)
	|		ИНАЧЕ НДСАвансов.Контрагент
	|	КОНЕЦ КАК Субконто1,
	|	ВЫБОР
	|		КОГДА СовпадающаяАналитика.КоличествоЗаписей ЕСТЬ NULL
	|			ТОГДА ЗНАЧЕНИЕ(Справочник.ДоговорыКонтрагентов.ПустаяСсылка)
	|		ИНАЧЕ НДСАвансов.Договор
	|	КОНЕЦ КАК Субконто2,
	|	ВЫБОР
	|		КОГДА СовпадающаяАналитика.КоличествоЗаписей ЕСТЬ NULL
	|			ТОГДА НЕОПРЕДЕЛЕНО
	|		ИНАЧЕ НДСАвансов.СчетФактура
	|	КОНЕЦ КАК Субконто3,
	|	НДСАвансов.Счет КАК Счет,
	|	СУММА(НДСАвансов.СНД) КАК СНД,
	|	СУММА(НДСАвансов.СНК) КАК СНК,
	|	СУММА(НДСАвансов.ДО) КАК ДО,
	|	СУММА(НДСАвансов.КО) КАК КО,
	|	СУММА(НДСАвансов.СКД) КАК СКД,
	|	СУММА(НДСАвансов.СКК) КАК СКК,
	|	СУММА(НДСАвансов.Вычет) КАК Вычет,
	|	ЕСТЬNULL(ВсеАвансы.СчетРасчетов, ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.ПустаяСсылка)) КАК СчетРасчетов,
	|	ЕСТЬNULL(ВсеАвансы.ДолгосрочнаяЗадолженность, ЛОЖЬ) КАК ДолгосрочнаяЗадолженность,
	|	СУММА(ВЫБОР
	|			КОГДА ЕСТЬNULL(ВсеАвансы.СН, 0) > 0
	|				ТОГДА ЕСТЬNULL(ВсеАвансы.СН, 0)
	|			ИНАЧЕ 0
	|		КОНЕЦ) КАК Расчет_СН,
	|	СУММА(ВЫБОР
	|			КОГДА ЕСТЬNULL(ВсеАвансы.ДО, 0) > 0
	|				ТОГДА ЕСТЬNULL(ВсеАвансы.ДО, 0)
	|			ИНАЧЕ 0
	|		КОНЕЦ) КАК Расчет_ДО,
	|	СУММА(ВЫБОР
	|			КОГДА ЕСТЬNULL(ВсеАвансы.КО, 0) > 0
	|				ТОГДА ЕСТЬNULL(ВсеАвансы.КО, 0)
	|			ИНАЧЕ 0
	|		КОНЕЦ) КАК Расчет_КО,
	|	СУММА(ВЫБОР
	|			КОГДА ЕСТЬNULL(ВсеАвансы.СК, 0) > 0
	|				ТОГДА ЕСТЬNULL(ВсеАвансы.СК, 0)
	|			ИНАЧЕ 0
	|		КОНЕЦ) КАК Расчет_СК,
	|	СУММА(ВЫБОР
	|			КОГДА ЕСТЬNULL(ВсеАвансы.Вычет, 0) > 0
	|				ТОГДА ЕСТЬNULL(ВсеАвансы.Вычет, 0)
	|			ИНАЧЕ 0
	|		КОНЕЦ) КАК Расчет_Вычет,
	|	НЕ СовпадающаяАналитика.КоличествоЗаписей ЕСТЬ NULL КАК СовпадающиеЗаписи
	|ПОМЕСТИТЬ НДСАвансовПоСчетамРасчетов
	|ИЗ
	|	НДСАвансов КАК НДСАвансов
	|		ЛЕВОЕ СОЕДИНЕНИЕ ВсеАвансы КАК ВсеАвансы
	|		ПО НДСАвансов.Организация = ВсеАвансы.Организация
	|			И НДСАвансов.Контрагент = ВсеАвансы.Субконто1
	|			И НДСАвансов.Договор = ВсеАвансы.Субконто2
	|			И НДСАвансов.СчетФактура = ВсеАвансы.Субконто3
	|		ЛЕВОЕ СОЕДИНЕНИЕ СовпадающаяАналитикаНДС КАК СовпадающаяАналитика
	|		ПО НДСАвансов.Организация = СовпадающаяАналитика.Организация
	|			И НДСАвансов.Контрагент = СовпадающаяАналитика.Субконто1
	|			И НДСАвансов.Договор = СовпадающаяАналитика.Субконто2
	|			И НДСАвансов.СчетФактура = СовпадающаяАналитика.Субконто3
	|
	|СГРУППИРОВАТЬ ПО
	|	НДСАвансов.Организация,
	|	ВЫБОР
	|		КОГДА СовпадающаяАналитика.КоличествоЗаписей ЕСТЬ NULL
	|			ТОГДА ЗНАЧЕНИЕ(Справочник.Контрагенты.ПустаяСсылка)
	|		ИНАЧЕ НДСАвансов.Контрагент
	|	КОНЕЦ,
	|	ВЫБОР
	|		КОГДА СовпадающаяАналитика.КоличествоЗаписей ЕСТЬ NULL
	|			ТОГДА ЗНАЧЕНИЕ(Справочник.ДоговорыКонтрагентов.ПустаяСсылка)
	|		ИНАЧЕ НДСАвансов.Договор
	|	КОНЕЦ,
	|	ВЫБОР
	|		КОГДА СовпадающаяАналитика.КоличествоЗаписей ЕСТЬ NULL
	|			ТОГДА НЕОПРЕДЕЛЕНО
	|		ИНАЧЕ НДСАвансов.СчетФактура
	|	КОНЕЦ,
	|	НДСАвансов.Счет,
	|	ЕСТЬNULL(ВсеАвансы.СчетРасчетов, ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.ПустаяСсылка)),
	|	ЕСТЬNULL(ВсеАвансы.ДолгосрочнаяЗадолженность, ЛОЖЬ),
	|	НЕ СовпадающаяАналитика.КоличествоЗаписей ЕСТЬ NULL
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	НДСАвансовПоСчетамРасчетов.Организация КАК Организация,
	|	НДСАвансовПоСчетамРасчетов.Счет КАК Счет,
	|	НДСАвансовПоСчетамРасчетов.Субконто1 КАК Субконто1,
	|	НДСАвансовПоСчетамРасчетов.Субконто2 КАК Субконто2,
	|	НДСАвансовПоСчетамРасчетов.Субконто3 КАК Субконто3,
	|	СУММА(НДСАвансовПоСчетамРасчетов.Расчет_СН) КАК ИтогоРасчет_СН,
	|	СУММА(НДСАвансовПоСчетамРасчетов.Расчет_ДО) КАК ИтогоРасчет_ДО,
	|	СУММА(НДСАвансовПоСчетамРасчетов.Расчет_КО) КАК ИтогоРасчет_КО,
	|	СУММА(НДСАвансовПоСчетамРасчетов.Расчет_СК) КАК ИтогоРасчет_СК,
	|	СУММА(НДСАвансовПоСчетамРасчетов.Расчет_Вычет) КАК ИтогоРасчет_Вычет
	|ПОМЕСТИТЬ ИтогоРасчетыПоАналитике
	|ИЗ
	|	НДСАвансовПоСчетамРасчетов КАК НДСАвансовПоСчетамРасчетов
	|
	|СГРУППИРОВАТЬ ПО
	|	НДСАвансовПоСчетамРасчетов.Организация,
	|	НДСАвансовПоСчетамРасчетов.Счет,
	|	НДСАвансовПоСчетамРасчетов.Субконто1,
	|	НДСАвансовПоСчетамРасчетов.Субконто2,
	|	НДСАвансовПоСчетамРасчетов.Субконто3
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	НДСАвансовПоСчетамРасчетов.Организация КАК Организация,
	|	НДСАвансовПоСчетамРасчетов.Субконто1 КАК Субконто1,
	|	НДСАвансовПоСчетамРасчетов.Субконто2 КАК Субконто2,
	|	НДСАвансовПоСчетамРасчетов.Субконто3 КАК Субконто3,
	|	НДСАвансовПоСчетамРасчетов.Счет КАК Счет,
	|	НДСАвансовПоСчетамРасчетов.СНД КАК СНД,
	|	НДСАвансовПоСчетамРасчетов.СНК КАК СНК,
	|	НДСАвансовПоСчетамРасчетов.ДО КАК ДО,
	|	НДСАвансовПоСчетамРасчетов.КО КАК КО,
	|	НДСАвансовПоСчетамРасчетов.СКД КАК СКД,
	|	НДСАвансовПоСчетамРасчетов.СКК КАК СКК,
	|	НДСАвансовПоСчетамРасчетов.Вычет КАК Вычет,
	|	НДСАвансовПоСчетамРасчетов.СчетРасчетов КАК СчетРасчетов,
	|	НДСАвансовПоСчетамРасчетов.ДолгосрочнаяЗадолженность КАК ДолгосрочнаяЗадолженность,
	|	НДСАвансовПоСчетамРасчетов.Расчет_СН КАК Расчет_СН,
	|	НДСАвансовПоСчетамРасчетов.Расчет_ДО КАК Расчет_ДО,
	|	НДСАвансовПоСчетамРасчетов.Расчет_КО КАК Расчет_КО,
	|	НДСАвансовПоСчетамРасчетов.Расчет_СК КАК Расчет_СК,
	|	НДСАвансовПоСчетамРасчетов.Расчет_Вычет КАК Расчет_Вычет,
	|	НДСАвансовПоСчетамРасчетов.СовпадающиеЗаписи КАК СовпадающиеЗаписи,
	|	ИтогоРасчетыПоАналитике.ИтогоРасчет_СН КАК ИтогоРасчет_СН,
	|	ИтогоРасчетыПоАналитике.ИтогоРасчет_ДО КАК ИтогоРасчет_ДО,
	|	ИтогоРасчетыПоАналитике.ИтогоРасчет_КО КАК ИтогоРасчет_КО,
	|	ИтогоРасчетыПоАналитике.ИтогоРасчет_СК КАК ИтогоРасчет_СК,
	|	ИтогоРасчетыПоАналитике.ИтогоРасчет_Вычет КАК ИтогоРасчет_Вычет
	|ИЗ
	|	НДСАвансовПоСчетамРасчетов КАК НДСАвансовПоСчетамРасчетов
	|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ ИтогоРасчетыПоАналитике КАК ИтогоРасчетыПоАналитике
	|		ПО НДСАвансовПоСчетамРасчетов.Организация = ИтогоРасчетыПоАналитике.Организация
	|			И НДСАвансовПоСчетамРасчетов.Счет = ИтогоРасчетыПоАналитике.Счет
	|			И НДСАвансовПоСчетамРасчетов.Субконто1 = ИтогоРасчетыПоАналитике.Субконто1
	|			И НДСАвансовПоСчетамРасчетов.Субконто2 = ИтогоРасчетыПоАналитике.Субконто2
	|			И НДСАвансовПоСчетамРасчетов.Субконто3 = ИтогоРасчетыПоАналитике.Субконто3";
	
	Если ВидСчетовФактур = "СФПолученные" И КонтекстРаздела.Свойство("РазделятьАвансыПоВидамАктивов") И КонтекстРаздела.РазделятьАвансыПоВидамАктивов Тогда
		Запрос.Текст = СтрЗаменить(ТекстЗапроса, "&РазделятьАвансыПоВидамАктива", "НЕ КонтрагентыДоговорыСФ.Договор.ВидАктива В (&ИсключаемыеВидыАктиваАвансов)");
	Иначе
		Запрос.Текст = СтрЗаменить(ТекстЗапроса, "&РазделятьАвансыПоВидамАктива", "ИСТИНА");
	КонецЕсли;
	
	ДополнитьТекстЗапросаПоДоговорамСчетовФактур(Запрос, Запрос.Параметры, ВидСчетовФактур);
	
	Возврат Запрос.Текст;
	
КонецФункции

Процедура ДополнитьТекстЗапросаПоДоговорамСчетовФактур(ИсходныйЗапрос, ПараметрыЗапроса, ВидСчетовФактур)
	
	ЗапросПоВидамСчетовФактур = Новый Запрос;
	ЗапросПоВидамСчетовФактур.Текст =
		"ВЫБРАТЬ РАЗЛИЧНЫЕ
		|	ТИПЗНАЧЕНИЯ(ХозрасчетныйОстаткиИОбороты.Субконто2) КАК ТипДокумента
		|ИЗ
		|	РегистрБухгалтерии.Хозрасчетный.ОстаткиИОбороты(
		|			&НачалоПериода,
		|			&КонецПериода,
		|			Период,
		|			,
		|			Счет В (&СчетаСоСчетамиФактурами),
		|			&СубконтоКонтрагентыСФ,
		|			Организация В (&Организации)) КАК ХозрасчетныйОстаткиИОбороты";
	
	СубконтоКонтрагентыСФ = Новый Массив;
	СубконтоКонтрагентыСФ.Добавить(ПланыВидовХарактеристик.ВидыСубконтоХозрасчетные.Контрагенты);
	СубконтоКонтрагентыСФ.Добавить(ПланыВидовХарактеристик.ВидыСубконтоХозрасчетные[ВидСчетовФактур]);
	
	ЗапросПоВидамСчетовФактур.УстановитьПараметр("Организации", ПараметрыЗапроса.Организации);
	ЗапросПоВидамСчетовФактур.УстановитьПараметр("НачалоПериода", ПараметрыЗапроса.НачалоПериода);
	ЗапросПоВидамСчетовФактур.УстановитьПараметр("КонецПериода", ПараметрыЗапроса.КонецПериода);
	ЗапросПоВидамСчетовФактур.УстановитьПараметр("СчетаСоСчетамиФактурами", ПараметрыЗапроса.СчетаНДСАвансов);
	ЗапросПоВидамСчетовФактур.УстановитьПараметр("СубконтоКонтрагентыСФ", СубконтоКонтрагентыСФ);
	
	СоздательВременнойТаблицы =
		"ВЫБРАТЬ
		|	ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка) КАК Организация,
		|	ЗНАЧЕНИЕ(Документ.РеализацияТоваровУслуг.ПустаяСсылка) КАК Ссылка,
		|	ЗНАЧЕНИЕ(Справочник.Контрагенты.ПустаяСсылка) КАК Контрагент,
		|	ЗНАЧЕНИЕ(Справочник.ДоговорыКонтрагентов.ПустаяСсылка) КАК Договор
		|ПОМЕСТИТЬ КонтрагентыДоговорыСФ
		|ГДЕ
		|	ЛОЖЬ";
	
	ШаблонДополнения =
		"ВЫБРАТЬ
		|	ВидДокумента.Организация,
		|	ВидДокумента.Ссылка,
		|	ВидДокумента.Контрагент,
		|	ВидДокумента.ДоговорКонтрагента
		|ИЗ
		|	&ПолноеИмяДокумента КАК ВидДокумента
		|";
	
	ШаблонОбъединение =
		"
		|
		|ОБЪЕДИНИТЬ ВСЕ
		|
		|";

	ШаблонИндексирование = 
		"
		|ИНДЕКСИРОВАТЬ ПО
		|	Ссылка
		|;
		|
		|";
	
	ТекстыПодзапросов = Новый Массив;
	ТекстыПодзапросов.Добавить(СоздательВременнойТаблицы);
	ВыборкаПоТипамДокументов = ЗапросПоВидамСчетовФактур.Выполнить().Выбрать();
	
	Пока ВыборкаПоТипамДокументов.Следующий() Цикл
		Если ЗначениеЗаполнено(ВыборкаПоТипамДокументов.ТипДокумента) Тогда
			МетаданныеДокумента = Метаданные.НайтиПоТипу(ВыборкаПоТипамДокументов.ТипДокумента);
			Если МетаданныеДокумента <> Неопределено Тогда
				Если ДокументСодержитНужныеРеквизиты(МетаданныеДокумента) Тогда
					ТекстыПодзапросов.Добавить(СтрЗаменить(ШаблонДополнения, "&ПолноеИмяДокумента", МетаданныеДокумента.ПолноеИмя()));
				КонецЕсли;
			КонецЕсли;
		КонецЕсли;
	КонецЦикла;
	
	ТекстЗапроса = СтрШаблон("%1 %2", СтрСоединить(ТекстыПодзапросов, ШаблонОбъединение), ШаблонИндексирование);
	
	ИсходныйЗапрос.Текст = ТекстЗапроса + ИсходныйЗапрос.Текст;
	
КонецПроцедуры

Функция ДокументСодержитНужныеРеквизиты(МетаданныеДокумента)

	Возврат МетаданныеДокумента.Реквизиты.Найти("Организация") <> Неопределено
			И МетаданныеДокумента.Реквизиты.Найти("Контрагент") <> Неопределено
			И МетаданныеДокумента.Реквизиты.Найти("ДоговорКонтрагента") <> Неопределено;
	
КонецФункции

#КонецОбласти

#КонецОбласти

#Область НаборыСчетов

Функция НовыйНаборыСчетов()
	
	Таблица = Новый ТаблицаЗначений;
	Таблица.Колонки.Добавить("ИмяНабора",        ОбщегоНазначения.ОписаниеТипаСтрока(100));
	
	#Область Отборы
	// Отборы для присваивания счету ИмяНабора
	Таблица.Колонки.Добавить("ВидСчета",         Новый ОписаниеТипов("ВидСчета"));
	Таблица.Колонки.Добавить("ПоСрочности",      Новый ОписаниеТипов("Булево"));
	Таблица.Колонки.Добавить("РазделятьАвансыПоВидамАктивов", Новый ОписаниеТипов("Булево"));
	Таблица.Колонки.Добавить("ВидСубконто1",     Новый ОписаниеТипов("ПланВидовХарактеристикСсылка.ВидыСубконтоХозрасчетные"));
	Таблица.Колонки.Добавить("ВидСубконто2",     Новый ОписаниеТипов("ПланВидовХарактеристикСсылка.ВидыСубконтоХозрасчетные"));
	Таблица.Колонки.Добавить("ВидСубконто3",     Новый ОписаниеТипов("ПланВидовХарактеристикСсылка.ВидыСубконтоХозрасчетные"));
	// Наборы могут быть полностью идентичны по параметрам, но использоваться для разных нужд.
	// В этом случае один из наборов должен иметь признак "Предопределенный" и присваиваться непосредственно счетам
	// и он не будет участвовать в поиске счета
	Таблица.Колонки.Добавить("Предопределенный", Новый ОписаниеТипов("Булево"));
	#КонецОбласти
	
	#Область ПараметрыЗапроса
	// Параметры для конструирования запроса
	Таблица.Колонки.Добавить("ИмяПараметраВидыСубконто", Новый ОписаниеТипов("Строка"));
	Таблица.Колонки.Добавить("СписокСчетов",     Новый ОписаниеТипов("Массив"));
	Таблица.Колонки.Добавить("ДополнительныйОтбор",  Новый ОписаниеТипов("Булево"));
	Таблица.Колонки.Добавить("ИндексироватьПо",      Новый ОписаниеТипов("Строка"));
	Таблица.Колонки.Добавить("ИмяВТ",            Новый ОписаниеТипов("Строка"));
	#КонецОбласти
	
	Таблица.Колонки.Добавить("ОтражатьВДебиторской",  Новый ОписаниеТипов("Булево"));
	Таблица.Колонки.Добавить("ОтражатьВКредиторской", Новый ОписаниеТипов("Булево"));

	Возврат Таблица;
КонецФункции

// Определяет состав параметров, по которым можно найти счет и добавить в список набора
// Имя набора - параметр запроса, который содержит список счетов
Функция НаборыСчетов(КонтекстРаздела, СписокВидовСубконто)
	
	ВидСчетаЗадолженности = ВидСчета.Активный;
	Если КонтекстРаздела.ВидЗадолженности = "КредиторскаяЗадолженность" Тогда
		ВидСчетаЗадолженности = ВидСчета.Пассивный;
	КонецЕсли;
	
	НаборыСчетов = НовыйНаборыСчетов();
	
	// ПоСрочности = Истина
	СтрокаНабора = ДобавитьСтрокуНабораСчетов(НаборыСчетов, "СчетаПоСрочностиПоДоговорам", СписокВидовСубконто, "СубконтоКонтрагентыДоговоры");
	СтрокаНабора.ВидСчета = ВидСчетаЗадолженности;
	СтрокаНабора.ПоСрочности = Истина;
	
	СтрокаНабора = ДобавитьСтрокуНабораСчетов(НаборыСчетов, "АПСчетаПоСрочностиПоДоговорам", СписокВидовСубконто, "СубконтоКонтрагентыДоговоры");
	СтрокаНабора.ВидСчета = ВидСчета.АктивноПассивный;
	СтрокаНабора.ПоСрочности = Истина;
	
	СтрокаНабора = ДобавитьСтрокуНабораСчетов(НаборыСчетов, "СчетаПоСрочностиПоДокументам", СписокВидовСубконто, "СубконтоКонтрагентыДоговорыДокументы");
	СтрокаНабора.ВидСчета = ВидСчетаЗадолженности;
	СтрокаНабора.ПоСрочности = Истина;

	СтрокаНабора = ДобавитьСтрокуНабораСчетов(НаборыСчетов, "СчетаПоСрочностиПоДоговорамИВидуАктива", СписокВидовСубконто, "СубконтоКонтрагентыДоговоры");
	СтрокаНабора.ВидСчета = ВидСчетаЗадолженности;
	СтрокаНабора.ПоСрочности = Истина;
	СтрокаНабора.ДополнительныйОтбор = Истина;
	СтрокаНабора.ИмяВТ = "Авансы";
	СтрокаНабора.РазделятьАвансыПоВидамАктивов = Истина;
	СтрокаНабора.ОтражатьВКредиторской = Ложь;

	СтрокаНабора = ДобавитьСтрокуНабораСчетов(НаборыСчетов, "СчетаПоСрочностиПоДокументамИВидуАктива", СписокВидовСубконто, "СубконтоКонтрагентыДоговорыДокументы");
	СтрокаНабора.ВидСчета = ВидСчетаЗадолженности;
	СтрокаНабора.ПоСрочности = Истина;
	СтрокаНабора.ДополнительныйОтбор = Истина;
	СтрокаНабора.ИмяВТ = "Авансы";
	СтрокаНабора.РазделятьАвансыПоВидамАктивов = Истина;
	СтрокаНабора.ОтражатьВКредиторской = Ложь;
	
	// ПоСрочности = Ложь
	СтрокаНабора = ДобавитьСтрокуНабораСчетов(НаборыСчетов, "АПСчетаПоКонтрагентам", СписокВидовСубконто, "СубконтоКонтрагенты");
	СтрокаНабора.ВидСчета = ВидСчета.АктивноПассивный;
	
	СтрокаНабора = ДобавитьСтрокуНабораСчетов(НаборыСчетов, "СчетаПоДоговорам", СписокВидовСубконто, "СубконтоКонтрагентыДоговоры");
	СтрокаНабора.ВидСчета = ВидСчетаЗадолженности;
	
	СтрокаНабора = ДобавитьСтрокуНабораСчетов(НаборыСчетов, "АПСчетаПоДоговорам", СписокВидовСубконто, "СубконтоКонтрагентыДоговоры");
	СтрокаНабора.ВидСчета = ВидСчета.АктивноПассивный;
	
	СтрокаНабора = ДобавитьСтрокуНабораСчетов(НаборыСчетов, "АПСчетаПоРаботникам", СписокВидовСубконто, "СубконтоРаботники");
	СтрокаНабора.ВидСчета = ВидСчета.АктивноПассивный;

	СтрокаНабора = ДобавитьСтрокуНабораСчетов(НаборыСчетов, "СчетаПоРаботникам", СписокВидовСубконто, "СубконтоРаботники");
	СтрокаНабора.ВидСчета = ВидСчетаЗадолженности;

	СтрокаНабора = ДобавитьСтрокуНабораСчетов(НаборыСчетов, "СчетаБезУчетаАналитики", СписокВидовСубконто);
	СтрокаНабора.ВидСчета = ВидСчетаЗадолженности;
	Если КонтекстРаздела.ВидЗадолженности = "КредиторскаяЗадолженность" Тогда
		СтрокаНабора.СписокСчетов.Добавить(ПланыСчетов.Хозрасчетный.РасчетыПоКраткосрочнымКредитамИЗаймам); // 66
		СтрокаНабора.СписокСчетов.Добавить(ПланыСчетов.Хозрасчетный.РасчетыПоДолгосрочнымКредитамИЗаймам);  // 67
	КонецЕсли;
	
	СтрокаНабора = ДобавитьСтрокуНабораСчетов(НаборыСчетов, "АПСчетаБезУчетаАналитики", СписокВидовСубконто);
	Если ЗаполнениеБухгалтерскойОтчетности.УчетНа70ВедетсяСводно() Тогда
		СтрокаНабора.СписокСчетов.Добавить(ПланыСчетов.Хозрасчетный.РасчетыСПерсоналомПоОплатеТруда);  // 70
	КонецЕсли;
	СтрокаНабора.ВидСчета = ВидСчета.АктивноПассивный;
		
	СтрокаНабора = ДобавитьСтрокуНабораСчетов(НаборыСчетов, "СчетаПоКонтрагентамРБПиПоВидуАктива", СписокВидовСубконто, "СубконтоКонтрагентыРБП");
	СтрокаНабора.ВидСчета = ВидСчетаЗадолженности;
	СтрокаНабора.ДополнительныйОтбор = Истина;
	СтрокаНабора.ИндексироватьПо = "Субконто2";
	СтрокаНабора.ИмяВТ = "РасчетыПоСтрахованию";
	СтрокаНабора.ОтражатьВКредиторской = Ложь;
	
	СтрокаНабора = ДобавитьСтрокуНабораСчетов(НаборыСчетов, "СчетаПоРБПиПоВидуАктива", СписокВидовСубконто, "СубконтоРасходыБудущихПериодов");
	СтрокаНабора.ВидСчета = ВидСчетаЗадолженности;
	СтрокаНабора.ДополнительныйОтбор = Истина;
	СтрокаНабора.ИндексироватьПо = "Субконто1";
	СтрокаНабора.ИмяВТ = "РасходыБудущихПериодов";
	СтрокаНабора.ОтражатьВКредиторской = Ложь;

	#Область Предопределенные
	СтрокаНабора = ДобавитьСтрокуНабораСчетов(НаборыСчетов, "АПСчетаНА", СписокВидовСубконто);
	СтрокаНабора.ВидСчета = ВидСчета.АктивноПассивный;
	СтрокаНабора.СписокСчетов.Добавить(ПланыСчетов.Хозрасчетный.РасчетыНДСНалоговогоАгента); // 76.НА
	СтрокаНабора.Предопределенный = Истина;
	СтрокаНабора.ОтражатьВКредиторской = Ложь;
	
	СтрокаНабора = ДобавитьСтрокуНабораСчетов(НаборыСчетов, "АПСчетаПоВидамПлатежей", СписокВидовСубконто, "СубконтоВидыПлатежей");
	СтрокаНабора.ВидСчета = ВидСчета.АктивноПассивный;
	СтрокаНабора.СписокСчетов.Добавить(ПланыСчетов.Хозрасчетный.ПрочиеНалогиИСборы); // 68.10
	СтрокаНабора.СписокСчетов.Добавить(ПланыСчетов.Хозрасчетный.ПФР_доп);            // 69.02.3
	СтрокаНабора.СписокСчетов.Добавить(ПланыСчетов.Хозрасчетный.ПФР_доп_шахтеры);    // 69.02.4
	СтрокаНабора.СписокСчетов.Добавить(ПланыСчетов.Хозрасчетный.ПФР_ДОБР_орг);       // 69.05.1
	СтрокаНабора.СписокСчетов.Добавить(ПланыСчетов.Хозрасчетный.ПФР_ДОБР_сотр);      // 69.05.2
	СтрокаНабора.СписокСчетов.Добавить(ПланыСчетов.Хозрасчетный.ФСС_СтраховойГод);   // 69.06.4
	СтрокаНабора.СписокСчетов.Добавить(ПланыСчетов.Хозрасчетный.ФСС_НСиПЗ);          // 69.11
	СтрокаНабора.Предопределенный = Истина;
	#КонецОбласти
	
	Возврат НаборыСчетов;
КонецФункции

Функция ДобавитьСтрокуНабораСчетов(НаборыСчетов, ИмяНабора, СписокВидовСубконто, ИмяПараметраВидыСубконто = "")
	
	СтрокаНабора = НаборыСчетов.Добавить();
	СтрокаНабора.ИмяНабора = ИмяНабора;

	СтрокаНабора.ОтражатьВДебиторской = Истина;
	СтрокаНабора.ОтражатьВКредиторской = Истина;
	
	Если ИмяПараметраВидыСубконто <> "" Тогда 
		Если СписокВидовСубконто.Свойство(ИмяПараметраВидыСубконто) = Неопределено Тогда
			ИмяПроцедуры = "ЗаполнениеБухгалтерскойОтчетностиПоясненияЗадолженность.ДобавитьСтрокуНабораСчетов";
			ВызватьИсключение СтрШаблон(НСтр("ru = 'В функции %1 не найдены Виды субконто по переданному имени';
											|en = 'In the %1 function, no Extra dimension types are found by the passed name'"),
					ИмяПроцедуры);
		Иначе
			СписокСубконто = СписокВидовСубконто[ИмяПараметраВидыСубконто];
			Для НомерСубконто = 1 По СписокСубконто.Количество() Цикл
				СтрокаНабора[СтрШаблон("ВидСубконто%1", НомерСубконто)] = СписокСубконто[НомерСубконто -1];
			КонецЦикла;
		КонецЕсли;
	КонецЕсли;
	
	СтрокаНабора.ИмяПараметраВидыСубконто = ИмяПараметраВидыСубконто;
	
	Возврат СтрокаНабора;
	
КонецФункции

Процедура ДополнитьНаборыСчетами(НаборыСчетов, ТаблицаСчетов)
	
	Для Каждого СтрокаНабора Из НаборыСчетов Цикл
		СтрокиСчетов = ТаблицаСчетов.НайтиСтроки(Новый Структура("ИмяНабора", СтрокаНабора.ИмяНабора));
		
		Счета = Новый Массив;
		Для Каждого СтрокаТаблицы Из СтрокиСчетов Цикл
			Счета.Добавить(СтрокаТаблицы.Счет);
		КонецЦикла;
		ОбщегоНазначенияКлиентСервер.ДополнитьМассив(СтрокаНабора.СписокСчетов, Счета, Истина);
	КонецЦикла;
	
КонецПроцедуры

#КонецОбласти

#Область ТаблицаСчетов

Функция НовыйТаблицаСчетов()

	ТаблицаСчетов = Новый ТаблицаЗначений;
	ТаблицаСчетов.Колонки.Добавить("Группа", ОбщегоНазначения.ОписаниеТипаЧисло(5, 0, ДопустимыйЗнак.Неотрицательный));// Индекс в НовыйГруппы
	ТаблицаСчетов.Колонки.Добавить("НаименованиеГруппы", ОбщегоНазначения.ОписаниеТипаСтрока(100));
	ТаблицаСчетов.Колонки.Добавить("ИмяНабора", ОбщегоНазначения.ОписаниеТипаСтрока(100));
	ТаблицаСчетов.Колонки.Добавить("Счет", Новый ОписаниеТипов("ПланСчетовСсылка.Хозрасчетный"));
	ТаблицаСчетов.Колонки.Добавить("ВидСчета", Новый ОписаниеТипов("ВидСчета"));
	ТаблицаСчетов.Колонки.Добавить("ПредставлениеСчета", Новый ОписаниеТипов("Строка"));
	ТаблицаСчетов.Колонки.Добавить("ПорядокСчета", Новый ОписаниеТипов("Строка"));
	ТаблицаСчетов.Колонки.Добавить("Валютный", Новый ОписаниеТипов("Булево"));
	ТаблицаСчетов.Колонки.Добавить("ПоСрочности", Новый ОписаниеТипов("Булево"));
	ТаблицаСчетов.Колонки.Добавить("ЭтоАктивныйСчет", Новый ОписаниеТипов("Булево"));
	ТаблицаСчетов.Колонки.Добавить("ЭтоПассивныйСчет", Новый ОписаниеТипов("Булево"));
	ТаблицаСчетов.Колонки.Добавить("ЭтоАктивноПассивныйСчет", Новый ОписаниеТипов("Булево"));
	ТаблицаСчетов.Колонки.Добавить("РазделятьАвансыПоВидамАктивов", Новый ОписаниеТипов("Булево"));
	ТаблицаСчетов.Колонки.Добавить("ОтражатьВКраткосрочной", Новый ОписаниеТипов("Булево"));
	ТаблицаСчетов.Колонки.Добавить("ОтражатьВДолгосрочной", Новый ОписаниеТипов("Булево"));
	
	Возврат ТаблицаСчетов;
		
КонецФункции

Функция ДобавитьДанныеСчетов(ТаблицаСчетов, Группа, СчетаГруппы, КонтекстРаздела)
	
	Строки = Новый Массив;
	
	// Счета исключения
	СчетаИсключения = ЗаполнениеБухгалтерскойОтчетности.СчетаИзСписка(СчетаГруппы.СчетаИсключения);
	
	// СчетаПоСрочности
	СчетаПоСрочности = ЗаполнениеБухгалтерскойОтчетности.СчетаИзСписка(СчетаГруппы.СчетаПоСрочности);
	
	// СчетаДолгосрочные
	ЗаполнениеБухгалтерскойОтчетностиПереопределяемый.ДополнитьДолгосрочнымиСчетами(СчетаГруппы);
	СчетаДолгосрочные = ЗаполнениеБухгалтерскойОтчетности.СчетаИзСписка(СчетаГруппы.СчетаДолгосрочные);
	
	// Счета расчетов
	СчетаРасчетов = ЗаполнениеБухгалтерскойОтчетности.СчетаИзСписка(СчетаГруппы.СчетаРасчетов);
	
	ВсеСчетаГруппы = Новый Структура;
	ВсеСчетаГруппы.Вставить("СчетаПоСрочности", Новый Структура("Счета, СчетаИсключения", СчетаПоСрочности, СчетаИсключения));
	
	// дополняем счета исключения счетами по срочности
	СчетаИсключенияСчетовДолгосрочных= Новый Массив;
	ОбщегоНазначенияКлиентСервер.ДополнитьМассив(СчетаИсключенияСчетовДолгосрочных, СчетаИсключения);
	ОбщегоНазначенияКлиентСервер.ДополнитьМассив(СчетаИсключенияСчетовДолгосрочных, СчетаПоСрочности);
	
	ВсеСчетаГруппы.Вставить("СчетаДолгосрочные", Новый Структура("Счета, СчетаИсключения", СчетаДолгосрочные, СчетаИсключенияСчетовДолгосрочных));
	
	// дополняем счета исключения счетами, которые отражаются в долгосрочной части
	СчетаИсключенияСчетовРасчетов= Новый Массив;
	ОбщегоНазначенияКлиентСервер.ДополнитьМассив(СчетаИсключенияСчетовРасчетов, СчетаИсключения);
	ОбщегоНазначенияКлиентСервер.ДополнитьМассив(СчетаИсключенияСчетовРасчетов, СчетаПоСрочности);
	ОбщегоНазначенияКлиентСервер.ДополнитьМассив(СчетаИсключенияСчетовРасчетов, СчетаДолгосрочные);
	
	ВсеСчетаГруппы.Вставить("СчетаРасчетов", Новый Структура("Счета, СчетаИсключения", СчетаРасчетов, СчетаИсключенияСчетовРасчетов));
	
	Для Каждого СписокСчетов Из ВсеСчетаГруппы Цикл
		
		Если НЕ ЗначениеЗаполнено(СписокСчетов.Значение.Счета) Тогда
			Продолжить;
		КонецЕсли;
		
		Если СчетаГруппы.СПодчиненными Тогда
			ДанныеСчетов = СчетаВИерархии(КонтекстРаздела.ВидЗадолженности, СписокСчетов.Значение.Счета, СписокСчетов.Значение.СчетаИсключения);
		Иначе 
			ДанныеСчетов = СчетаВСписке(КонтекстРаздела.ВидЗадолженности, СписокСчетов.Значение.Счета, СписокСчетов.Значение.СчетаИсключения);
		КонецЕсли;
		
		Если СчетаГруппы.ОтборПоСубконто <> Неопределено Тогда
			ДанныеСчетов = СчетаПоСубконто(КонтекстРаздела.ВидЗадолженности, ДанныеСчетов.ВыгрузитьКолонку("Счет"), СчетаГруппы.ОтборПоСубконто);
		КонецЕсли;
		
		Для Каждого СтрокаСчет Из ДанныеСчетов Цикл
			
			Если Не КонтекстРаздела.ИспользуетсяВалютныйУчет И СтрокаСчет.Валютный Тогда
				Продолжить;
			КонецЕсли;
			
			СтрокаТаблицы = ТаблицаСчетов.Добавить();
			ЗаполнитьЗначенияСвойств(СтрокаТаблицы, СтрокаСчет);
			СтрокаТаблицы.Группа = Группа.Владелец().Индекс(Группа);
			
			Если СписокСчетов.Ключ = "СчетаПоСрочности" Тогда
				СтрокаТаблицы.ПоСрочности = Истина;
				СтрокаТаблицы.ОтражатьВКраткосрочной = Истина;
				СтрокаТаблицы.ОтражатьВДолгосрочной = Истина;
			ИначеЕсли СписокСчетов.Ключ = "СчетаДолгосрочные" Тогда
				СтрокаТаблицы.ОтражатьВДолгосрочной = Истина;
			Иначе
				СтрокаТаблицы.ОтражатьВКраткосрочной = Истина;
			КонецЕсли;

			СтрокаТаблицы.РазделятьАвансыПоВидамАктивов = СчетаГруппы.РазделятьАвансыПоВидамАктивов;
			
			Строки.Добавить(СтрокаТаблицы);
		КонецЦикла;
		
	КонецЦикла;
	
	Возврат Строки;
	
КонецФункции

Процедура ОпределитьНаборПоСвойствамСчета(НаборыСчетов, ТаблицаСчетов, ВидыСубконтоСчетов)
	
	// Для начала необходимо найти наборы, которые уже имеют список счетов
	// и полученным счетам присвоить ИмяНабора
	Для Каждого Набор Из НаборыСчетов Цикл
		Для Каждого Счет Из Набор.СписокСчетов Цикл
			СчетаВИерархии = БухгалтерскийУчетПовтИсп.СчетаВИерархии(Счет);
			Для Каждого СчетВИерархии Из СчетаВИерархии Цикл
				СтрокиТаблицыСчетов = ТаблицаСчетов.НайтиСтроки(Новый Структура("Счет", СчетВИерархии));
				Для Каждого СтрокаТаблицы Из СтрокиТаблицыСчетов Цикл
					СтрокаТаблицы.ИмяНабора = Набор.ИмяНабора;
				КонецЦикла;
			КонецЦикла;
		КонецЦикла;
	КонецЦикла;

	Для Каждого СтрокаСчет Из ТаблицаСчетов Цикл
		
		Если ЗначениеЗаполнено(СтрокаСчет.ИмяНабора) Тогда
			Продолжить;
		КонецЕсли;
		
		ИмяНабора = "";

		// поиск ИмяНабора по параметрам
		ОтборСчета = Новый Структура;
		ОтборСчета.Вставить("ВидСчета",     СтрокаСчет.ВидСчета);
		ОтборСчета.Вставить("ПоСрочности",  СтрокаСчет.ПоСрочности);
		ОтборСчета.Вставить("Предопределенный",  Ложь);
		ОтборСчета.Вставить("ВидСубконто1", ПланыВидовХарактеристик.ВидыСубконтоХозрасчетные.ПустаяСсылка());
		ОтборСчета.Вставить("ВидСубконто2", ПланыВидовХарактеристик.ВидыСубконтоХозрасчетные.ПустаяСсылка());
		ОтборСчета.Вставить("ВидСубконто3", ПланыВидовХарактеристик.ВидыСубконтоХозрасчетные.ПустаяСсылка());
		ОтборСчета.Вставить("РазделятьАвансыПоВидамАктивов", СтрокаСчет.РазделятьАвансыПоВидамАктивов);
		
		ВидыСубконтоСчета = ВидыСубконтоСчетов.НайтиСтроки(Новый Структура("Счет", СтрокаСчет.Счет));
		
		ВидыСубконто = Новый Структура;
		ВидыСубконто.Вставить("ВидСубконто1", Неопределено);
		ВидыСубконто.Вставить("ВидСубконто2", Неопределено);
		ВидыСубконто.Вставить("ВидСубконто3", Неопределено);
		
		Для Каждого СтрокаВидСубконто Из ВидыСубконтоСчета Цикл
			// Больше 3 видов субконто быть не может
			Если СтрокаВидСубконто.НомерСтроки > 3 Тогда
				Продолжить;
			КонецЕсли;
			ВидыСубконто[СтрШаблон("ВидСубконто%1", СтрокаВидСубконто.НомерСтроки)] = СтрокаВидСубконто.ВидСубконто;
		Конеццикла;
		
		ОбойтиВидыСубконтоРекурсивно(НаборыСчетов, ОтборСчета, ВидыСубконто, 3, ИмяНабора);
		
		СтрокаСчет.ИмяНабора = ИмяНабора;
		
		Если СтрокаСчет.ИмяНабора = "" Тогда
			СтрокаСчет.ИмяНабора = "СчетаБезУчетаАналитики";
			Если СтрокаСчет.ВидСчета = ВидСчета.АктивноПассивный Тогда
				СтрокаСчет.ИмяНабора = "АПСчетаБезУчетаАналитики";
			КонецЕсли;
		КонецЕсли;
	КонецЦикла;
		
КонецПроцедуры

Процедура ОбойтиВидыСубконтоРекурсивно(НаборыСчетов, ОтборСчета, ВидыСубконто, КоличествоИспользуемыхСубконто, ИмяНабора)
	
	ОтборСчетаКопия = ОбщегоНазначения.СкопироватьРекурсивно(ОтборСчета);
	
	КоличествоСубконто = 0;
	
	Для Каждого ВидСубконто Из ВидыСубконто Цикл
		
		Если Не ЗначениеЗаполнено(ВидСубконто.Значение) Или КоличествоСубконто = КоличествоИспользуемыхСубконто Тогда
			Прервать;
		КонецЕсли;
		
		ОтборСчетаКопия[ВидСубконто.Ключ] = ВидСубконто.Значение;
		КоличествоСубконто = КоличествоСубконто + 1;
	КонецЦикла;
	
	СтрокиНаборыСчетов = НаборыСчетов.НайтиСтроки(ОтборСчетаКопия);
	
	Если СтрокиНаборыСчетов.Количество() > 1 Тогда
		ИмяПроцедуры = "ЗаполнениеБухгалтерскойОтчетностиПоясненияЗадолженность.НаборыСчетовДебиторская";
		ВызватьИсключение СтрШаблон(НСтр("ru = 'Процедура %1 содержит более одного набора с одинаковыми характеристиками.
							|Для таких случаев необходимо использовать параметр ""Предопределенный"" и счету присваивать имя набора';
							|en = 'The %1 procedure contains more than one set with the same variants.
							|For such cases, use the ""Predefined"" parameter and assign a set name to the account'"),
			ИмяПроцедуры);
	КонецЕсли;
	
	Если ЗначениеЗаполнено(СтрокиНаборыСчетов) Тогда
		ИмяНабора = СтрокиНаборыСчетов[0].ИмяНабора;
		Возврат;
	КонецЕсли;
	
	Если КоличествоСубконто = 0 Тогда
		Возврат;
	КонецЕсли;
	
	Если КоличествоИспользуемыхСубконто <= 0 Тогда
		Возврат;
	КонецЕсли;
	
	КоличествоИспользуемыхСубконто = КоличествоСубконто - 1;
	ОбойтиВидыСубконтоРекурсивно(НаборыСчетов, ОтборСчета, ВидыСубконто, КоличествоИспользуемыхСубконто, ИмяНабора);
		
КонецПроцедуры

#КонецОбласти

#Область Группы

Функция НовыйГруппы()

	Группы = Новый ТаблицаЗначений;
	Группы.Колонки.Добавить("НаименованиеГруппы",        ОбщегоНазначения.ОписаниеТипаСтрока(100));
	Группы.Колонки.Добавить("МеткаШаблонПорядокРасчета", Новый ОписаниеТипов("Строка")); // см НовыйШаблонРасшифровки() - Шаблон.ПорядокРасчета
	Группы.Колонки.Добавить("ПоСрочности",             Новый ОписаниеТипов("Булево"));
	Группы.Колонки.Добавить("ОтразитьНДСАвансовБезОбъектовУчета", Новый ОписаниеТипов("Булево"));
	Группы.Колонки.Добавить("ОтразитьРезервыБезОбъектовУчета",    Новый ОписаниеТипов("Булево"));
	Группы.Колонки.Добавить("ОтразитьПроцентыПоРассрочке",    Новый ОписаниеТипов("Булево"));
	Группы.Колонки.Добавить("ОтражатьВКраткосрочной", Новый ОписаниеТипов("Булево"));
	Группы.Колонки.Добавить("ОтражатьВДолгосрочной", Новый ОписаниеТипов("Булево"));
	Группы.Колонки.Добавить("Вывод",                   Новый ОписаниеТипов("Булево"));
	Возврат Группы;
		
КонецФункции

Функция НовыйСчетаГруппы()
	
	Счета = Новый Структура;
	Счета.Вставить("СчетаРасчетов"); // из указанных счетов исключаются СчетаДолгосрочные, СчетаПоСрочности и СчетаИсключения
	Счета.Вставить("СчетаДолгосрочные"); // из указанных счетов исключаются СчетаПоСрочности и СчетаИсключения
	Счета.Вставить("СчетаПоСрочности");
	Счета.Вставить("СчетаИсключения");
	Счета.Вставить("ОтборПоСубконто");
	Счета.Вставить("РазделятьАвансыПоВидамАктивов", Ложь);
	Счета.Вставить("СПодчиненными", Истина);
	
	Возврат Счета;
КонецФункции

// Заполяет таблицу "Группы" и добавляет в таблицу счетов счета и имя группы
// 
// Параметры:
//  Группы  - см. НовыйГруппы
//  ТаблицаСчетов  - см. НовыйТаблицаСчетов
//  КонтекстРаздела  - см. КонтекстРазделаДебиторская
Процедура ЗаполнитьГруппыДебиторскойЗадолженности(Группы, ТаблицаСчетов, КонтекстРаздела)
	
	Группа = Группы.Добавить();
	Группа.НаименованиеГруппы = НСтр("ru = 'Расчеты с поставщиками и подрядчиками';
									|en = 'Расчеты с поставщиками и подрядчиками'");
	Группа.ОтразитьНДСАвансовБезОбъектовУчета = Истина;
	СчетаГруппы = НовыйСчетаГруппы();
	СчетаГруппы.СчетаПоСрочности = "60";
	СчетаГруппы.РазделятьАвансыПоВидамАктивов = Ложь;
	СтрокиСчетов = ДобавитьДанныеСчетов(ТаблицаСчетов, Группа, СчетаГруппы, КонтекстРаздела);
	ДополнитьГруппуДаннымиСчетов(Группа, СтрокиСчетов);
	Если КонтекстРаздела.РазделятьАвансыПоВидамАктивов Тогда
		Группа.МеткаШаблонПорядокРасчета = "Авансы";
	КонецЕсли;
	
	Группа = Группы.Добавить();
	Группа.НаименованиеГруппы = НСтр("ru = 'Расчеты с покупателями и заказчиками';
									|en = 'Расчеты с покупателями и заказчиками'");
	Группа.ОтразитьРезервыБезОбъектовУчета = Истина;
	СчетаГруппы = НовыйСчетаГруппы();
	СчетаГруппы.СчетаРасчетов = "62";
	СчетаГруппы.СчетаПоСрочности = "62.01, 62.21, 62.31, 62.03";
	СтрокиСчетов = ДобавитьДанныеСчетов(ТаблицаСчетов, Группа, СчетаГруппы, КонтекстРаздела);
	ДополнитьГруппуДаннымиСчетов(Группа, СтрокиСчетов);
	
	Группа = Группы.Добавить();
	Группа.НаименованиеГруппы = НСтр("ru = 'Расчеты с прочими поставщиками и подрядчиками';
									|en = 'Settlements with other vendors and contractors'");
	СчетаГруппы = НовыйСчетаГруппы();
	СчетаГруппы.СчетаПоСрочности = "76.05, 76.25, 76.35";
	СтрокиСчетов = ДобавитьДанныеСчетов(ТаблицаСчетов, Группа, СчетаГруппы, КонтекстРаздела);
	ДополнитьГруппуДаннымиСчетов(Группа, СтрокиСчетов);

	Группа = Группы.Добавить();
	Группа.НаименованиеГруппы = НСтр("ru = 'Расчеты с прочими покупателями и заказчиками';
									|en = 'Settlements with other customers'");
	СчетаГруппы = НовыйСчетаГруппы();
	СчетаГруппы.СчетаПоСрочности = "76.06, 76.26, 76.36";
	СтрокиСчетов = ДобавитьДанныеСчетов(ТаблицаСчетов, Группа, СчетаГруппы, КонтекстРаздела);
	ДополнитьГруппуДаннымиСчетов(Группа, СтрокиСчетов);
	
	Группа = Группы.Добавить();
	Группа.НаименованиеГруппы = НСтр("ru = 'Расчеты с разными дебиторами и кредиторами';
									|en = 'Расчеты с разными дебиторами и кредиторами'");
	СчетаГруппы = НовыйСчетаГруппы();
	СчетаГруппы.СчетаРасчетов = "76";
	СчетаГруппы.СчетаПоСрочности = "76.02, 76.22, 76.32, 76.03, 76.09, 76.29, 76.39, 76.К";
	СчетаГруппы.СчетаИсключения = "76.01.2, 76.01.9, 76.05, 76.25, 76.35, 76.06, 76.26, 76.36, 76.07, 76.АВ, 76.НА, 76.ОТ";
	СтрокиСчетов = ДобавитьДанныеСчетов(ТаблицаСчетов, Группа, СчетаГруппы, КонтекстРаздела);
	ДополнитьГруппуДаннымиСчетов(Группа, СтрокиСчетов);

	Группа = Группы.Добавить();
	Группа.НаименованиеГруппы = НСтр("ru = 'Расчеты по налогам и сборам';
									|en = 'Расчеты по налогам и сборам'");
	СчетаГруппы = НовыйСчетаГруппы();
	СчетаГруппы.СчетаРасчетов = "68";
	СчетаГруппы.СчетаИсключения = "68.02, 68.90, 68.04.2";
	СтрокиСчетов = ДобавитьДанныеСчетов(ТаблицаСчетов, Группа, СчетаГруппы, КонтекстРаздела);
	ДополнитьГруппуДаннымиСчетов(Группа, СтрокиСчетов);
	
	Группа = Группы.Добавить();
	Группа.НаименованиеГруппы = НСтр("ru = 'Расчеты по НДС, не отраженные на ЕНС';
									|en = 'Расчеты по НДС, не отраженные на ЕНС'");
	СчетаГруппы = НовыйСчетаГруппы();
	СчетаГруппы.СчетаРасчетов = "68.02";
	СтрокиСчетов = ДобавитьДанныеСчетов(ТаблицаСчетов, Группа, СчетаГруппы, КонтекстРаздела);
	ДополнитьГруппуДаннымиСчетов(Группа, СтрокиСчетов);

	Группа = Группы.Добавить();
	Группа.НаименованиеГруппы = НСтр("ru = 'Расчеты по ЕНС';
									|en = 'UTA settlements'");
	СчетаГруппы = НовыйСчетаГруппы();
	СчетаГруппы.СчетаРасчетов = "68.90";
	СтрокиСчетов = ДобавитьДанныеСчетов(ТаблицаСчетов, Группа, СчетаГруппы, КонтекстРаздела);
	ДополнитьГруппуДаннымиСчетов(Группа, СтрокиСчетов);

	Группа = Группы.Добавить();
	Группа.НаименованиеГруппы = НСтр("ru = 'Расчеты по социальному страхованию и обеспечению';
									|en = 'Расчеты по социальному страхованию и обеспечению'");
	СчетаГруппы = НовыйСчетаГруппы();
	СчетаГруппы.СчетаРасчетов = "69";
	СтрокиСчетов = ДобавитьДанныеСчетов(ТаблицаСчетов, Группа, СчетаГруппы, КонтекстРаздела);
	ДополнитьГруппуДаннымиСчетов(Группа, СтрокиСчетов);

	Группа = Группы.Добавить();
	Группа.НаименованиеГруппы = НСтр("ru = 'Расчеты с персоналом по оплате труда';
									|en = 'Расчеты с персоналом по оплате труда'");
	СчетаГруппы = НовыйСчетаГруппы();
	СчетаГруппы.СчетаРасчетов = "70";
	СтрокиСчетов = ДобавитьДанныеСчетов(ТаблицаСчетов, Группа, СчетаГруппы, КонтекстРаздела);
	ДополнитьГруппуДаннымиСчетов(Группа, СтрокиСчетов);

	Группа = Группы.Добавить();
	Группа.НаименованиеГруппы = НСтр("ru = 'Расчеты с подотчетными лицами';
									|en = 'AR/AP accounting for advance holders'");
	СчетаГруппы = НовыйСчетаГруппы();
	СчетаГруппы.СчетаРасчетов = "71";
	СтрокиСчетов = ДобавитьДанныеСчетов(ТаблицаСчетов, Группа, СчетаГруппы, КонтекстРаздела);
	ДополнитьГруппуДаннымиСчетов(Группа, СтрокиСчетов);

	Группа = Группы.Добавить();
	Группа.НаименованиеГруппы = НСтр("ru = 'Расчеты с персоналом по прочим операциям';
									|en = 'Расчеты с персоналом по прочим операциям'");
	СчетаГруппы = НовыйСчетаГруппы();
	СчетаГруппы.СчетаРасчетов = "73";
	СтрокиСчетов = ДобавитьДанныеСчетов(ТаблицаСчетов, Группа, СчетаГруппы, КонтекстРаздела);
	ДополнитьГруппуДаннымиСчетов(Группа, СтрокиСчетов);
	
	Группа = Группы.Добавить();
	Группа.НаименованиеГруппы = НСтр("ru = 'Расчеты по вкладам в уставный (складочный) капитал';
									|en = 'Расчеты по вкладам в уставный (складочный) капитал'");
	СчетаГруппы = НовыйСчетаГруппы();
	СчетаГруппы.СчетаРасчетов = "75";
	СтрокиСчетов = ДобавитьДанныеСчетов(ТаблицаСчетов, Группа, СчетаГруппы, КонтекстРаздела);
	ДополнитьГруппуДаннымиСчетов(Группа, СтрокиСчетов);

	Группа = Группы.Добавить();
	Группа.НаименованиеГруппы = НСтр("ru = 'Расходы будущих периодов';
									|en = 'Deferred expenses'");
	СчетаГруппы = НовыйСчетаГруппы();
	СчетаГруппы.СчетаРасчетов = "76.01.2, 76.01.9, 97";
	СчетаГруппы.Вставить("ОтборПоСубконто", ПланыВидовХарактеристик.ВидыСубконтоХозрасчетные.РасходыБудущихПериодов);
	СтрокиСчетов = ДобавитьДанныеСчетов(ТаблицаСчетов, Группа, СчетаГруппы, КонтекстРаздела);
	ДополнитьГруппуДаннымиСчетов(Группа, СтрокиСчетов);
	Группа.МеткаШаблонПорядокРасчета = "РБП";
	
	Группа = Группы.Добавить();
	Группа.НаименованиеГруппы = НСтр("ru = 'Выполненные этапы по незавершенным работам';
									|en = 'Выполненные этапы по незавершенным работам'");
	СчетаГруппы = НовыйСчетаГруппы();
	СчетаГруппы.СчетаРасчетов = "46";
	СтрокиСчетов = ДобавитьДанныеСчетов(ТаблицаСчетов, Группа, СчетаГруппы, КонтекстРаздела);
	ДополнитьГруппуДаннымиСчетов(Группа, СтрокиСчетов);
	
	Группа = Группы.Добавить();
	Группа.НаименованиеГруппы = НСтр("ru = 'Расчеты с факторинговыми компаниями';
									|en = 'Расчеты с факторинговыми компаниями'");
	СчетаГруппы = НовыйСчетаГруппы();
	СтрокиСчетов = ДобавитьДанныеСчетов(ТаблицаСчетов, Группа, СчетаГруппы, КонтекстРаздела);
	ДополнитьГруппуДаннымиСчетов(Группа, СтрокиСчетов);

	Группа = Группы.Добавить();
	Группа.НаименованиеГруппы = НСтр("ru = 'НДС, удержанный налоговым агентом с выданной предоплаты';
									|en = 'VAT withheld by tax agent from issued prepayment'");
	СчетаГруппы = НовыйСчетаГруппы();
	СчетаГруппы.СчетаРасчетов = "76.НА";
	СтрокиСчетов = ДобавитьДанныеСчетов(ТаблицаСчетов, Группа, СчетаГруппы, КонтекстРаздела);
	ДополнитьГруппуДаннымиСчетов(Группа, СтрокиСчетов);
	Группа.МеткаШаблонПорядокРасчета = "АПСчетаСальдо";
	
КонецПроцедуры

// Заполняет таблицу "Группы" и добавляет в таблицу счетов счета и имя группы
// 
// Параметры:
//  Группы  - см. НовыйГруппы
//  ТаблицаСчетов  - см. НовыйТаблицаСчетов
//  КонтекстРаздела  - см. КонтекстРазделаДебиторская
Процедура ЗаполнитьГруппыКредиторскойЗадолженности(Группы, ТаблицаСчетов, КонтекстРаздела)
		
	Группа = Группы.Добавить();
	Группа.НаименованиеГруппы = НСтр("ru = 'Расчеты с поставщиками и подрядчиками';
									|en = 'Расчеты с поставщиками и подрядчиками'");
	Группа.ОтразитьПроцентыПоРассрочке = Истина;
	СчетаГруппы = НовыйСчетаГруппы();
	СчетаГруппы.СчетаПоСрочности = "60";
	СтрокиСчетов = ДобавитьДанныеСчетов(ТаблицаСчетов, Группа, СчетаГруппы, КонтекстРаздела);
	ДополнитьГруппуДаннымиСчетов(Группа, СтрокиСчетов);
	
	Группа = Группы.Добавить();
	Группа.НаименованиеГруппы = НСтр("ru = 'Расчеты с покупателями и заказчиками';
									|en = 'Расчеты с покупателями и заказчиками'");
	Группа.ОтразитьНДСАвансовБезОбъектовУчета = Истина;
	СчетаГруппы = НовыйСчетаГруппы();
	СчетаГруппы.СчетаРасчетов = "62";
	СчетаГруппы.СчетаПоСрочности = "62.02, 62.22, 62.32";
	СтрокиСчетов = ДобавитьДанныеСчетов(ТаблицаСчетов, Группа, СчетаГруппы, КонтекстРаздела);
	ДополнитьГруппуДаннымиСчетов(Группа, СтрокиСчетов);
	
	Группа = Группы.Добавить();
	Группа.НаименованиеГруппы = НСтр("ru = 'Расчеты с прочими поставщиками и подрядчиками';
									|en = 'Settlements with other vendors and contractors'");
	СчетаГруппы = НовыйСчетаГруппы();
	СчетаГруппы.СчетаПоСрочности = "76.05, 76.25, 76.35";
	СтрокиСчетов = ДобавитьДанныеСчетов(ТаблицаСчетов, Группа, СчетаГруппы, КонтекстРаздела);
	ДополнитьГруппуДаннымиСчетов(Группа, СтрокиСчетов);

	Группа = Группы.Добавить();
	Группа.НаименованиеГруппы = НСтр("ru = 'Расчеты с прочими покупателями и заказчиками';
									|en = 'Settlements with other customers'");
	СчетаГруппы = НовыйСчетаГруппы();
	СчетаГруппы.СчетаПоСрочности = "76.06, 76.26, 76.36";
	СтрокиСчетов = ДобавитьДанныеСчетов(ТаблицаСчетов, Группа, СчетаГруппы, КонтекстРаздела);
	ДополнитьГруппуДаннымиСчетов(Группа, СтрокиСчетов);
	
	Группа = Группы.Добавить();
	Группа.НаименованиеГруппы = НСтр("ru = 'Расчеты с разными дебиторами и кредиторами';
									|en = 'Расчеты с разными дебиторами и кредиторами'");
	СчетаГруппы = НовыйСчетаГруппы();
	СчетаГруппы.СчетаРасчетов = "76";
	СчетаГруппы.СчетаПоСрочности = "76.03, 76.09, 76.29, 76.39, 76.К";
	СчетаГруппы.СчетаИсключения = "76.05, 76.25, 76.35, 76.06, 76.26, 76.36, 76.07, 76.ВА, 76.НА";
	СтрокиСчетов = ДобавитьДанныеСчетов(ТаблицаСчетов, Группа, СчетаГруппы, КонтекстРаздела);
	ДополнитьГруппуДаннымиСчетов(Группа, СтрокиСчетов);

	Группа = Группы.Добавить();
	Группа.НаименованиеГруппы = НСтр("ru = 'Краткосрочные кредиты';
									|en = 'Краткосрочные кредиты'");
	СчетаГруппы = НовыйСчетаГруппы();
	СчетаГруппы.СчетаРасчетов = "66.01, 66.21";
	СтрокиСчетов = ДобавитьДанныеСчетов(ТаблицаСчетов, Группа, СчетаГруппы, КонтекстРаздела);
	ДополнитьГруппуДаннымиСчетов(Группа, СтрокиСчетов);

	Группа = Группы.Добавить();
	Группа.НаименованиеГруппы = НСтр("ru = 'Краткосрочные займы';
									|en = 'Краткосрочные займы'");
	СчетаГруппы = НовыйСчетаГруппы();
	СчетаГруппы.СчетаРасчетов = "66.03, 66.23";
	СтрокиСчетов = ДобавитьДанныеСчетов(ТаблицаСчетов, Группа, СчетаГруппы, КонтекстРаздела);
	ДополнитьГруппуДаннымиСчетов(Группа, СтрокиСчетов);
	
	Группа = Группы.Добавить();
	Группа.НаименованиеГруппы = НСтр("ru = 'Проценты по займам и кредитам';
									|en = 'Credit and loan interest'");
	СчетаГруппы = НовыйСчетаГруппы();
	СчетаГруппы.СчетаРасчетов = "66.02, 66.04, 66.22, 66.24, 67.02, 67.04, 67.22, 67.24";
	СтрокиСчетов = ДобавитьДанныеСчетов(ТаблицаСчетов, Группа, СчетаГруппы, КонтекстРаздела);
	ДополнитьГруппуДаннымиСчетов(Группа, СтрокиСчетов);
	
	Группа = Группы.Добавить();
	Группа.НаименованиеГруппы = НСтр("ru = 'Долгосрочные кредиты';
									|en = 'Долгосрочные кредиты'");
	СчетаГруппы = НовыйСчетаГруппы();
	СчетаГруппы.СчетаДолгосрочные = "67.01, 67.21";
	СтрокиСчетов = ДобавитьДанныеСчетов(ТаблицаСчетов, Группа, СчетаГруппы, КонтекстРаздела);
	ДополнитьГруппуДаннымиСчетов(Группа, СтрокиСчетов);
	
	Группа = Группы.Добавить();
	Группа.НаименованиеГруппы = НСтр("ru = 'Долгосрочные займы';
									|en = 'Долгосрочные займы'");
	СчетаГруппы = НовыйСчетаГруппы();
	СчетаГруппы.СчетаДолгосрочные = "67.03, 67.23";
	СтрокиСчетов = ДобавитьДанныеСчетов(ТаблицаСчетов, Группа, СчетаГруппы, КонтекстРаздела);
	ДополнитьГруппуДаннымиСчетов(Группа, СтрокиСчетов);

	Группа = Группы.Добавить();
	Группа.НаименованиеГруппы = НСтр("ru = 'Расчеты по налогам и сборам';
									|en = 'Расчеты по налогам и сборам'");
	СчетаГруппы = НовыйСчетаГруппы();
	СчетаГруппы.СчетаРасчетов = "68";
	СчетаГруппы.СчетаИсключения = "68.02, 68.90, 68.04.2";
	СтрокиСчетов = ДобавитьДанныеСчетов(ТаблицаСчетов, Группа, СчетаГруппы, КонтекстРаздела);
	ДополнитьГруппуДаннымиСчетов(Группа, СтрокиСчетов);
	
	Группа = Группы.Добавить();
	Группа.НаименованиеГруппы = НСтр("ru = 'Расчеты по НДС, не отраженные на ЕНС';
									|en = 'Расчеты по НДС, не отраженные на ЕНС'");
	СчетаГруппы = НовыйСчетаГруппы();
	СчетаГруппы.СчетаРасчетов = "68.02";
	СтрокиСчетов = ДобавитьДанныеСчетов(ТаблицаСчетов, Группа, СчетаГруппы, КонтекстРаздела);
	ДополнитьГруппуДаннымиСчетов(Группа, СтрокиСчетов);

	Группа = Группы.Добавить();
	Группа.НаименованиеГруппы = НСтр("ru = 'Расчеты по ЕНС';
									|en = 'UTA settlements'");
	СчетаГруппы = НовыйСчетаГруппы();
	СчетаГруппы.СчетаРасчетов = "68.90";
	СтрокиСчетов = ДобавитьДанныеСчетов(ТаблицаСчетов, Группа, СчетаГруппы, КонтекстРаздела);
	ДополнитьГруппуДаннымиСчетов(Группа, СтрокиСчетов);

	Группа = Группы.Добавить();
	Группа.НаименованиеГруппы = НСтр("ru = 'Расчеты по социальному страхованию и обеспечению';
									|en = 'Расчеты по социальному страхованию и обеспечению'");
	СчетаГруппы = НовыйСчетаГруппы();
	СчетаГруппы.СчетаРасчетов = "69";
	СтрокиСчетов = ДобавитьДанныеСчетов(ТаблицаСчетов, Группа, СчетаГруппы, КонтекстРаздела);
	ДополнитьГруппуДаннымиСчетов(Группа, СтрокиСчетов);

	Группа = Группы.Добавить();
	Группа.НаименованиеГруппы = НСтр("ru = 'Расчеты с персоналом по оплате труда';
									|en = 'Расчеты с персоналом по оплате труда'");
	СчетаГруппы = НовыйСчетаГруппы();
	СчетаГруппы.СчетаРасчетов = "70";
	СтрокиСчетов = ДобавитьДанныеСчетов(ТаблицаСчетов, Группа, СчетаГруппы, КонтекстРаздела);
	ДополнитьГруппуДаннымиСчетов(Группа, СтрокиСчетов);

	Группа = Группы.Добавить();
	Группа.НаименованиеГруппы = НСтр("ru = 'Расчеты с подотчетными лицами';
									|en = 'AR/AP accounting for advance holders'");
	СчетаГруппы = НовыйСчетаГруппы();
	СчетаГруппы.СчетаРасчетов = "71";
	СтрокиСчетов = ДобавитьДанныеСчетов(ТаблицаСчетов, Группа, СчетаГруппы, КонтекстРаздела);
	ДополнитьГруппуДаннымиСчетов(Группа, СтрокиСчетов);

	Группа = Группы.Добавить();
	Группа.НаименованиеГруппы = НСтр("ru = 'Расчеты с персоналом по прочим операциям';
									|en = 'Расчеты с персоналом по прочим операциям'");
	СчетаГруппы = НовыйСчетаГруппы();
	СчетаГруппы.СчетаРасчетов = "73";
	СтрокиСчетов = ДобавитьДанныеСчетов(ТаблицаСчетов, Группа, СчетаГруппы, КонтекстРаздела);
	ДополнитьГруппуДаннымиСчетов(Группа, СтрокиСчетов);
	
	Группа = Группы.Добавить();
	Группа.НаименованиеГруппы = НСтр("ru = 'Расчеты по вкладам в уставный (складочный) капитал';
									|en = 'Расчеты по вкладам в уставный (складочный) капитал'");
	СчетаГруппы = НовыйСчетаГруппы();
	СчетаГруппы.СчетаРасчетов = "75";
	СтрокиСчетов = ДобавитьДанныеСчетов(ТаблицаСчетов, Группа, СчетаГруппы, КонтекстРаздела);
	ДополнитьГруппуДаннымиСчетов(Группа, СтрокиСчетов);
	
	Группа = Группы.Добавить();
	Группа.НаименованиеГруппы = НСтр("ru = 'Доходы, полученные в счет будущих периодов';
									|en = 'Доходы, полученные в счет будущих периодов'");
	СчетаГруппы = НовыйСчетаГруппы();
	СчетаГруппы.СчетаРасчетов = "98.01";
	СтрокиСчетов = ДобавитьДанныеСчетов(ТаблицаСчетов, Группа, СчетаГруппы, КонтекстРаздела);
	ДополнитьГруппуДаннымиСчетов(Группа, СтрокиСчетов);

	Группа = Группы.Добавить();
	Группа.НаименованиеГруппы = НСтр("ru = 'Безвозмездные поступления';
									|en = 'Безвозмездные поступления'");
	СчетаГруппы = НовыйСчетаГруппы();
	СчетаГруппы.СчетаДолгосрочные = "98.02";
	СтрокиСчетов = ДобавитьДанныеСчетов(ТаблицаСчетов, Группа, СчетаГруппы, КонтекстРаздела);
	ДополнитьГруппуДаннымиСчетов(Группа, СтрокиСчетов);

	Группа = Группы.Добавить();
	Группа.НаименованиеГруппы = НСтр("ru = 'Расчеты по возмещению материального ущерба';
									|en = 'Settlements of property damage compensation'");
	СчетаГруппы = НовыйСчетаГруппы();
	СчетаГруппы.СчетаДолгосрочные = "98.03, 98.04";
	СтрокиСчетов = ДобавитьДанныеСчетов(ТаблицаСчетов, Группа, СчетаГруппы, КонтекстРаздела);
	ДополнитьГруппуДаннымиСчетов(Группа, СтрокиСчетов);

КонецПроцедуры

Процедура ДополнитьГруппуДаннымиСчетов(Группа, СтрокиСчетов)
	
	ПоСрочности = Ложь;
	
	Для Каждого СтрокаСчета Из СтрокиСчетов Цикл
		
		Если Не ПоСрочности И СтрокаСчета.ПоСрочности Тогда
			ПоСрочности = Истина;
			Группа.ПоСрочности = Истина;
			// Если даже не указано, что счет отражается в долгосрочной части,
			// то устанавливаем признак в зависимости от срочности
			Группа.ОтражатьВДолгосрочной = Истина;
		КонецЕсли;
		
		Если СтрокаСчета.ОтражатьВКраткосрочной Тогда
			Группа.ОтражатьВКраткосрочной = Истина;
		КонецЕсли;
		
		Если СтрокаСчета.ОтражатьВДолгосрочной Тогда
			Группа.ОтражатьВДолгосрочной = Истина;
		КонецЕсли;

		СтрокаСчета.НаименованиеГруппы = Группа.НаименованиеГруппы;

	КонецЦикла;
	
КонецПроцедуры

Функция ОпределитьСчетаГруппыРаздела(Группа, СтрокиСчетов)

	СчетаГруппы = НовыйСчетаРасчетовГруппыРаздела();
	
	Для Каждого СтрокаСчета Из СтрокиСчетов Цикл
		
		СчетаГруппы.Счета.Добавить(СтрокаСчета.Счет);
		
		СчетаГруппы.СчетаРасчетов.Добавить(СтрокаСчета.ПредставлениеСчета);
		Если СтрокаСчета.ЭтоАктивныйСчет Тогда
			СчетаГруппы.СчетаРасчетовА.Добавить(СтрокаСчета.ПредставлениеСчета);
		ИначеЕсли СтрокаСчета.ЭтоПассивныйСчет Тогда
			СчетаГруппы.СчетаРасчетовП.Добавить(СтрокаСчета.ПредставлениеСчета);
		ИначеЕсли СтрокаСчета.ЭтоАктивноПассивныйСчет Тогда
			СчетаГруппы.СчетаРасчетовАП.Добавить(СтрокаСчета.ПредставлениеСчета);
		КонецЕсли;
	КонецЦикла;
	
	СчетаГруппы.МеткаШаблонПорядокРасчета = "Основной";
	Если ЗначениеЗаполнено(Группа.МеткаШаблонПорядокРасчета) Тогда
		СчетаГруппы.МеткаШаблонПорядокРасчета = Группа.МеткаШаблонПорядокРасчета;
	Иначе
		Если (ЗначениеЗаполнено(СчетаГруппы.СчетаРасчетовА) Или ЗначениеЗаполнено(СчетаГруппы.СчетаРасчетовП)) И ЗначениеЗаполнено(СчетаГруппы.СчетаРасчетовАП) Тогда
			СчетаГруппы.МеткаШаблонПорядокРасчета = "СмешанныеВидыСчетов";
		ИначеЕсли ЗначениеЗаполнено(СчетаГруппы.СчетаРасчетовАП) Тогда
			СчетаГруппы.МеткаШаблонПорядокРасчета = "АПСчета";
		КонецЕсли;
	КонецЕсли;
	
	Возврат СчетаГруппы;
	
КонецФункции

Функция НовыйСчетаРасчетовГруппыРаздела()
	
	СчетаГруппы = Новый Структура;
	СчетаГруппы.Вставить("МеткаШаблонПорядокРасчета", "");
	СчетаГруппы.Вставить("Счета",                   Новый СписокЗначений);
	СчетаГруппы.Вставить("СчетаРасчетов",           Новый Массив);
	СчетаГруппы.Вставить("СчетаРасчетовА",          Новый Массив);
	СчетаГруппы.Вставить("СчетаРасчетовП",          Новый Массив);
	СчетаГруппы.Вставить("СчетаРасчетовАП",         Новый Массив);
	
	Возврат СчетаГруппы;
КонецФункции

#КонецОбласти

Процедура ДополнитьКонтекстРаздела(КонтекстРаздела, КонтекстЗаполненияОтчета)
	
	КонтекстРаздела.Вставить("ИспользуетсяВалютныйУчет", БухгалтерскийУчетПереопределяемый.ИспользоватьВалютныйУчет());
	КонтекстРаздела.Вставить("ИспользуютсяСрокиОплатыПоставщики", Ложь);
	КонтекстРаздела.Вставить("ИспользуютсяСрокиОплатыПокупатели", Ложь);
	КонтекстРаздела.Вставить("ВидыДоговоровПоставщиков", ЗаполнениеБухгалтерскойОтчетностиПереопределяемый.ВидыДоговоровПоставщиков());
	КонтекстРаздела.Вставить("ВидыДоговоровПокупатели",  ЗаполнениеБухгалтерскойОтчетностиПереопределяемый.ВидыДоговоровПокупателей());
	КонтекстРаздела.Вставить("СрокОплатыПоставщикам", 0);
	КонтекстРаздела.Вставить("СрокОплатыПокупателей", 0);
	КонтекстРаздела.Вставить("КраткосрочныйПериодОтНачала", КонецМесяца(ДобавитьМесяц(НачалоМесяца(КонтекстЗаполненияОтчета.Период.Начало) - 1, 12)));
	КонтекстРаздела.Вставить("КраткосрочныйПериод", КонецМесяца(ДобавитьМесяц(КонтекстЗаполненияОтчета.Период.КонецДата, 12)));
	
	СчетаРасчетовПоАренде = Новый Массив;
	СчетаРасчетовПоАренде.Добавить(ПланыСчетов.Хозрасчетный.РасчетыПоАренде);
	КонтекстРаздела.Вставить("СчетаРасчетовПоАренде", СчетаРасчетовПоАренде);
	
	КонтекстРаздела.Вставить("ЕстьДисконтирование",  Ложь);
	КонтекстРаздела.Вставить("КонецПредыдущегоПериодаДата", КонецМесяца(НачалоМесяца(КонтекстЗаполненияОтчета.Период.Начало) - 1));
	КонтекстРаздела.Вставить("КонецПредыдущегоПериода", Новый МоментВремениСУточнениемПериода(КонтекстРаздела.КонецПредыдущегоПериодаДата, БухгалтерскийУчет.ВерхняяГраницаУточненияПериода()));
	
КонецПроцедуры

Функция СписокВидовСубконто()
	
	ВидыСубконто = Новый Структура;
	
	СубконтоКонтрагенты = Новый Массив;
	СубконтоКонтрагенты.Добавить(ПланыВидовХарактеристик.ВидыСубконтоХозрасчетные.Контрагенты);
	ВидыСубконто.Вставить("СубконтоКонтрагенты", СубконтоКонтрагенты);
	
	СубконтоКонтрагентыДоговоры = Новый Массив;
	СубконтоКонтрагентыДоговоры.Добавить(ПланыВидовХарактеристик.ВидыСубконтоХозрасчетные.Контрагенты);
	СубконтоКонтрагентыДоговоры.Добавить(ПланыВидовХарактеристик.ВидыСубконтоХозрасчетные.Договоры);
	ВидыСубконто.Вставить("СубконтоКонтрагентыДоговоры", СубконтоКонтрагентыДоговоры);
	
	СубконтоКонтрагентыДоговорыДокументы = Новый Массив;
	СубконтоКонтрагентыДоговорыДокументы.Добавить(ПланыВидовХарактеристик.ВидыСубконтоХозрасчетные.Контрагенты);
	СубконтоКонтрагентыДоговорыДокументы.Добавить(ПланыВидовХарактеристик.ВидыСубконтоХозрасчетные.Договоры);
	СубконтоКонтрагентыДоговорыДокументы.Добавить(ПланыВидовХарактеристик.ВидыСубконтоХозрасчетные.ДокументыРасчетовСКонтрагентами);
	ВидыСубконто.Вставить("СубконтоКонтрагентыДоговорыДокументы", СубконтоКонтрагентыДоговорыДокументы);
	
	СубконтоКонтрагентыРБП = Новый Массив;
	СубконтоКонтрагентыРБП.Добавить(ПланыВидовХарактеристик.ВидыСубконтоХозрасчетные.Контрагенты);
	СубконтоКонтрагентыРБП.Добавить(ПланыВидовХарактеристик.ВидыСубконтоХозрасчетные.РасходыБудущихПериодов);
	ВидыСубконто.Вставить("СубконтоКонтрагентыРБП", СубконтоКонтрагентыРБП);
	
	СубконтоРасходыБудущихПериодов = Новый Массив;
	СубконтоРасходыБудущихПериодов.Добавить(ПланыВидовХарактеристик.ВидыСубконтоХозрасчетные.РасходыБудущихПериодов);
	ВидыСубконто.Вставить("СубконтоРасходыБудущихПериодов", СубконтоРасходыБудущихПериодов);

	СубконтоПрочиеДоходыРасходы = Новый Массив;
	СубконтоПрочиеДоходыРасходы.Добавить(ПланыВидовХарактеристик.ВидыСубконтоХозрасчетные.ПрочиеДоходыИРасходы);
	ВидыСубконто.Вставить("СубконтоПрочиеДоходыРасходы", СубконтоПрочиеДоходыРасходы);

	СубконтоВидыПлатежей = Новый Массив;
	СубконтоВидыПлатежей.Добавить(ПланыВидовХарактеристик.ВидыСубконтоХозрасчетные.ВидыПлатежейВГосБюджет);
	ВидыСубконто.Вставить("СубконтоВидыПлатежей", СубконтоВидыПлатежей);
	
	СубконтоРаботники = Новый Массив;
	СубконтоРаботники.Добавить(ПланыВидовХарактеристик.ВидыСубконтоХозрасчетные.РаботникиОрганизаций);
	ВидыСубконто.Вставить("СубконтоРаботники", СубконтоРаботники);

	Возврат ВидыСубконто;
	
КонецФункции

Процедура ПерезаполнитьТаблицуРасчетнымиЗначениями(Таблица, СоответствиеКолонокСРасчетными)

	КолонкиГруппировок = "Организация, Счет, Субконто1, Субконто2, Субконто3, СовпадающиеЗаписи";
	ТаблицаГруппировки = Таблица.Скопировать(Новый Структура("СовпадающиеЗаписи", Истина), КолонкиГруппировок);
	ТаблицаГруппировки.Свернуть(КолонкиГруппировок);
	
	Если Не ЗначениеЗаполнено(ТаблицаГруппировки) Тогда
		Возврат;
	КонецЕсли;

	Для Каждого СтрокаГруппировки Из ТаблицаГруппировки Цикл
		
		Отбор = Новый Структура(КолонкиГруппировок);
		ЗаполнитьЗначенияСвойств(Отбор, СтрокаГруппировки);
		
		СтрокиТаблицы = Таблица.НайтиСтроки(Отбор);
		КоличествоСтрок = СтрокиТаблицы.Количество();
		
		ПорядковыйНомер = 1;
		СуммарныеЗначения = Новый Структура;
		Для Каждого ЭлементСоответствия Из СоответствиеКолонокСРасчетными Цикл
			СуммарныеЗначения.Вставить(ЭлементСоответствия.Ключ, 0);
		КонецЦикла;
		
		// Строки с пустым значением счета расчета
		СтрокаЭталон = СтрокиТаблицы[0];
		Отбор = Новый Структура;
		Отбор.Вставить("Организация", СтрокаЭталон.Организация);
		Отбор.Вставить("Счет", СтрокаЭталон.Счет);
		Отбор.Вставить("ДолгосрочнаяЗадолженность", Ложь);
		Отбор.Вставить("СчетРасчетов", ПланыСчетов.Хозрасчетный.ПустаяСсылка());
		СтрокиТаблицыБезСчетаРасчетов = Таблица.НайтиСтроки(Отбор);
		Если ЗначениеЗаполнено(СтрокиТаблицыБезСчетаРасчетов) Тогда
			СтрокаПустойСчетРасчета = СтрокиТаблицыБезСчетаРасчетов[0];
		Иначе
			СтрокаПустойСчетРасчета = Таблица.Добавить();
			ЗаполнитьЗначенияСвойств(СтрокаПустойСчетРасчета, Отбор);
		КонецЕсли;

		Для Каждого СтрокаТаблица Из СтрокиТаблицы Цикл
			
			Для Каждого ЭлементСоответствия Из СоответствиеКолонокСРасчетными Цикл
				КолонкаРасчета = ЭлементСоответствия.Ключ;
				КолонкаПропорции = ЭлементСоответствия.Значение;
				
				Если СтрокаПустойСчетРасчета[КолонкаРасчета] = Неопределено Тогда
					СтрокаПустойСчетРасчета[КолонкаРасчета] = 0;
				КонецЕсли;
				
				Если СтрокаТаблица[КолонкаРасчета] = 0 Тогда
					Продолжить;
				КонецЕсли;
				
				// Если суммарное значение показателей для расчета пропорции равняется нулю,
				// то всю сумму расчетного значения необходимо отнести к строке с пустым значением счета расчета
				Если СтрокаТаблица["Итого" + КолонкаПропорции] = 0 Тогда
					Если ПорядковыйНомер = 1 Тогда
						СтрокаПустойСчетРасчета[КолонкаРасчета] = СтрокаПустойСчетРасчета[КолонкаРасчета] + СтрокаТаблица[КолонкаРасчета];
					КонецЕсли;
					СтрокаТаблица[КолонкаРасчета] = 0;
					Продолжить;
				КонецЕсли;
				
				// Значения последней строки определяются вычитанием суммы рассчитанных значений из общей суммы
				Если ПорядковыйНомер = КоличествоСтрок Тогда
					СтрокаТаблица[КолонкаРасчета] = СтрокаТаблица[КолонкаРасчета] - СуммарныеЗначения[КолонкаРасчета];
				Иначе
					СтрокаТаблица[КолонкаРасчета] = Окр(СтрокаТаблица[КолонкаРасчета] * (СтрокаТаблица[КолонкаПропорции] / СтрокаТаблица["Итого" + КолонкаПропорции]), 2);
				КонецЕсли;
				
				СуммарныеЗначения[КолонкаРасчета] = СуммарныеЗначения[КолонкаРасчета] + СтрокаТаблица[КолонкаРасчета];
				
				// Проверка на превышение рассчитанных значений
				// например: если рассчитанное значение резерва по сомнительным долгам превышает сумму долга, тогда разницу необходимо отнести к строке с пустым значением счета расчета
				Если СтрокаТаблица[КолонкаРасчета] > СтрокаТаблица[КолонкаПропорции] Тогда
					СтрокаПустойСчетРасчета[КолонкаРасчета] = СтрокаПустойСчетРасчета[КолонкаРасчета] + (СтрокаТаблица[КолонкаРасчета] - СтрокаТаблица[КолонкаПропорции]);
					СтрокаТаблица[КолонкаРасчета] = СтрокаТаблица[КолонкаПропорции];
				КонецЕсли;

			КонецЦикла;
			ПорядковыйНомер = ПорядковыйНомер + 1;
		КонецЦикла;
		
	КонецЦикла;
	
	Показатели = Новый Массив;
	Для Каждого ЭлементСоответствия Из СоответствиеКолонокСРасчетными Цикл
		Показатели.Добавить(ЭлементСоответствия.Ключ);
	КонецЦикла;

	Таблица.Свернуть("Организация, Счет, ДолгосрочнаяЗадолженность, СчетРасчетов",СтрСоединить(Показатели, ","));
	
КонецПроцедуры

#Область НастройкиОтчетов

Функция НастройкиОСВПоСчету(ОсновныеНастройки, Счет)
	
	НастройкиРасшифровки = Новый Структура;
	НастройкиРасшифровки.Вставить("Организация",ОсновныеНастройки. Организация);
	
	НастройкиРасшифровки.Вставить("Отчет", Новый Структура);
	НастройкиРасшифровки.Отчет.Вставить("ИмяОтчета", "Отчет.ОборотноСальдоваяВедомостьПоСчету.Форма.ФормаОтчета");
	
	НастройкиРасшифровки.Отчет.Вставить("ПараметрыФормы", Новый Структура);
	НастройкиРасшифровки.Отчет.ПараметрыФормы.Вставить("РежимРасшифровки", Истина);
	НастройкиРасшифровки.Отчет.ПараметрыФормы.Вставить("ВидРасшифровки", 2); // из параметров формы
	НастройкиРасшифровки.Отчет.ПараметрыФормы.Вставить("СформироватьПриОткрытии", Истина);
	
	ПользовательскиеНастройки = Новый ПользовательскиеНастройкиКомпоновкиДанных;
	
	ПользовательскиеНастройки.ДополнительныеСвойства.Вставить("Организация",   ОсновныеНастройки.Организация);
	ПользовательскиеНастройки.ДополнительныеСвойства.Вставить("НачалоПериода", ОсновныеНастройки.НачалоПериода);
	ПользовательскиеНастройки.ДополнительныеСвойства.Вставить("КонецПериода",  ОсновныеНастройки.КонецПериодаДата);
	ПользовательскиеНастройки.ДополнительныеСвойства.Вставить("ВидПериода",    ОсновныеНастройки.ВидПериода);
	ПользовательскиеНастройки.ДополнительныеСвойства.Вставить("Счет",          Счет);
	ПользовательскиеНастройки.ДополнительныеСвойства.Вставить("ПоказательБУ",  Истина);
	ПользовательскиеНастройки.ДополнительныеСвойства.Вставить("Группировка",   Новый Массив);

	НастройкиРасшифровки.Отчет.Вставить("ПользовательскиеНастройки", ПользовательскиеНастройки);

	Возврат НастройкиРасшифровки;
КонецФункции

Функция НастройкиОСВПоСчетуРасчета(ОсновныеНастройки, СтрокаСчет, КонтекстРаздела)
	
	НастройкиРасшифровки = НастройкиОСВПоСчету(ОсновныеНастройки, СтрокаСчет.Счет);

	ПоКонтрагентамРазвернуто = (СтрокаСчет.ИмяНабора = "АПСчетаПоКонтрагентам");
	ПоДоговорамРазвернуто = (СтрокаСчет.ИмяНабора = "АПСчетаПоСрочностиПоДоговорам" Или СтрокаСчет.ИмяНабора = "АПСчетаПоДоговорам");
	ПоРаботникамРазвернуто = (СтрокаСчет.ИмяНабора ="АПСчетаПоРаботникам");
	ПоВидамПлатежейРазвернуто = (СтрокаСчет.ИмяНабора ="АПСчетаПоВидамПлатежей");
	
	Развернуто = ПоКонтрагентамРазвернуто Или ПоДоговорамРазвернуто Или ПоРаботникамРазвернуто Или ПоВидамПлатежейРазвернуто;
	НастройкиРасшифровки.Отчет.ПользовательскиеНастройки.ДополнительныеСвойства.Вставить("РазвернутоеСальдо", Развернуто);

	Отбор = НастройкиРасшифровки.Отчет.ПользовательскиеНастройки.Элементы.Добавить(Тип("ОтборКомпоновкиДанных"));
	Отбор.ИдентификаторПользовательскойНастройки = "Отбор";

	Если Развернуто Тогда
		ГруппаЭлементов = КомпоновкаДанныхКлиентСервер.ДобавитьГруппуОтбора(Отбор.Элементы, ТипГруппыЭлементовОтбораКомпоновкиДанных.ГруппаИли);
		
		ОтборыГруппыИли = Новый Массив;
		Если КонтекстРаздела.ВидЗадолженности = "ДебиторскаяЗадолженность" Тогда
			ОтборыГруппыИли.Добавить("СальдоНаНачалоПериода.БУНачальныйРазвернутыйОстатокДт");
			ОтборыГруппыИли.Добавить("СальдоНаКонецПериода.БУКонечныйРазвернутыйОстатокДт");
		ИначеЕсли КонтекстРаздела.ВидЗадолженности = "КредиторскаяЗадолженность" Тогда
			ОтборыГруппыИли.Добавить("СальдоНаНачалоПериода.БУНачальныйРазвернутыйОстатокКт");
			ОтборыГруппыИли.Добавить("СальдоНаКонецПериода.БУКонечныйРазвернутыйОстатокКт");
		КонецЕсли;
		
		Для Каждого ЭлементОтбора Из ОтборыГруппыИли Цикл
			БухгалтерскиеОтчетыКлиентСервер.ДобавитьОтбор(
				ГруппаЭлементов,
				ЭлементОтбора,
				0,
				ВидСравненияКомпоновкиДанных.НеРавно);
		КонецЦикла;
	КонецЕсли;
	
	// Отбор Исключаемые виды актива для авансов
	Если (СтрокаСчет.ИмяНабора = "СчетаПоСрочностиПоДокументамИВидуАктива" Или СтрокаСчет.ИмяНабора = "СчетаПоСрочностиПоДоговорамИВидуАктива")
		И КонтекстРаздела.Свойство("ИсключаемыеВидыАктиваАвансов") И ЗначениеЗаполнено(КонтекстРаздела.ИсключаемыеВидыАктиваАвансов) Тогда
		ИсключаемыеВидыАктива = Новый СписокЗначений;
		Для Каждого ВидАктива Из КонтекстРаздела.ИсключаемыеВидыАктиваАвансов Цикл
			ИсключаемыеВидыАктива.Добавить(ВидАктива);
		КонецЦикла;
		БухгалтерскиеОтчетыКлиентСервер.ДобавитьОтбор(
			Отбор,
			"Субконто2.ВидАктива",
			ИсключаемыеВидыАктива,
			ВидСравненияКомпоновкиДанных.НеВСписке);
	ИначеЕсли СтрокаСчет.ИмяНабора = "СчетаПоРБПиПоВидуАктива" Тогда
		БухгалтерскиеОтчетыКлиентСервер.ДобавитьОтбор(
			Отбор,
			"Субконто1.ВидАктива",
			КонтекстРаздела.ВидАктиваДебиторскаяЗадолженность,
			ВидСравненияКомпоновкиДанных.Равно);
	ИначеЕсли СтрокаСчет.ИмяНабора = "СчетаПоКонтрагентамРБПиПоВидуАктива" Тогда
		БухгалтерскиеОтчетыКлиентСервер.ДобавитьОтбор(
			Отбор,
			"Субконто2.ВидАктива",
			КонтекстРаздела.ВидАктиваДебиторскаяЗадолженность,
			ВидСравненияКомпоновкиДанных.Равно);
	КонецЕсли;

	// Группировки
	Если ПоКонтрагентамРазвернуто Тогда
		ПредставлениеСубконто = ПредставлениеСубконто(КонтекстРаздела.ВидыСубконтоСчетов, ПланыВидовХарактеристик.ВидыСубконтоХозрасчетные.Контрагенты, СтрокаСчет.Счет);
		ЗаполнениеРасшифровкаРегламентированнойОтчетности.ДобавитьГруппировкуВНастройкиОтчета(НастройкиРасшифровки, "Субконто1", ПредставлениеСубконто);
	ИначеЕсли ПоДоговорамРазвернуто Тогда
		ПредставлениеСубконто = ПредставлениеСубконто(КонтекстРаздела.ВидыСубконтоСчетов, ПланыВидовХарактеристик.ВидыСубконтоХозрасчетные.Контрагенты, СтрокаСчет.Счет);
		ЗаполнениеРасшифровкаРегламентированнойОтчетности.ДобавитьГруппировкуВНастройкиОтчета(НастройкиРасшифровки, "Субконто1", ПредставлениеСубконто);
		
		ПредставлениеСубконто = ПредставлениеСубконто(КонтекстРаздела.ВидыСубконтоСчетов, ПланыВидовХарактеристик.ВидыСубконтоХозрасчетные.Договоры, СтрокаСчет.Счет);
		ЗаполнениеРасшифровкаРегламентированнойОтчетности.ДобавитьГруппировкуВНастройкиОтчета(НастройкиРасшифровки, "Субконто2", ПредставлениеСубконто);
	ИначеЕсли ПоРаботникамРазвернуто Тогда
		ПредставлениеСубконто = ПредставлениеСубконто(КонтекстРаздела.ВидыСубконтоСчетов, ПланыВидовХарактеристик.ВидыСубконтоХозрасчетные.РаботникиОрганизаций, СтрокаСчет.Счет);
		ЗаполнениеРасшифровкаРегламентированнойОтчетности.ДобавитьГруппировкуВНастройкиОтчета(НастройкиРасшифровки, "Субконто1", ПредставлениеСубконто);
	ИначеЕсли ПоВидамПлатежейРазвернуто Тогда
		ПредставлениеСубконто = ПредставлениеСубконто(КонтекстРаздела.ВидыСубконтоСчетов, ПланыВидовХарактеристик.ВидыСубконтоХозрасчетные.ВидыПлатежейВГосБюджет, СтрокаСчет.Счет);
		ЗаполнениеРасшифровкаРегламентированнойОтчетности.ДобавитьГруппировкуВНастройкиОтчета(НастройкиРасшифровки, "Субконто1", ПредставлениеСубконто);
	КонецЕсли;
	
	Возврат НастройкиРасшифровки;

КонецФункции

Функция НастройкиАнализСчета(ОсновныеНастройки, Счет)
	
	НастройкиРасшифровки = Новый Структура;
	НастройкиРасшифровки.Вставить("Организация",ОсновныеНастройки. Организация);
	
	НастройкиРасшифровки.Вставить("Отчет", Новый Структура);
	НастройкиРасшифровки.Отчет.Вставить("ИмяОтчета", "Отчет.АнализСчета.Форма.ФормаОтчета");
	
	НастройкиРасшифровки.Отчет.Вставить("ПараметрыФормы", Новый Структура);
	НастройкиРасшифровки.Отчет.ПараметрыФормы.Вставить("РежимРасшифровки", Истина);
	НастройкиРасшифровки.Отчет.ПараметрыФормы.Вставить("ВидРасшифровки", 2); // из параметров формы
	НастройкиРасшифровки.Отчет.ПараметрыФормы.Вставить("СформироватьПриОткрытии", Истина);
	
	ПользовательскиеНастройки = Новый ПользовательскиеНастройкиКомпоновкиДанных;
	
	ПользовательскиеНастройки.ДополнительныеСвойства.Вставить("Организация",   ОсновныеНастройки.Организация);
	ПользовательскиеНастройки.ДополнительныеСвойства.Вставить("НачалоПериода", ОсновныеНастройки.НачалоПериода);
	ПользовательскиеНастройки.ДополнительныеСвойства.Вставить("КонецПериода",  ОсновныеНастройки.КонецПериодаДата);
	ПользовательскиеНастройки.ДополнительныеСвойства.Вставить("ВидПериода",    ОсновныеНастройки.ВидПериода);
	ПользовательскиеНастройки.ДополнительныеСвойства.Вставить("Счет",          Счет);
	ПользовательскиеНастройки.ДополнительныеСвойства.Вставить("ПоСубсчетамКорСчетов", Истина);
	ПользовательскиеНастройки.ДополнительныеСвойства.Вставить("ПоказательБУ",  Истина);
	
	НастройкиРасшифровки.Отчет.Вставить("ПользовательскиеНастройки", ПользовательскиеНастройки);

	Возврат НастройкиРасшифровки;
КонецФункции

Функция НастройкиАнализСчетаПоВидуПДР(ОсновныеНастройки, Счет, КорСчет, ВидПрочихДоходовИРасходов)
	
	НастройкиРасшифровки = НастройкиАнализСчета(ОсновныеНастройки, Счет);

	Отбор = НастройкиРасшифровки.Отчет.ПользовательскиеНастройки.Элементы.Добавить(Тип("ОтборКомпоновкиДанных"));
	Отбор.ИдентификаторПользовательскойНастройки = "Отбор";
	
	БухгалтерскиеОтчетыКлиентСервер.ДобавитьОтбор(
		Отбор,
		"Субконто1.ВидПрочихДоходовИРасходов",
		ВидПрочихДоходовИРасходов,
		ВидСравненияКомпоновкиДанных.Равно);
		
	БухгалтерскиеОтчетыКлиентСервер.ДобавитьОтбор(
		Отбор,
		"КорСчет",
		КорСчет,
		ВидСравненияКомпоновкиДанных.ВСписке);

	Возврат НастройкиРасшифровки;
	
КонецФункции

Функция ПредставлениеСубконто(ВидыСубконтоСчетов, Субконто, Счет)
	
	ВидыСубконтоОтбор = ВидыСубконтоСчетов.НайтиСтроки(Новый Структура("ВидСубконто, Счет", Субконто, Счет));
	
	Если ЗначениеЗаполнено(ВидыСубконтоОтбор) Тогда
		Возврат ВидыСубконтоОтбор[0].Представление;
	КонецЕсли;
	
	Возврат ОбщегоНазначения.ЗначениеРеквизитаОбъекта(Субконто, "Наименование");
	
КонецФункции

Функция ОсновныеНастройкиОтчета(Организация, КонтекстЗаполненияОтчета)
	
	ОсновныеНастройки = Новый Структура;
	ОсновныеНастройки.Вставить("Организация",   Организация);
	ОсновныеНастройки.Вставить("НачалоПериода", КонтекстЗаполненияОтчета.Период.Начало);
	ОсновныеНастройки.Вставить("КонецПериода",  КонтекстЗаполненияОтчета.Период.Конец);
	ОсновныеНастройки.Вставить("КонецПериодаДата",  КонтекстЗаполненияОтчета.Период.КонецДата);
	ОсновныеНастройки.Вставить("ВидПериода",    ЗаполнениеБухгалтерскойОтчетности.ВидПериодаСтандартногоОтчета(КонтекстЗаполненияОтчета.Период.Конец));
	Возврат ОсновныеНастройки;
	
КонецФункции

#КонецОбласти

#Область Счета

Функция СчетаВИерархии(ВидЗадолженности, Счета, СчетаИсключения = Неопределено)

	ВидыСчетов = Новый Массив;
	ВидыСчетов.Добавить(ВидСчета.АктивноПассивный);
	Если ВидЗадолженности= "ДебиторскаяЗадолженность" Тогда
		ВидыСчетов.Добавить(ВидСчета.Активный);
	ИначеЕсли ВидЗадолженности= "КредиторскаяЗадолженность" Тогда
		ВидыСчетов.Добавить(ВидСчета.Пассивный);
	КонецЕсли;
		
	Если СчетаИсключения = Неопределено Тогда
		СчетаИсключения = Новый Массив;
	КонецЕсли;
	
	Запрос = Новый Запрос;
	Запрос.УстановитьПараметр("Счета", Счета);
	Запрос.УстановитьПараметр("ВидыСчетов", ВидыСчетов);
	Запрос.УстановитьПараметр("СчетаИсключения", СчетаИсключения);
	
	Запрос.Текст =
	"ВЫБРАТЬ
	|	Хозрасчетный.Ссылка КАК Счет,
	|	Хозрасчетный.Представление КАК ПредставлениеСчета,
	|	Хозрасчетный.Вид КАК ВидСчета,
	|	Хозрасчетный.Порядок КАК ПорядокСчета,
	|	Хозрасчетный.Вид = ЗНАЧЕНИЕ(ВидСчета.Активный) КАК ЭтоАктивныйСчет,
	|	Хозрасчетный.Вид = ЗНАЧЕНИЕ(ВидСчета.Пассивный) КАК ЭтоПассивныйСчет,
	|	Хозрасчетный.Вид = ЗНАЧЕНИЕ(ВидСчета.АктивноПассивный) КАК ЭтоАктивноПассивныйСчет,
	|	Хозрасчетный.Валютный КАК Валютный
	|ИЗ
	|	ПланСчетов.Хозрасчетный КАК Хозрасчетный
	|ГДЕ
	|	Хозрасчетный.Ссылка В ИЕРАРХИИ(&Счета)
	|	И Хозрасчетный.Вид В(&ВидыСчетов)
	|	И НЕ Хозрасчетный.ЗапретитьИспользоватьВПроводках
	|	И НЕ Хозрасчетный.Ссылка В ИЕРАРХИИ (&СчетаИсключения)";
	
	Возврат Запрос.Выполнить().Выгрузить();
	
КонецФункции

Функция СчетаВСписке(ВидЗадолженности, Счета, СчетаИсключения = Неопределено)

	ВидыСчетов = Новый Массив;
	ВидыСчетов.Добавить(ВидСчета.АктивноПассивный);
	Если ВидЗадолженности= "ДебиторскаяЗадолженность" Тогда
		ВидыСчетов.Добавить(ВидСчета.Активный);
	ИначеЕсли ВидЗадолженности= "КредиторскаяЗадолженность" Тогда
		ВидыСчетов.Добавить(ВидСчета.Пассивный);
	КонецЕсли;

	Если СчетаИсключения = Неопределено Тогда
		СчетаИсключения = Новый Массив;
	КонецЕсли;
	
	Запрос = Новый Запрос;
	Запрос.УстановитьПараметр("Счета", Счета);
	Запрос.УстановитьПараметр("ВидыСчетов", ВидыСчетов);
	Запрос.УстановитьПараметр("СчетаИсключения", СчетаИсключения);
	
	Запрос.Текст =
	"ВЫБРАТЬ
	|	Хозрасчетный.Ссылка КАК Счет,
	|	Хозрасчетный.Представление КАК ПредставлениеСчета,
	|	Хозрасчетный.Вид КАК ВидСчета,
	|	Хозрасчетный.Порядок КАК ПорядокСчета,
	|	Хозрасчетный.Вид = ЗНАЧЕНИЕ(ВидСчета.Активный) КАК ЭтоАктивныйСчет,
	|	Хозрасчетный.Вид = ЗНАЧЕНИЕ(ВидСчета.Пассивный) КАК ЭтоПассивныйСчет,
	|	Хозрасчетный.Вид = ЗНАЧЕНИЕ(ВидСчета.АктивноПассивный) КАК ЭтоАктивноПассивныйСчет,
	|	Хозрасчетный.Валютный КАК Валютный
	|ИЗ
	|	ПланСчетов.Хозрасчетный КАК Хозрасчетный
	|ГДЕ
	|	Хозрасчетный.Ссылка В(&Счета)
	|	И Хозрасчетный.Вид В(&ВидыСчетов)
	|	И НЕ Хозрасчетный.Ссылка В ИЕРАРХИИ (&СчетаИсключения)";
	
	Возврат Запрос.Выполнить().Выгрузить();
	
КонецФункции

Функция СчетаПоСубконто(ВидЗадолженности, Счета, ВидСубконто)

	ВидыСчетов = Новый Массив;
	ВидыСчетов.Добавить(ВидСчета.АктивноПассивный);
	Если ВидЗадолженности= "ДебиторскаяЗадолженность" Тогда
		ВидыСчетов.Добавить(ВидСчета.Активный);
	ИначеЕсли ВидЗадолженности= "КредиторскаяЗадолженность" Тогда
		ВидыСчетов.Добавить(ВидСчета.Пассивный);
	КонецЕсли;
	
	Запрос = Новый Запрос;
	Запрос.УстановитьПараметр("Счета",       Счета);
	Запрос.УстановитьПараметр("ВидыСчетов",  ВидыСчетов);
	Запрос.УстановитьПараметр("ВидСубконто", ВидСубконто);
	Запрос.Текст =
	"ВЫБРАТЬ
	|	ХозрасчетныйВидыСубконто.Ссылка КАК Счет,
	|	Хозрасчетный.Представление КАК ПредставлениеСчета,
	|	Хозрасчетный.Вид КАК ВидСчета,
	|	Хозрасчетный.Порядок КАК ПорядокСчета,
	|	Хозрасчетный.Вид = ЗНАЧЕНИЕ(ВидСчета.Активный) КАК ЭтоАктивныйСчет,
	|	Хозрасчетный.Вид = ЗНАЧЕНИЕ(ВидСчета.Пассивный) КАК ЭтоПассивныйСчет,
	|	Хозрасчетный.Вид = ЗНАЧЕНИЕ(ВидСчета.АктивноПассивный) КАК ЭтоАктивноПассивныйСчет,
	|	Хозрасчетный.Валютный КАК Валютный
	|ИЗ
	|	ПланСчетов.Хозрасчетный.ВидыСубконто КАК ХозрасчетныйВидыСубконто
	|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ ПланСчетов.Хозрасчетный КАК Хозрасчетный
	|		ПО ХозрасчетныйВидыСубконто.Ссылка = Хозрасчетный.Ссылка
	|ГДЕ
	|	ХозрасчетныйВидыСубконто.Ссылка В ИЕРАРХИИ(&Счета)
	|	И ХозрасчетныйВидыСубконто.ВидСубконто = &ВидСубконто
	|	И ХозрасчетныйВидыСубконто.Суммовой
	|	И Хозрасчетный.Вид В(&ВидыСчетов)";
	
	Возврат Запрос.Выполнить().Выгрузить();
	
КонецФункции

Функция ВидыСубконтоСчетов(Счета)
	
	Запрос = Новый Запрос;
	Запрос.УстановитьПараметр("Счета", Счета);
	Запрос.Текст =
	"ВЫБРАТЬ
	|	ХозрасчетныйВидыСубконто.Ссылка КАК Счет,
	|	ХозрасчетныйВидыСубконто.НомерСтроки КАК НомерСтроки,
	|	ХозрасчетныйВидыСубконто.ВидСубконто КАК ВидСубконто,
	|	ХозрасчетныйВидыСубконто.ВидСубконто.Представление КАК Представление
	|ИЗ
	|	ПланСчетов.Хозрасчетный.ВидыСубконто КАК ХозрасчетныйВидыСубконто
	|ГДЕ
	|	ХозрасчетныйВидыСубконто.Ссылка В(&Счета)
	|	И ХозрасчетныйВидыСубконто.Суммовой
	|
	|УПОРЯДОЧИТЬ ПО
	|	Счет,
	|	НомерСтроки";
	Возврат Запрос.Выполнить().Выгрузить();
	
КонецФункции

Функция СчетаУчетаАвансовВыданных(ВидЗадолженности)
	
	СчетаАвансов = Новый Массив;

	Счета = Новый Массив;
	
	Счета.Добавить(ПланыСчетов.Хозрасчетный.РасчетыСПоставщикамиИПодрядчиками);    // 60
	
	Счета.Добавить(ПланыСчетов.Хозрасчетный.РасчетыСПрочимиПоставщикамиИПодрядчиками);    // 76.05
	Счета.Добавить(ПланыСчетов.Хозрасчетный.РасчетыСПрочимиПоставщикамиИПодрядчикамиВал); // 76.25
	Счета.Добавить(ПланыСчетов.Хозрасчетный.РасчетыСПрочимиПоставщикамиИПодрядчикамиУЕ);  // 76.35
	
	Счета.Добавить(ПланыСчетов.Хозрасчетный.ПрочиеРасчетыСРазнымиДебиторамиИКредиторами);    // 76.09
	Счета.Добавить(ПланыСчетов.Хозрасчетный.ПрочиеРасчетыСРазнымиДебиторамиИКредиторамиВал); // 76.29
	Счета.Добавить(ПланыСчетов.Хозрасчетный.ПрочиеРасчетыСРазнымиДебиторамиИКредиторамиУЕ);  // 76.39
	
	СчетаАвансов = СчетаВИерархии(ВидЗадолженности, Счета).ВыгрузитьКолонку("Счет");
	
	Возврат ЗаполнениеБухгалтерскойОтчетностиТабличное.СчетаПоСубконто(СчетаАвансов, ПланыВидовХарактеристик.ВидыСубконтоХозрасчетные.Договоры);
	
КонецФункции

Функция СчетаУчетаАвансовПолученных(ВидЗадолженности)
	
	СчетаАвансов = Новый Массив;

	Счета = Новый Массив;
	
	Счета.Добавить(ПланыСчетов.Хозрасчетный.РасчетыСПокупателямиИЗаказчиками);    // 62
	
	Счета.Добавить(ПланыСчетов.Хозрасчетный.РасчетыСПрочимиПокупателямиИЗаказчиками);    // 76.06
	Счета.Добавить(ПланыСчетов.Хозрасчетный.РасчетыСПрочимиПокупателямиИЗаказчикамиВал); // 76.26
	Счета.Добавить(ПланыСчетов.Хозрасчетный.РасчетыСПрочимиПокупателямиИЗаказчикамиУЕ);  // 76.36
	
	Счета.Добавить(ПланыСчетов.Хозрасчетный.ПрочиеРасчетыСРазнымиДебиторамиИКредиторами);    // 76.09
	Счета.Добавить(ПланыСчетов.Хозрасчетный.ПрочиеРасчетыСРазнымиДебиторамиИКредиторамиВал); // 76.29
	Счета.Добавить(ПланыСчетов.Хозрасчетный.ПрочиеРасчетыСРазнымиДебиторамиИКредиторамиУЕ);  // 76.39
	
	СчетаАвансов = СчетаВИерархии(ВидЗадолженности, Счета).ВыгрузитьКолонку("Счет");
	
	Возврат ЗаполнениеБухгалтерскойОтчетностиТабличное.СчетаПоСубконто(СчетаАвансов, ПланыВидовХарактеристик.ВидыСубконтоХозрасчетные.Договоры);
	
КонецФункции

Функция СчетаОбъектовРезервов(ВидЗадолженности)
	
	СчетаОбъектовРезервов = Новый Массив;
	
	Счета = Новый Массив;
	
	Счета.Добавить(ПланыСчетов.Хозрасчетный.РасчетыСПоставщикамиИПодрядчиками);     // 60
	Счета.Добавить(ПланыСчетов.Хозрасчетный.РасчетыСПокупателямиИЗаказчиками);      // 62
	Счета.Добавить(ПланыСчетов.Хозрасчетный.РасчетыСРазнымиДебиторамиИКредиторами); // 76
		
	СчетаИсключения = Новый Массив;
	// 76.АВ - Это контрпассивный счет
	СчетаИсключения.Добавить(ПланыСчетов.Хозрасчетный.НДСпоАвансамИПредоплатам);
	
	// 76.ОТ относится к строке баланса 1220
	СчетаИсключения.Добавить(ПланыСчетов.Хозрасчетный.НДСНачисленныйПоОтгрузке);
	
	СчетаИсключения.Добавить(ПланыСчетов.Хозрасчетный.РасчетыНДСНалоговогоАгента);
	СчетаИсключения.Добавить(ПланыСчетов.Хозрасчетный.КорректировкаРасчетовПрошлогоПериода);
	
	СчетаОбъектовРезервов = СчетаВИерархии(ВидЗадолженности, Счета, СчетаИсключения).ВыгрузитьКолонку("Счет");
	
	//76.07
	СчетаРасчетовПоАренде = Новый Массив; //добавляются только счета группы
	СчетаРасчетовПоАренде.Добавить(ПланыСчетов.Хозрасчетный.РасчетыПоАренде);
	
	ОбщегоНазначенияКлиентСервер.ДополнитьМассив(СчетаОбъектовРезервов, СчетаРасчетовПоАренде);

	Возврат ЗаполнениеБухгалтерскойОтчетностиТабличное.СчетаПоСубконто(СчетаОбъектовРезервов, ПланыВидовХарактеристик.ВидыСубконтоХозрасчетные.Договоры);

КонецФункции

Функция СчетаОбъектовПоРассрочке(ВидЗадолженности)
	
	СчетаОбъектовРезервов = Новый Массив;
	
	Счета = Новый Массив;
	
	Счета.Добавить(ПланыСчетов.Хозрасчетный.РасчетыСПоставщикамиИПодрядчиками); // 60
	
	СчетаОбъектов= СчетаВИерархии(ВидЗадолженности, Счета).ВыгрузитьКолонку("Счет");
	
	Возврат ЗаполнениеБухгалтерскойОтчетностиТабличное.СчетаПоСубконто(СчетаОбъектов, ПланыВидовХарактеристик.ВидыСубконтоХозрасчетные.Договоры);

КонецФункции

Функция ТаблицаСчетовАренды(КонтекстРаздела)
	
	ТаблицаСчетов = Новый ТаблицаЗначений;
	ТаблицаСчетов.Колонки.Добавить("СчетРодитель", Новый ОписаниеТипов("ПланСчетовСсылка.Хозрасчетный"));
	ТаблицаСчетов.Колонки.Добавить("Счет", Новый ОписаниеТипов("ПланСчетовСсылка.Хозрасчетный"));
	
	Для Каждого СчетРодитель Из КонтекстРаздела.СчетаРасчетовПоАренде Цикл
		СчетаВИерархии = БухгалтерскийУчетПовтИсп.СчетаВИерархии(СчетРодитель);
		Для Каждого Счет Из СчетаВИерархии Цикл
			СтрокаТаблицы = ТаблицаСчетов.Добавить();
			СтрокаТаблицы.СчетРодитель = СчетРодитель;
			СтрокаТаблицы.Счет = Счет;
		КонецЦикла;
	КонецЦикла;
	
	Возврат ТаблицаСчетов;
	
КонецФункции

#КонецОбласти

#КонецОбласти
