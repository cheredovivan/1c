//@strict-types

#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	НастроитьЭлементыФормы();
	СобытияФорм.ПриСозданииНаСервере(ЭтотОбъект, Отказ, СтандартнаяОбработка);
	
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиКомандФормы

&НаКлиенте
Процедура РазрешитьРедактирование(Команда)
	
	Результат = Новый Массив; // Массив из Строка
	Если РазрешитьИзменитьСвойство Тогда
		Результат.Добавить("СвойствоНоменклатуры");
	КонецЕсли;
	
	Закрыть(Результат);
	
КонецПроцедуры

&НаКлиенте
Процедура Подключаемый_ВыполнитьПереопределяемуюКоманду(Команда)
	
	СобытияФормКлиент.ВыполнитьПереопределяемуюКоманду(ЭтотОбъект, Команда);
	
КонецПроцедуры

#КонецОбласти

#Область СлужебныеПроцедурыИФункции

&НаСервере
Процедура НастроитьЭлементыФормы()
	
	ВидРетроБонусаИспользуется = Параметры.ВидРетроБонусаИспользуется;
	Элементы.ДекорацияРекомендация.Видимость = Параметры.ВидРетроБонусаИспользуется;
	ЭтоПолноправныйПользователь = Пользователи.ЭтоПолноправныйПользователь(Неопределено, Истина);
	
	Если ВидРетроБонусаИспользуется
	   И НЕ ЭтоПолноправныйПользователь Тогда
		
		МассивЭлементов = Новый Массив; // Массив из Строка
		МассивЭлементов.Добавить("РазрешитьРедактирование");
		МассивЭлементов.Добавить("РазрешитьИзменитьСвойство");
		ОбщегоНазначенияУТКлиентСервер.УстановитьСвойствоЭлементовФормы(Элементы, МассивЭлементов, "Доступность", Ложь);
		
	КонецЕсли;
	
КонецПроцедуры

#КонецОбласти
