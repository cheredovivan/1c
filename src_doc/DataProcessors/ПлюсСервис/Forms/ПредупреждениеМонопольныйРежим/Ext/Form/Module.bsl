#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	ЭтоУстановка = Параметры.ЭтоУстановка;
	ЭтоУдаление = Параметры.ЭтоУдаление;
	
	Если ЭтоУстановка Тогда
		Элементы.ПовторитьПопыткуУстановки.Заголовок = НСтр("ru = 'Повторить попытку установки'");
	ИначеЕсли ЭтоУдаление Тогда
		Элементы.ПовторитьПопыткуУстановки.Заголовок = НСтр("ru = 'Повторить попытку удаления'");
	Иначе
		Элементы.ПовторитьПопыткуУстановки.Заголовок = НСтр("ru = 'Повторить попытку восстановления'");
	КонецЕсли;
	
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиСобытийЭлементовШапкиФормы

&НаКлиенте
Процедура ТекстПредупрежденияОбработкаНавигационнойСсылки(Элемент, НавигационнаяСсылкаФорматированнойСтроки, СтандартнаяОбработка)
	СтандартнаяОбработка = Ложь;
	СтандартныеПодсистемыКлиент.ОткрытьСписокАктивныхПользователей();
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиКомандФормы

&НаКлиенте
Процедура ПовторитьПопыткуУстановки(Команда)
	
	Если УстановитьМонопольныйРежимНаСервере(ЭтоУстановка, ЭтоУдаление) Тогда
		Закрыть(Истина);
	КонецЕсли;	
	
КонецПроцедуры

&НаКлиенте
Процедура Отмена(Команда)
	Закрыть(Ложь);
КонецПроцедуры

#КонецОбласти

#Область СлужебныеПроцедурыИФункции

&НаСервереБезКонтекста
Функция УстановитьМонопольныйРежимНаСервере(ЭтоУстановка, ЭтоУдаление)
	
	Возврат Обработки.ПлюсСервис.УстановитьМонопольныйРежимНаСервере(ЭтоУстановка, ЭтоУдаление);
	
КонецФункции

#КонецОбласти
